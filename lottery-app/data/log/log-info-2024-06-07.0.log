24-06-07.20:20:10.358 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 51869 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.20:20:10.359 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.20:20:10.989 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.20:20:10.991 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.20:20:11.016 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
24-06-07.20:20:12.058 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.20:20:12.105 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.20:20:12.234 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.20:20:12.244 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.20:20:13.478 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.20:20:13.565 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.20:20:13.644 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.20:20:13.644 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.20:20:13.644 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717762813643
24-06-07.20:20:13.655 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.20:20:13.665 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.20:20:13.672 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.20:20:13.672 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.20:20:13.672 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717762813672
24-06-07.20:20:13.678 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.20:20:13.696 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.731 seconds (JVM running for 4.728)
24-06-07.20:20:13.904 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.20:20:13.942 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.20:20:14.059 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.20:20:14.059 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.20:20:14.062 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.20:20:14.062 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.20:20:14.063 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:20:14.063 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:20:14.211 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.20:20:14.374 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 2147483646 rack: null)
java.net.UnknownHostException: kafka: nodename nor servname provided, or not known
	at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
	at java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:867)
	at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1302)
	at java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:815)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.tryConnect(ConsumerNetworkClient.java:575)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:854)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:830)
	at org.apache.kafka.clients.consumer.internals.RequestFuture$1.onSuccess(RequestFuture.java:206)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.fireSuccess(RequestFuture.java:169)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.complete(RequestFuture.java:129)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient$RequestFutureCompletionHandler.fireCompletion(ConsumerNetworkClient.java:602)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.firePendingCompletedRequests(ConsumerNetworkClient.java:412)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:297)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:20:14.374 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 2147483646 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:850)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.tryConnect(ConsumerNetworkClient.java:575)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:854)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:830)
	at org.apache.kafka.clients.consumer.internals.RequestFuture$1.onSuccess(RequestFuture.java:206)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.fireSuccess(RequestFuture.java:169)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.complete(RequestFuture.java:129)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient$RequestFutureCompletionHandler.fireCompletion(ConsumerNetworkClient.java:602)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.firePendingCompletedRequests(ConsumerNetworkClient.java:412)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:297)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:20:14.376 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.20:20:14.376 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.20:20:14.382 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 2147483646 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.trySend(ConsumerNetworkClient.java:498)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:255)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.joinGroupIfNeeded(AbstractCoordinator.java:427)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureActiveGroup(AbstractCoordinator.java:366)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:516)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:20:14.382 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 2147483646 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.trySend(ConsumerNetworkClient.java:498)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:255)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.joinGroupIfNeeded(AbstractCoordinator.java:427)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureActiveGroup(AbstractCoordinator.java:366)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:516)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:20:14.383 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: true. Rediscovery will be attempted.
24-06-07.20:20:14.383 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:20:14.383 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:20:14.383 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.20:20:14.383 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: true. Rediscovery will be attempted.
24-06-07.20:20:14.383 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:20:14.383 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:20:14.383 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.20:20:14.385 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:20:14.385 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:20:14.385 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:20:14.385 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:20:14.389 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.20:20:14.389 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.20:20:14.389 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.20:20:14.390 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.20:20:14.390 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.20:20:14.390 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.20:20:14.401 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.20:20:14.402 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.20:20:14.403 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.20:20:14.403 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.20:24:20.762 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 56023 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.20:24:20.762 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.20:24:21.467 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.20:24:21.469 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.20:24:21.501 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
24-06-07.20:24:22.414 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.20:24:22.460 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.20:24:22.587 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.20:24:22.601 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.20:24:23.838 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.20:24:23.909 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.20:24:23.987 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.20:24:23.987 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.20:24:23.993 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717763063985
24-06-07.20:24:24.006 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.20:24:24.022 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.20:24:24.028 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.20:24:24.028 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.20:24:24.028 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717763064028
24-06-07.20:24:24.032 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.20:24:24.045 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.618 seconds (JVM running for 4.228)
24-06-07.20:24:24.263 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.20:24:24.304 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.20:24:24.514 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.20:24:24.514 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.20:24:24.516 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.20:24:24.516 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.20:24:24.517 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:24:24.517 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:24:24.522 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 2147483646 rack: null)
java.net.UnknownHostException: kafka: nodename nor servname provided, or not known
	at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
	at java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:867)
	at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1302)
	at java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:815)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.tryConnect(ConsumerNetworkClient.java:575)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:854)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:830)
	at org.apache.kafka.clients.consumer.internals.RequestFuture$1.onSuccess(RequestFuture.java:206)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.fireSuccess(RequestFuture.java:169)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.complete(RequestFuture.java:129)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient$RequestFutureCompletionHandler.fireCompletion(ConsumerNetworkClient.java:602)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.firePendingCompletedRequests(ConsumerNetworkClient.java:412)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:297)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:24:24.522 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 2147483646 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:850)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.tryConnect(ConsumerNetworkClient.java:575)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:854)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:830)
	at org.apache.kafka.clients.consumer.internals.RequestFuture$1.onSuccess(RequestFuture.java:206)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.fireSuccess(RequestFuture.java:169)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.complete(RequestFuture.java:129)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient$RequestFutureCompletionHandler.fireCompletion(ConsumerNetworkClient.java:602)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.firePendingCompletedRequests(ConsumerNetworkClient.java:412)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:297)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:24:24.522 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: false. Rediscovery will be attempted.
24-06-07.20:24:24.522 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Requesting disconnect from last known coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:24:24.522 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: false. Rediscovery will be attempted.
24-06-07.20:24:24.522 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Requesting disconnect from last known coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:24:24.627 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.trySend(ConsumerNetworkClient.java:498)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:255)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:24:24.628 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.trySend(ConsumerNetworkClient.java:498)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:255)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:24:24.648 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.20:24:24.728 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:24:24.728 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:24:24.829 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:24:24.830 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:24:24.946 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"2024-03-09 10:15:10","endDateTime":2025512110000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.20:24:24.946 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.20:24:24.985 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:24:24.985 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:24:24.986 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.20:24:24.986 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:24:24.986 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:24:24.986 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.20:24:24.993 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:24:24.993 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:24:24.995 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.20:24:24.996 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.20:24:24.996 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.20:24:24.998 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:24:24.998 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:24:24.999 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.20:24:24.999 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.20:24:24.999 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.20:24:25.022 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.20:24:25.023 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.20:24:25.023 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.20:24:25.023 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.20:28:13.529 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 59888 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.20:28:13.530 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.20:28:14.208 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.20:28:14.210 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.20:28:14.233 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
24-06-07.20:28:15.288 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.20:28:15.345 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.20:28:15.483 [redisson-netty-1-5] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.20:28:15.500 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.20:28:16.660 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.20:28:16.733 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.20:28:16.812 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.20:28:16.812 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.20:28:16.812 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717763296811
24-06-07.20:28:16.830 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.20:28:16.839 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.20:28:16.847 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.20:28:16.848 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.20:28:16.848 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717763296847
24-06-07.20:28:16.853 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.20:28:16.865 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.574 seconds (JVM running for 4.144)
24-06-07.20:28:17.050 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.20:28:17.079 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.20:28:17.203 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.20:28:17.203 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.20:28:17.206 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.20:28:17.206 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.20:28:17.207 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:28:17.207 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:28:17.211 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 2147483646 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:850)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.tryConnect(ConsumerNetworkClient.java:575)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:854)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:830)
	at org.apache.kafka.clients.consumer.internals.RequestFuture$1.onSuccess(RequestFuture.java:206)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.fireSuccess(RequestFuture.java:169)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.complete(RequestFuture.java:129)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient$RequestFutureCompletionHandler.fireCompletion(ConsumerNetworkClient.java:602)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.firePendingCompletedRequests(ConsumerNetworkClient.java:412)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:297)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:28:17.211 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 2147483646 rack: null)
java.net.UnknownHostException: kafka: nodename nor servname provided, or not known
	at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
	at java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:867)
	at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1302)
	at java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:815)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.tryConnect(ConsumerNetworkClient.java:575)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:854)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:830)
	at org.apache.kafka.clients.consumer.internals.RequestFuture$1.onSuccess(RequestFuture.java:206)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.fireSuccess(RequestFuture.java:169)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.complete(RequestFuture.java:129)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient$RequestFutureCompletionHandler.fireCompletion(ConsumerNetworkClient.java:602)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.firePendingCompletedRequests(ConsumerNetworkClient.java:412)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:297)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:28:17.212 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: false. Rediscovery will be attempted.
24-06-07.20:28:17.212 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Requesting disconnect from last known coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:28:17.212 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: false. Rediscovery will be attempted.
24-06-07.20:28:17.212 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Requesting disconnect from last known coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:28:17.316 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.trySend(ConsumerNetworkClient.java:498)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:255)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:28:17.316 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.trySend(ConsumerNetworkClient.java:498)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:255)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:28:17.393 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.20:28:17.416 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:28:17.417 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:28:17.517 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:28:17.568 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:28:17.612 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"2024-03-09 10:15:10","endDateTime":2025512110000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.20:28:17.612 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.20:28:17.639 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:28:17.639 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:28:17.639 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.20:28:17.639 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:28:17.639 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:28:17.639 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.20:28:17.640 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:28:17.640 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:28:17.640 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:28:17.641 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:28:17.641 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.20:28:17.641 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.20:28:17.641 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.20:28:17.643 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.20:28:17.644 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.20:28:17.646 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.20:28:17.646 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.20:28:17.647 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.20:28:17.656 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.20:28:17.656 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.20:43:23.256 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 74683 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.20:43:23.256 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.20:43:23.865 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.20:43:23.867 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.20:43:23.892 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
24-06-07.20:43:24.792 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.20:43:24.837 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.20:43:24.963 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.20:43:24.971 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.20:43:26.327 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.20:43:26.411 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.20:43:26.515 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.20:43:26.515 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.20:43:26.515 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717764206513
24-06-07.20:43:26.530 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.20:43:26.545 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.20:43:26.555 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.20:43:26.555 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.20:43:26.555 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717764206555
24-06-07.20:43:26.568 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.20:43:26.591 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.715 seconds (JVM running for 4.795)
24-06-07.20:43:26.820 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.20:43:26.856 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.20:43:27.026 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.20:43:27.026 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.20:43:27.028 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.20:43:27.028 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.20:43:27.029 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:43:27.029 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:43:27.037 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 2147483646 rack: null)
java.net.UnknownHostException: kafka: nodename nor servname provided, or not known
	at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
	at java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:867)
	at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1302)
	at java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:815)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.tryConnect(ConsumerNetworkClient.java:575)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:854)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:830)
	at org.apache.kafka.clients.consumer.internals.RequestFuture$1.onSuccess(RequestFuture.java:206)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.fireSuccess(RequestFuture.java:169)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.complete(RequestFuture.java:129)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient$RequestFutureCompletionHandler.fireCompletion(ConsumerNetworkClient.java:602)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.firePendingCompletedRequests(ConsumerNetworkClient.java:412)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:297)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:43:27.037 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 2147483646 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:850)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.tryConnect(ConsumerNetworkClient.java:575)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:854)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:830)
	at org.apache.kafka.clients.consumer.internals.RequestFuture$1.onSuccess(RequestFuture.java:206)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.fireSuccess(RequestFuture.java:169)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.complete(RequestFuture.java:129)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient$RequestFutureCompletionHandler.fireCompletion(ConsumerNetworkClient.java:602)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.firePendingCompletedRequests(ConsumerNetworkClient.java:412)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:297)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:43:27.038 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: false. Rediscovery will be attempted.
24-06-07.20:43:27.038 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: false. Rediscovery will be attempted.
24-06-07.20:43:27.039 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Requesting disconnect from last known coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:43:27.039 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Requesting disconnect from last known coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:43:27.141 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.trySend(ConsumerNetworkClient.java:498)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:255)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:43:27.141 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.trySend(ConsumerNetworkClient.java:498)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:255)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:43:27.182 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.20:43:27.241 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:43:27.242 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:43:27.343 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:43:27.347 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:43:27.437 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"2024-03-09 10:15:10","endDateTime":2025512110000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.20:43:27.437 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.20:43:27.464 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:43:27.464 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:43:27.464 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.20:43:27.464 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:43:27.464 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:43:27.464 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.20:43:27.466 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:43:27.467 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:43:27.467 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:43:27.467 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:43:27.468 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.20:43:27.469 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.20:43:27.469 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.20:43:27.470 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.20:43:27.470 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.20:43:27.471 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.20:43:27.497 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.20:43:27.498 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.20:43:27.499 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.20:43:27.499 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.20:55:04.409 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 86186 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.20:55:04.409 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.20:55:04.996 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.20:55:04.998 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.20:55:05.019 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
24-06-07.20:55:06.020 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.20:55:06.070 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.20:55:06.205 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.20:55:06.219 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.20:55:07.416 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.20:55:07.506 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.20:55:07.579 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.20:55:07.579 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.20:55:07.579 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717764907577
24-06-07.20:55:07.592 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.20:55:07.600 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.20:55:07.608 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.20:55:07.608 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.20:55:07.608 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717764907608
24-06-07.20:55:07.612 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.20:55:07.627 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.445 seconds (JVM running for 4.023)
24-06-07.20:55:07.840 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.20:55:07.868 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.20:55:07.957 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.20:55:07.957 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.20:55:07.959 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.20:55:07.959 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.20:55:07.959 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:55:07.959 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:55:07.964 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 2147483646 rack: null)
java.net.UnknownHostException: kafka: nodename nor servname provided, or not known
	at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
	at java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:867)
	at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1302)
	at java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:815)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.tryConnect(ConsumerNetworkClient.java:575)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:854)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:830)
	at org.apache.kafka.clients.consumer.internals.RequestFuture$1.onSuccess(RequestFuture.java:206)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.fireSuccess(RequestFuture.java:169)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.complete(RequestFuture.java:129)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient$RequestFutureCompletionHandler.fireCompletion(ConsumerNetworkClient.java:602)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.firePendingCompletedRequests(ConsumerNetworkClient.java:412)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:297)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:55:07.964 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 2147483646 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:850)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.tryConnect(ConsumerNetworkClient.java:575)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:854)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:830)
	at org.apache.kafka.clients.consumer.internals.RequestFuture$1.onSuccess(RequestFuture.java:206)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.fireSuccess(RequestFuture.java:169)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.complete(RequestFuture.java:129)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient$RequestFutureCompletionHandler.fireCompletion(ConsumerNetworkClient.java:602)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.firePendingCompletedRequests(ConsumerNetworkClient.java:412)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:297)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:55:07.964 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: false. Rediscovery will be attempted.
24-06-07.20:55:07.964 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Requesting disconnect from last known coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:55:07.964 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: false. Rediscovery will be attempted.
24-06-07.20:55:07.964 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Requesting disconnect from last known coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.20:55:08.070 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.trySend(ConsumerNetworkClient.java:498)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:255)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:55:08.070 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.trySend(ConsumerNetworkClient.java:498)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:255)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:55:08.124 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.20:55:08.170 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:55:08.171 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:55:08.271 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:55:08.271 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.20:55:08.347 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"2024-03-09 10:15:10","endDateTime":2025512110000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.20:55:08.347 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.20:55:08.375 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:55:08.375 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:55:08.376 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:55:08.376 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:55:08.376 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.20:55:08.376 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.20:55:08.377 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:55:08.377 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.20:55:08.377 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:55:08.377 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.20:55:08.379 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.20:55:08.379 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.20:55:08.380 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.20:55:08.380 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.20:55:08.380 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.20:55:08.381 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.20:55:08.394 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.20:55:08.395 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.20:55:08.395 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.20:55:08.395 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:10:51.713 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 2192 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:10:51.713 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:10:52.395 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:10:52.397 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:10:52.417 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.21:10:53.476 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:10:53.532 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:10:53.694 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:10:53.705 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:10:54.790 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:10:54.881 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:10:54.969 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:10:54.969 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:10:54.969 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717765854968
24-06-07.21:10:54.981 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:10:54.991 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:10:54.996 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:10:54.996 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:10:54.996 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717765854996
24-06-07.21:10:55.001 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:10:55.017 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.615 seconds (JVM running for 4.252)
24-06-07.21:10:55.189 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:10:55.211 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:10:55.334 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:10:55.334 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:10:55.337 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:10:55.337 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:10:55.338 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:10:55.338 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:10:55.341 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 2147483646 rack: null)
java.net.UnknownHostException: kafka: nodename nor servname provided, or not known
	at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
	at java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:867)
	at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1302)
	at java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:815)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.tryConnect(ConsumerNetworkClient.java:575)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:854)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:830)
	at org.apache.kafka.clients.consumer.internals.RequestFuture$1.onSuccess(RequestFuture.java:206)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.fireSuccess(RequestFuture.java:169)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.complete(RequestFuture.java:129)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient$RequestFutureCompletionHandler.fireCompletion(ConsumerNetworkClient.java:602)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.firePendingCompletedRequests(ConsumerNetworkClient.java:412)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:297)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.21:10:55.342 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: false. Rediscovery will be attempted.
24-06-07.21:10:55.342 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Requesting disconnect from last known coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:10:55.342 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 2147483646 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:850)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.tryConnect(ConsumerNetworkClient.java:575)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:854)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:830)
	at org.apache.kafka.clients.consumer.internals.RequestFuture$1.onSuccess(RequestFuture.java:206)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.fireSuccess(RequestFuture.java:169)
	at org.apache.kafka.clients.consumer.internals.RequestFuture.complete(RequestFuture.java:129)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient$RequestFutureCompletionHandler.fireCompletion(ConsumerNetworkClient.java:602)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.firePendingCompletedRequests(ConsumerNetworkClient.java:412)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:297)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.21:10:55.342 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: false. Rediscovery will be attempted.
24-06-07.21:10:55.342 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Requesting disconnect from last known coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:10:55.447 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.trySend(ConsumerNetworkClient.java:498)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:255)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.21:10:55.447 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.trySend(ConsumerNetworkClient.java:498)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:255)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.21:10:55.530 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:10:55.549 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.21:10:55.549 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.21:10:55.649 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.21:10:55.700 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Error connecting to node kafka:9092 (id: 1 rack: null)
java.net.UnknownHostException: kafka
	at java.net.InetAddress$CachedAddresses.get(InetAddress.java:764)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1291)
	at java.net.InetAddress.getAllByName(InetAddress.java:1144)
	at java.net.InetAddress.getAllByName(InetAddress.java:1065)
	at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27)
	at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511)
	at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468)
	at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173)
	at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:988)
	at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1161)
	at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1049)
	at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:558)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)
	at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:460)
	at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:488)
	at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)
	at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy161.poll(Unknown Source)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1531)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1521)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1345)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1257)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.21:10:55.757 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"2024-03-09 10:15:10","endDateTime":2025512110000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:10:55.757 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:10:55.788 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:10:55.789 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:10:55.789 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:10:55.789 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:10:55.789 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:10:55.789 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:10:55.790 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:10:55.790 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:10:55.790 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:10:55.790 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:10:55.792 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:10:55.792 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:10:55.792 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:10:55.793 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:10:55.793 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:10:55.793 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:10:55.804 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:10:55.804 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:10:55.806 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:10:55.806 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:11:27.517 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 2784 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:11:27.518 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:11:28.114 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:11:28.116 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:11:28.138 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
24-06-07.21:11:29.010 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:11:29.054 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:11:29.213 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:11:29.227 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:11:30.319 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:11:30.403 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:11:30.482 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:11:30.483 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:11:30.483 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717765890481
24-06-07.21:11:30.496 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:11:30.506 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:11:30.511 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:11:30.511 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:11:30.511 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717765890511
24-06-07.21:11:30.514 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:11:30.528 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.285 seconds (JVM running for 4.136)
24-06-07.21:11:30.707 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:11:30.734 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:11:30.817 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:11:30.817 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:11:30.818 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:11:30.819 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:11:30.819 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:11:30.819 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:11:30.823 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:11:30.823 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:11:30.965 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:11:31.122 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"2024-03-09 10:15:10","endDateTime":2025512110000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:11:31.122 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:11:31.135 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:11:31.135 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:11:31.135 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:11:31.135 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:11:31.135 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:11:31.135 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:11:31.137 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:11:31.137 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:11:31.137 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:11:31.137 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:11:39.039 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8182 ms.
24-06-07.21:11:39.041 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:11:39.042 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:11:39.042 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:11:39.042 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:11:39.047 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:11:39.047 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:11:41.566 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10738 ms.
24-06-07.21:11:41.569 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:11:41.572 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:11:41.572 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:11:41.572 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:11:41.578 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:11:41.579 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:12:35.745 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 3890 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:12:35.746 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:12:36.373 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:12:36.375 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:12:36.394 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.21:12:37.473 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:12:37.532 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:12:37.665 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:12:37.674 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:12:39.028 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:12:39.120 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:12:39.229 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:12:39.229 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:12:39.229 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717765959228
24-06-07.21:12:39.260 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:12:39.281 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:12:39.294 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:12:39.294 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:12:39.294 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717765959294
24-06-07.21:12:39.300 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:12:39.331 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.921 seconds (JVM running for 5.184)
24-06-07.21:12:39.546 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:12:39.574 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:12:39.722 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:12:39.722 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:12:39.724 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:12:39.724 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:12:39.726 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:12:39.726 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:12:39.731 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:12:39.732 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:12:39.877 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:12:40.149 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"2024-03-09 10:15:10","endDateTime":2025512110000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:12:40.149 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:13:22.582 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9120 ms.
24-06-07.21:13:22.583 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9142 ms.
24-06-07.21:13:22.589 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:13:22.589 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:13:22.638 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:13:22.638 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:13:22.638 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:13:22.638 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:13:22.639 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:13:22.639 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:13:22.641 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:13:22.641 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:13:22.641 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:13:22.642 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:13:22.645 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:13:22.645 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:13:22.645 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:13:22.645 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:13:22.648 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:13:22.648 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:13:22.656 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:13:22.658 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:13:22.664 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:13:22.665 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:13:24.534 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 4704 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:13:24.557 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:13:25.109 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:13:25.111 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:13:25.128 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
24-06-07.21:13:26.013 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:13:26.062 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:13:26.190 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:13:26.203 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:13:27.560 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:13:27.648 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:13:27.739 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:13:27.740 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:13:27.740 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766007738
24-06-07.21:13:27.753 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:13:27.761 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:13:27.772 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:13:27.772 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:13:27.772 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766007772
24-06-07.21:13:27.777 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:13:27.803 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.525 seconds (JVM running for 4.264)
24-06-07.21:13:28.049 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:13:28.091 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:13:28.201 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:13:28.201 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:13:28.203 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:13:28.203 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:13:28.204 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:13:28.204 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:13:28.209 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:13:28.209 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:13:28.396 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:13:28.595 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"2024-03-09 10:15:10","endDateTime":2025512110000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:13:28.595 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:14:00.121 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10969 ms.
24-06-07.21:14:00.121 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11494 ms.
24-06-07.21:14:00.123 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:14:00.124 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:14:00.164 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:14:00.165 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:14:00.165 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:14:00.164 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:14:00.165 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:14:00.165 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:14:00.174 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:14:00.175 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:14:00.175 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:14:00.175 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:14:00.176 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:14:00.176 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:14:00.176 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:14:00.185 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:14:00.186 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:14:00.186 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:14:00.189 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:14:00.194 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:14:00.196 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:14:00.196 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:14:02.204 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 5329 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:14:02.225 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:14:02.976 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:14:02.978 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:14:03.004 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
24-06-07.21:14:04.070 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:14:04.127 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:14:04.331 [redisson-netty-1-5] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:14:04.345 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:14:05.681 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:14:05.774 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:14:05.862 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:14:05.862 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:14:05.862 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766045861
24-06-07.21:14:05.877 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:14:05.887 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:14:05.900 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:14:05.900 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:14:05.901 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766045900
24-06-07.21:14:05.905 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:14:05.928 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 4.063 seconds (JVM running for 4.731)
24-06-07.21:14:06.133 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:14:06.168 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:14:06.271 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:14:06.271 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:14:06.273 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:14:06.273 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:14:06.277 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:14:06.277 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:14:06.281 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:14:06.281 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:14:06.428 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:14:06.589 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"2024-03-09 10:15:10","endDateTime":2025512110000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:14:06.589 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:14:09.440 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:14:09.440 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:14:09.440 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:14:09.440 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:14:09.440 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:14:09.440 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:14:09.443 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:14:09.443 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:14:09.444 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:14:09.444 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:14:15.823 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9501 ms.
24-06-07.21:14:15.824 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:14:15.825 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:14:15.825 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:14:15.826 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:14:15.831 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:14:15.831 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:14:17.542 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11244 ms.
24-06-07.21:14:17.542 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:14:17.543 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:14:17.543 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:14:17.543 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:14:17.548 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:14:17.548 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:14:21.033 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 5643 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:14:21.034 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:14:21.543 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:14:21.544 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:14:21.563 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.21:14:22.389 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:14:22.429 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:14:22.556 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:14:22.564 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:14:23.658 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:14:23.726 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:14:23.795 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:14:23.796 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:14:23.796 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766063795
24-06-07.21:14:23.807 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:14:23.815 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:14:23.821 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:14:23.822 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:14:23.822 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766063821
24-06-07.21:14:23.828 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:14:23.838 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.109 seconds (JVM running for 3.655)
24-06-07.21:14:23.994 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:14:24.028 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:14:24.117 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:14:24.117 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:14:24.118 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:14:24.118 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:14:24.119 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:14:24.119 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:14:24.124 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:14:24.124 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:14:24.260 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:14:24.440 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"2024-03-09 10:15:10","endDateTime":2025512110000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:14:24.440 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:14:24.459 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:14:24.459 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:14:24.459 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:14:24.459 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:14:24.459 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:14:24.459 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:14:24.460 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:14:24.460 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:14:24.460 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:14:24.460 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:14:36.189 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11972 ms.
24-06-07.21:14:36.189 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11988 ms.
24-06-07.21:14:36.192 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:14:36.193 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:14:36.195 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:14:36.195 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:14:36.195 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:14:36.195 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:14:36.195 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:14:36.196 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:14:36.208 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:14:36.209 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:14:36.209 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:14:36.209 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:14:43.528 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 6006 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:14:43.550 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:14:44.149 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:14:44.151 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:14:44.171 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
24-06-07.21:14:45.074 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:14:45.119 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:14:45.263 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:14:45.273 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:14:46.536 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:14:46.655 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:14:46.770 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:14:46.770 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:14:46.770 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766086768
24-06-07.21:14:46.797 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:14:46.823 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:14:46.841 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:14:46.841 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:14:46.841 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766086841
24-06-07.21:14:46.848 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:14:46.862 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.658 seconds (JVM running for 4.439)
24-06-07.21:14:47.029 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:14:47.064 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:14:47.166 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:14:47.166 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:14:47.168 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:14:47.168 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:14:47.170 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:14:47.170 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:14:47.174 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:14:47.175 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:14:47.330 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:14:47.502 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"2024-03-09 10:15:10","endDateTime":2025512110000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:14:47.503 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:15:38.520 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=51s77ms).
24-06-07.21:15:38.524 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11244 ms.
24-06-07.21:15:38.526 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8136 ms.
24-06-07.21:15:38.526 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:15:38.527 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:15:38.569 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:15:38.569 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:15:38.569 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:15:38.569 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:15:38.569 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:15:38.569 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:15:38.571 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:15:38.571 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:15:38.572 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:15:38.572 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:15:38.574 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:15:38.574 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:15:38.575 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:15:38.576 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:15:38.576 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:15:38.576 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:15:38.583 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:15:38.584 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:15:38.589 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:15:38.589 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:15:41.130 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 6962 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:15:41.148 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:15:41.678 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:15:41.680 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:15:41.697 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.21:15:42.567 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:15:42.616 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:15:42.759 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:15:42.769 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:15:44.115 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:15:44.199 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:15:44.274 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:15:44.275 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:15:44.275 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766144273
24-06-07.21:15:44.288 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:15:44.299 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:15:44.305 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:15:44.305 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:15:44.305 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766144305
24-06-07.21:15:44.311 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:15:44.331 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.526 seconds (JVM running for 4.281)
24-06-07.21:15:44.535 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:15:44.570 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:15:44.683 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:15:44.683 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:15:44.686 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:15:44.686 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:15:44.687 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:15:44.687 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:15:44.692 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:15:44.692 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:15:44.853 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:15:45.047 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"2024-03-09 10:15:10","endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:15:45.047 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:15:45.064 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:15:45.064 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:15:45.064 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:15:45.064 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:15:45.064 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:15:45.064 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:15:45.067 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:15:45.067 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:15:45.068 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:15:45.068 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:15:54.273 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9549 ms.
24-06-07.21:15:54.274 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:15:54.276 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:15:54.276 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:15:54.276 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:15:54.285 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:15:54.285 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:15:54.978 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10246 ms.
24-06-07.21:15:54.979 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:15:54.980 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:15:54.980 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:15:54.980 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:15:54.985 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:15:54.985 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:16:24.306 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 7666 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:16:24.307 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:16:25.060 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:16:25.063 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:16:25.092 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
24-06-07.21:16:26.156 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:16:26.207 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:16:26.336 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:16:26.345 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:16:27.620 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:16:27.709 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:16:27.804 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:16:27.805 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:16:27.805 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766187803
24-06-07.21:16:27.816 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:16:27.828 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:16:27.835 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:16:27.835 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:16:27.835 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766187835
24-06-07.21:16:27.845 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:16:27.871 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.987 seconds (JVM running for 4.648)
24-06-07.21:16:28.071 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:16:28.101 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:16:28.222 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:16:28.222 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:16:28.223 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:16:28.223 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:16:28.224 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:16:28.224 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:16:28.229 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:16:28.229 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:16:28.386 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:16:28.590 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"2024-03-09 10:15:10","endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:16:28.590 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:19:08.732 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=2m40s233ms).
24-06-07.21:19:08.760 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11518 ms.
24-06-07.21:19:08.760 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11436 ms.
24-06-07.21:19:08.771 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:19:08.772 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:19:08.790 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:19:08.790 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:19:08.790 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:19:08.790 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:19:08.790 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:19:08.790 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:19:08.792 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:19:08.792 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:19:08.792 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:19:08.792 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:19:08.794 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:19:08.794 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:19:08.794 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:19:08.794 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:19:08.794 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:19:08.794 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:19:08.809 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:19:08.810 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:19:08.811 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:19:08.811 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:19:10.732 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 10380 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:19:10.732 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:19:11.347 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:19:11.349 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:19:11.366 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
24-06-07.21:19:12.425 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:19:12.483 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:19:12.652 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:19:12.666 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:19:14.155 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:19:14.245 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:19:14.327 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:19:14.327 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:19:14.327 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766354326
24-06-07.21:19:14.340 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:19:14.350 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:19:14.356 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:19:14.356 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:19:14.356 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766354356
24-06-07.21:19:14.388 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:19:14.440 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 4.035 seconds (JVM running for 4.733)
24-06-07.21:19:14.680 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:19:14.706 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:19:14.742 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:19:14.742 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:19:14.744 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:19:14.744 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:19:14.746 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:19:14.746 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:19:14.750 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:19:14.750 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:19:14.944 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:20:09.381 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=1m24s423ms).
24-06-07.21:20:09.399 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9589 ms.
24-06-07.21:20:09.400 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9992 ms.
24-06-07.21:20:09.409 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:20:09.409 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:20:09.469 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:20:09.469 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:20:09.470 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:20:09.470 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:20:09.469 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:20:09.470 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:20:09.472 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:20:09.473 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:20:09.473 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:20:09.473 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:20:09.475 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:20:09.475 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:20:09.475 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:20:09.475 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:20:09.475 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:20:09.476 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:20:09.481 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:20:09.482 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:20:09.488 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:20:09.488 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:20:10.984 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 11364 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:20:11.001 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:20:11.521 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:20:11.523 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:20:11.542 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.21:20:12.458 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:20:12.506 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:20:12.650 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:20:12.659 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:20:14.183 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:20:14.273 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:20:14.366 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:20:14.366 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:20:14.367 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766414365
24-06-07.21:20:14.382 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:20:14.407 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:20:14.420 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:20:14.421 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:20:14.421 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766414420
24-06-07.21:20:14.434 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:20:14.461 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.75 seconds (JVM running for 4.29)
24-06-07.21:20:14.709 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:20:14.745 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:20:14.894 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:20:14.894 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:20:14.896 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:20:14.896 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:20:14.898 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:20:14.898 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:20:14.903 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:20:14.903 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:20:15.077 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:20:44.132 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=59s54ms).
24-06-07.21:20:44.138 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8118 ms.
24-06-07.21:20:44.141 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8907 ms.
24-06-07.21:20:44.141 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:20:44.141 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:20:44.194 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:20:44.194 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:20:44.194 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:20:44.195 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:20:44.195 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:20:44.195 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:20:44.198 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:20:44.198 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:20:44.198 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:20:44.198 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:20:44.200 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:20:44.200 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:20:44.200 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:20:44.201 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:20:44.201 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:20:44.201 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:20:44.211 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:20:44.212 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:20:44.213 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:20:44.213 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:20:46.203 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 11943 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:20:46.204 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:20:46.964 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:20:46.967 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:20:47.004 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
24-06-07.21:20:48.095 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:20:48.146 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:20:48.280 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:20:48.288 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:20:49.654 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:20:49.756 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:20:49.836 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:20:49.836 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:20:49.836 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766449835
24-06-07.21:20:49.850 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:20:49.862 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:20:49.874 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:20:49.874 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:20:49.875 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766449874
24-06-07.21:20:49.887 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:20:49.911 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 4.067 seconds (JVM running for 4.734)
24-06-07.21:20:50.094 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:20:50.140 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:20:50.251 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:20:50.252 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:20:50.252 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:20:50.252 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:20:50.253 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:20:50.253 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:20:50.260 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:20:50.260 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:20:50.400 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:20:56.355 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:20:56.355 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:20:56.355 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:20:56.355 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:20:56.356 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:20:56.356 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:20:56.364 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:20:56.364 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:20:56.364 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:20:56.365 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:20:56.455 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"2024-03-09 10:15:10","endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:20:56.455 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:21:00.319 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9976 ms.
24-06-07.21:21:00.323 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:21:00.327 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:21:00.327 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:21:00.327 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:21:00.342 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:21:00.343 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:21:01.836 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11494 ms.
24-06-07.21:21:01.837 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:21:01.840 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:21:01.840 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:21:01.841 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:21:01.847 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:21:01.848 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:21:14.850 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 12411 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:21:14.851 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:21:15.422 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:21:15.424 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:21:15.445 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.21:21:16.384 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:21:16.440 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:21:16.569 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:21:16.584 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:21:17.924 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:21:18.062 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:21:18.160 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:21:18.160 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:21:18.160 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766478158
24-06-07.21:21:18.194 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:21:18.208 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:21:18.217 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:21:18.218 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:21:18.218 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766478217
24-06-07.21:21:18.227 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:21:18.245 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.686 seconds (JVM running for 4.585)
24-06-07.21:21:18.430 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:21:18.457 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:21:18.540 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:21:18.540 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:21:18.541 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:21:18.541 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:21:18.542 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:21:18.542 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:21:18.546 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:21:18.546 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:21:18.697 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:22:16.730 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=1m28s31ms).
24-06-07.21:22:16.734 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8324 ms.
24-06-07.21:22:16.734 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9990 ms.
24-06-07.21:22:16.741 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:22:16.741 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:24:18.579 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 9657 ms.
24-06-07.21:24:18.580 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 9121 ms.
24-06-07.21:24:18.577 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=2m1s848ms).
24-06-07.21:24:18.645 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:24:18.646 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:24:18.646 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:24:18.646 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:24:18.646 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:24:18.646 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:24:18.649 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:24:18.650 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:24:18.655 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:24:18.655 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:24:18.655 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:24:18.655 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:24:18.655 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:24:18.657 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:24:18.657 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:24:18.658 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:24:18.680 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:24:18.683 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:24:18.684 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:24:18.684 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:24:20.533 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 15433 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:24:20.534 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:24:21.181 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:24:21.183 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:24:21.209 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
24-06-07.21:24:22.153 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:24:22.195 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:24:22.314 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:24:22.327 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:24:23.413 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:24:23.487 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:24:23.563 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:24:23.563 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:24:23.563 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766663562
24-06-07.21:24:23.575 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:24:23.587 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:24:23.594 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:24:23.594 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:24:23.594 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766663594
24-06-07.21:24:23.600 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:24:23.610 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.393 seconds (JVM running for 3.946)
24-06-07.21:24:23.753 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:24:23.775 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:24:23.885 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:24:23.885 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:24:23.886 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:24:23.886 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:24:23.887 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:24:23.887 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:24:23.891 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:24:23.891 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:24:24.023 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:24:24.164 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"2024-03-09 10:15:10","endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:24:24.164 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:24:24.177 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:24:24.177 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:24:24.177 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:24:24.177 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:24:24.177 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:24:24.177 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:24:24.177 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:24:24.178 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:24:24.178 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:24:24.178 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:24:34.117 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10188 ms.
24-06-07.21:24:34.120 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:24:34.123 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:24:34.123 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:24:34.125 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:24:34.134 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:24:34.135 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:24:34.216 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10291 ms.
24-06-07.21:24:34.216 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:24:34.217 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:24:34.217 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:24:34.217 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:24:34.226 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:24:34.226 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:24:39.113 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 15748 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:24:39.132 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:24:39.653 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:24:39.655 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:24:39.675 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.21:24:40.573 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:24:40.618 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:24:40.747 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:24:40.756 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:24:41.971 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:24:42.056 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:24:42.147 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:24:42.147 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:24:42.147 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766682146
24-06-07.21:24:42.159 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:24:42.168 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:24:42.172 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:24:42.172 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:24:42.172 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766682172
24-06-07.21:24:42.175 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:24:42.190 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.376 seconds (JVM running for 3.976)
24-06-07.21:24:42.354 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:24:42.376 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:24:42.441 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:24:42.441 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:24:42.443 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:24:42.443 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:24:42.444 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:24:42.444 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:24:42.447 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:24:42.447 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:24:42.611 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:26:51.483 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=2m38s866ms).
24-06-07.21:26:51.501 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9401 ms.
24-06-07.21:26:51.503 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11704 ms.
24-06-07.21:26:51.524 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:26:51.525 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:26:51.761 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:26:51.761 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:27:51.494 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=54s311ms).
24-06-07.21:27:51.495 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 9270 ms.
24-06-07.21:27:51.494 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 11532 ms.
24-06-07.21:28:04.398 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:28:04.398 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:28:04.398 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:28:04.398 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:28:04.398 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:28:04.398 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:28:04.400 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:28:04.400 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:28:04.400 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:28:04.400 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:28:04.403 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:28:04.403 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:28:04.404 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:28:04.404 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:28:04.404 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:28:04.404 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:28:04.415 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:28:04.416 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:28:04.418 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:28:04.418 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:28:12.140 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 19196 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:28:12.158 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:28:12.731 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:28:12.733 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:28:12.756 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
24-06-07.21:28:13.751 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:28:13.800 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:28:13.930 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:28:13.942 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:28:15.177 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:28:15.266 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:28:15.354 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:28:15.354 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:28:15.354 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766895352
24-06-07.21:28:15.366 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:28:15.375 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:28:15.382 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:28:15.382 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:28:15.382 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766895382
24-06-07.21:28:15.386 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:28:15.403 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.582 seconds (JVM running for 4.166)
24-06-07.21:28:15.631 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:28:15.664 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:28:15.764 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:28:15.764 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:28:15.765 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:28:15.765 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:28:15.766 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:28:15.766 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:28:15.770 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:28:15.770 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:28:15.918 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:28:16.085 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:28:16.085 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:29:51.171 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=1m35s145ms).
24-06-07.21:29:51.187 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8564 ms.
24-06-07.21:29:51.188 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8766 ms.
24-06-07.21:29:51.197 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:29:51.197 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:29:51.242 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:29:51.242 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:29:51.242 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:29:51.242 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:29:51.242 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:29:51.242 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:29:51.244 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:29:51.244 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:29:51.244 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:29:51.244 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:29:51.247 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:29:51.247 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:29:51.247 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:29:51.247 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:29:51.247 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:29:51.247 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:29:51.262 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:29:51.263 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:29:51.263 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:29:51.264 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:29:53.977 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 20850 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:29:53.996 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:29:54.638 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:29:54.640 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:29:54.661 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.21:29:55.591 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:29:55.636 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:29:55.775 [redisson-netty-1-5] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:29:55.788 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:29:57.224 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:29:57.310 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:29:57.400 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:29:57.400 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:29:57.400 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766997399
24-06-07.21:29:57.413 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:29:57.422 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:29:57.427 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:29:57.427 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:29:57.427 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717766997427
24-06-07.21:29:57.437 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:29:57.459 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.798 seconds (JVM running for 4.39)
24-06-07.21:29:57.705 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:29:57.739 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:29:57.846 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:29:57.848 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:29:57.850 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:29:57.850 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:29:57.851 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:29:57.851 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:29:57.857 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:29:57.857 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:29:58.023 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:29:58.180 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:29:58.180 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:29:58.194 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:29:58.194 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:29:58.194 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:29:58.195 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:29:58.195 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:29:58.195 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:29:58.195 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:29:58.195 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:29:58.196 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:29:58.196 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:30:09.055 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11103 ms.
24-06-07.21:30:09.059 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:30:09.061 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:30:09.061 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:30:09.061 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:30:09.068 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:30:09.070 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:30:09.355 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11431 ms.
24-06-07.21:30:09.356 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:30:09.358 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:30:09.358 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:30:09.358 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:30:09.365 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:30:09.365 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:30:17.711 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 21249 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:30:17.730 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:30:18.247 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:30:18.249 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:30:18.269 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
24-06-07.21:30:19.264 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:30:19.318 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:30:19.477 [redisson-netty-1-5] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:30:19.498 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:30:20.862 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:30:20.957 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:30:21.070 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:30:21.070 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:30:21.070 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717767021069
24-06-07.21:30:21.100 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:30:21.124 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:30:21.141 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:30:21.141 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:30:21.141 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717767021141
24-06-07.21:30:21.151 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:30:21.175 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.753 seconds (JVM running for 4.418)
24-06-07.21:30:21.381 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:30:21.419 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:30:21.556 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:30:21.556 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:30:21.558 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:30:21.558 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:30:21.559 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:30:21.560 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:30:21.564 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:30:21.564 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:30:21.741 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:30:21.935 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:30:21.935 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:30:58.972 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10570 ms.
24-06-07.21:30:58.972 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9135 ms.
24-06-07.21:30:58.977 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:30:58.977 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:30:59.006 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:30:59.006 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:30:59.007 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:30:59.007 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:30:59.007 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:30:59.007 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:30:59.009 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:30:59.009 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:30:59.009 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:30:59.009 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:30:59.011 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:30:59.011 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:30:59.011 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:30:59.012 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:30:59.012 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:30:59.012 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:30:59.028 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:30:59.029 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:30:59.029 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:30:59.029 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:31:01.893 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 21968 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:31:01.912 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:31:02.578 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:31:02.581 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:31:02.605 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
24-06-07.21:31:03.812 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:31:03.877 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:31:04.056 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:31:04.065 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:31:05.301 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:31:05.391 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:31:05.472 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:31:05.472 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:31:05.472 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717767065471
24-06-07.21:31:05.485 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:31:05.508 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:31:05.515 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:31:05.516 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:31:05.516 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717767065515
24-06-07.21:31:05.523 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:31:05.544 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.979 seconds (JVM running for 4.652)
24-06-07.21:31:05.747 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:31:05.775 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:31:05.881 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:31:05.881 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:31:05.883 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:31:05.883 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:31:05.884 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:31:05.884 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:31:05.888 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:31:05.888 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:31:06.071 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:31:06.241 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:31:06.241 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:31:06.241 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.21:31:06.258 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:31:06.258 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:31:06.258 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:31:06.258 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:31:06.258 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:31:06.258 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:31:06.259 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:31:06.259 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:31:06.259 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:31:06.259 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:31:15.054 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9104 ms.
24-06-07.21:31:15.055 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:31:15.056 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:31:15.056 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:31:15.056 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:31:15.063 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:31:15.063 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:31:16.670 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10716 ms.
24-06-07.21:31:16.670 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:31:16.671 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:31:16.671 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:31:16.671 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:31:16.673 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:31:16.673 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:33:41.710 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 24555 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:33:41.728 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:33:42.259 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:33:42.261 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:33:42.280 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.21:33:43.229 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:33:43.276 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:33:43.406 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:33:43.416 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:33:44.957 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:33:45.051 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:33:45.134 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:33:45.134 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:33:45.134 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717767225133
24-06-07.21:33:45.149 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:33:45.169 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:33:45.178 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:33:45.178 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:33:45.179 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717767225178
24-06-07.21:33:45.185 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:33:45.206 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.749 seconds (JVM running for 4.587)
24-06-07.21:33:45.486 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:33:45.532 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:33:45.653 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:33:45.653 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:33:45.655 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:33:45.655 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:33:45.656 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:33:45.656 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:33:45.660 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:33:45.660 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:33:45.862 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:33:46.066 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:33:46.066 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:33:46.066 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.21:34:00.079 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11846 ms.
24-06-07.21:34:00.079 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8338 ms.
24-06-07.21:34:00.081 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:34:00.081 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:34:15.715 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 8558 ms.
24-06-07.21:34:15.715 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 11595 ms.
24-06-07.21:34:15.752 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:34:15.752 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:34:15.752 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:34:15.752 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:34:15.753 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:34:15.753 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:34:15.755 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:34:15.755 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:34:15.756 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:34:15.756 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:34:15.757 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:34:15.757 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:34:15.758 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:34:15.758 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:34:15.759 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:34:15.759 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:34:15.775 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:34:15.776 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:34:15.778 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:34:15.779 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:34:17.830 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 25147 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:34:17.849 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:34:18.507 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:34:18.511 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:34:18.550 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
24-06-07.21:34:19.589 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:34:19.642 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:34:19.793 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:34:19.809 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:36:50.891 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 27669 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:36:50.892 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:36:51.425 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:36:51.427 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:36:51.446 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.21:36:52.344 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:36:52.385 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:36:52.506 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:36:52.516 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:36:53.634 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:36:53.706 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:36:53.771 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:36:53.771 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:36:53.771 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717767413770
24-06-07.21:36:53.784 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:36:53.797 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:36:53.802 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:36:53.803 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:36:53.803 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717767413802
24-06-07.21:36:53.810 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:36:53.821 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.172 seconds (JVM running for 3.625)
24-06-07.21:36:54.007 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:36:54.131 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:36:54.131 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:36:54.132 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:36:54.132 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:36:54.133 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:36:54.133 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:36:54.136 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:36:54.136 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:36:54.255 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:36:54.308 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 100000
24-06-07.21:36:54.326 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.21:36:54.327 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:36:54.461 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:36:54.461 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:36:54.461 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.21:36:54.492 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:36:54.492 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:36:54.492 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:36:54.493 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:36:54.493 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:36:54.493 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:36:54.494 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:36:54.494 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:36:54.494 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:36:54.494 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:37:02.904 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8757 ms.
24-06-07.21:37:02.906 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:37:02.907 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:37:02.907 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:37:02.907 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:37:02.913 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:37:02.913 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:37:04.417 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10233 ms.
24-06-07.21:37:04.417 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:37:04.418 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:37:04.418 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:37:04.418 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:37:04.421 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:37:04.422 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:40:06.842 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 30852 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:40:06.842 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:40:07.622 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:40:07.624 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:40:07.648 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
24-06-07.21:40:08.647 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:40:08.690 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:40:08.811 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:40:08.820 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:40:09.916 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:40:09.993 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:40:10.076 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:40:10.076 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:40:10.076 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717767610075
24-06-07.21:40:10.089 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:40:10.098 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:40:10.107 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:40:10.107 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:40:10.107 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717767610107
24-06-07.21:40:10.112 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:40:10.127 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.573 seconds (JVM running for 4.232)
24-06-07.21:40:10.328 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:40:10.430 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:40:10.430 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:40:10.431 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:40:10.431 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:40:10.432 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:40:10.432 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:40:10.436 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:40:10.436 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:40:10.585 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:40:10.639 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 100000
24-06-07.21:40:10.657 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.21:40:10.658 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:40:10.766 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:40:10.766 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:40:10.766 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.21:40:10.788 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:40:10.788 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:40:10.788 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:40:10.788 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:40:10.789 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:40:10.789 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:40:10.791 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:40:10.791 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:40:10.791 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:40:10.792 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:40:19.695 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9226 ms.
24-06-07.21:40:19.697 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:40:19.700 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:40:19.700 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:40:19.700 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:40:19.709 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:40:19.710 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:40:20.398 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9890 ms.
24-06-07.21:40:20.399 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:40:20.401 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:40:20.401 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:40:20.401 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:40:20.405 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:40:20.405 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:44:00.388 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 34638 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:44:00.388 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:44:01.021 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:44:01.023 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:44:01.048 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
24-06-07.21:44:02.058 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:44:02.110 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:44:02.243 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:44:02.252 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:44:03.520 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:44:03.613 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:44:03.699 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:44:03.700 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:44:03.700 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717767843698
24-06-07.21:44:03.712 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:44:03.722 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:44:03.728 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:44:03.728 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:44:03.728 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717767843728
24-06-07.21:44:03.734 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:44:03.753 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.716 seconds (JVM running for 4.552)
24-06-07.21:44:04.000 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:44:04.087 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:44:04.087 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:44:04.088 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:44:04.088 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:44:04.089 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:44:04.089 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:44:04.094 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:44:04.093 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:44:04.244 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:44:23.654 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=49s409ms).
24-06-07.21:44:23.657 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11006 ms.
24-06-07.21:44:23.659 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:44:23.659 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10486 ms.
24-06-07.21:44:23.659 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:44:23.700 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:44:23.700 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:44:23.700 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:44:23.700 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:44:23.700 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:44:23.700 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:44:23.702 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:44:23.702 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:44:23.702 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:44:23.703 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:44:23.705 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:44:23.705 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:44:23.705 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:44:23.705 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:44:23.705 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:44:23.706 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:44:23.717 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 100000
24-06-07.21:44:23.717 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:44:23.717 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:44:23.718 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:44:23.719 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:44:25.469 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 35056 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:44:25.469 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:44:26.020 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:44:26.022 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:44:26.041 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
24-06-07.21:44:26.966 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:44:27.007 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:44:27.153 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:44:27.162 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:44:28.529 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:44:28.606 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:44:28.675 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:44:28.675 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:44:28.675 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717767868674
24-06-07.21:44:28.687 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:44:28.697 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:44:28.707 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:44:28.707 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:44:28.707 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717767868707
24-06-07.21:44:28.711 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:44:28.721 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.47 seconds (JVM running for 4.119)
24-06-07.21:44:28.906 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:44:29.022 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:44:29.022 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:44:29.024 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:44:29.024 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:44:29.025 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:44:29.025 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:44:29.029 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:44:29.029 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:44:29.157 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:44:29.215 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 100000
24-06-07.21:44:29.237 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.21:44:29.238 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:44:29.409 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:44:29.409 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:44:29.410 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.21:44:29.442 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:44:29.442 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:44:29.442 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:44:29.442 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:44:29.442 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:44:29.442 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:44:29.443 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:44:29.443 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:44:29.444 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:44:29.444 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:44:39.046 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9933 ms.
24-06-07.21:44:39.047 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:44:39.048 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:44:39.048 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:44:39.048 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:44:39.052 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:44:39.053 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:44:40.558 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11433 ms.
24-06-07.21:44:40.559 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:44:40.559 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:44:40.559 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:44:40.559 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:44:40.561 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:44:40.561 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:45:32.944 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 36151 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:45:32.945 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:45:33.556 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:45:33.558 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:45:33.578 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
24-06-07.21:45:34.510 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:45:34.553 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:45:34.708 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:45:34.722 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:45:35.993 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:45:36.075 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:45:36.160 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:45:36.160 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:45:36.160 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717767936159
24-06-07.21:45:36.172 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:45:36.183 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:45:36.193 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:45:36.193 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:45:36.193 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717767936193
24-06-07.21:45:36.210 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:45:36.231 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.685 seconds (JVM running for 4.28)
24-06-07.21:45:36.452 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:45:36.566 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:45:36.566 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:45:36.567 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:45:36.567 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:45:36.568 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:45:36.568 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:45:36.572 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:45:36.572 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:45:36.723 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:45:36.776 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 100000
24-06-07.21:45:36.788 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.21:45:36.789 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:45:36.901 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:45:36.901 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:45:36.901 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.21:48:30.980 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=2m54s144ms).
24-06-07.21:48:30.998 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8196 ms.
24-06-07.21:48:30.999 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8576 ms.
24-06-07.21:48:31.006 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:48:31.006 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:48:31.044 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:48:31.045 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:48:31.045 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:48:31.045 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:48:31.045 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:48:31.045 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:48:31.051 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:48:31.051 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:48:31.051 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:48:31.051 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:48:31.053 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:48:31.053 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:48:31.053 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:48:31.054 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:48:31.054 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:48:31.054 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:48:31.073 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:48:31.074 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:48:31.075 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:48:31.080 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:48:37.816 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 39183 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:48:37.816 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:48:38.406 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:48:38.411 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:48:38.441 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
24-06-07.21:48:39.447 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:48:39.487 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:48:39.617 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:48:39.625 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:48:40.803 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:48:40.883 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:48:40.959 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:48:40.959 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:48:40.959 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717768120958
24-06-07.21:48:40.970 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:48:40.979 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:48:40.986 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:48:40.987 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:48:40.987 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717768120986
24-06-07.21:48:40.994 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:48:41.007 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.433 seconds (JVM running for 3.924)
24-06-07.21:48:41.187 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:48:41.284 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:48:41.285 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:48:41.286 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:48:41.286 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:48:41.286 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:48:41.287 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:48:41.291 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:48:41.291 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:48:41.420 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:48:41.480 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 100000
24-06-07.21:48:41.519 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.21:48:41.520 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:48:41.697 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:48:41.697 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:48:41.697 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.21:48:41.731 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:48:41.731 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:48:41.731 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:48:41.731 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:48:41.731 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:48:41.731 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:48:41.732 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:48:41.733 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:48:41.733 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:48:41.733 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:48:49.422 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8109 ms.
24-06-07.21:48:49.424 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:48:49.425 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:48:49.425 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:48:49.425 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:48:49.432 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:48:49.432 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:48:51.849 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10498 ms.
24-06-07.21:48:51.850 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:48:51.850 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:48:51.850 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:48:51.850 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:48:51.852 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:48:51.853 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:49:49.413 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 40343 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:49:49.414 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:49:50.086 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:49:50.088 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:49:50.109 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
24-06-07.21:49:51.164 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:49:51.223 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:49:51.355 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:49:51.385 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:49:52.908 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:49:53.005 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:49:53.098 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:49:53.098 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:49:53.098 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717768193097
24-06-07.21:49:53.112 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:49:53.126 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:49:53.134 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:49:53.134 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:49:53.134 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717768193134
24-06-07.21:49:53.145 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:49:53.175 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 4.085 seconds (JVM running for 5.164)
24-06-07.21:49:53.426 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:49:53.528 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:49:53.528 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:49:53.529 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:49:53.530 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:49:53.530 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:49:53.530 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:49:53.534 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:49:53.534 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:49:53.676 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:49:53.741 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 100000
24-06-07.21:49:53.765 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.21:49:53.765 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:49:53.926 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:49:53.926 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:49:53.926 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.21:50:05.979 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9000 ms.
24-06-07.21:50:05.980 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8457 ms.
24-06-07.21:50:05.981 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:50:05.982 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:50:18.798 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 9813 ms.
24-06-07.21:50:18.802 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 8739 ms.
24-06-07.21:50:32.185 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:50:32.185 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:50:32.185 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:50:32.185 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:50:32.185 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:50:32.185 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:50:32.187 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:50:32.187 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:50:32.187 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:50:32.187 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:50:32.189 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:50:32.189 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:50:32.189 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:50:32.189 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:50:32.189 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:50:32.190 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:50:32.202 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:50:32.202 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:50:32.203 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:50:32.203 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:50:34.407 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 41087 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:50:34.425 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:50:34.983 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:50:34.985 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:50:35.005 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
24-06-07.21:50:35.941 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:50:36.003 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:50:36.161 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:50:36.176 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:50:37.469 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:50:37.556 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:50:37.639 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:50:37.639 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:50:37.639 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717768237638
24-06-07.21:50:37.652 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:50:37.662 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:50:37.672 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:50:37.672 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:50:37.672 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717768237672
24-06-07.21:50:37.676 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:50:37.693 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.584 seconds (JVM running for 4.42)
24-06-07.21:50:37.905 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:50:38.047 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:50:38.047 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:50:38.050 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:50:38.050 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:50:38.051 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:50:38.051 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:50:38.056 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:50:38.056 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:50:38.183 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:50:38.241 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 100000
24-06-07.21:50:38.255 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.21:50:38.255 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:50:38.381 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:50:38.381 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:50:38.381 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.21:52:51.496 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=2m13s207ms).
24-06-07.21:52:51.508 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10609 ms.
24-06-07.21:52:51.510 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9055 ms.
24-06-07.21:52:51.519 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:52:51.519 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.21:52:51.562 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:52:51.562 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:52:51.562 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:52:51.562 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:52:51.563 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:52:51.563 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.21:52:51.567 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:52:51.567 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:52:51.567 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.21:52:51.567 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.21:52:51.567 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:52:51.567 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:52:51.568 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:52:51.568 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.21:52:51.568 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.21:52:51.568 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.21:52:51.590 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.21:52:51.591 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:52:51.593 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.21:52:51.593 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.21:52:54.723 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 43376 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.21:52:54.723 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.21:52:55.291 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.21:52:55.293 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.21:52:55.314 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
24-06-07.21:52:56.219 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.21:52:56.262 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.21:52:56.391 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:52:56.400 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.21:52:57.628 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.21:52:57.711 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:52:57.789 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:52:57.789 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:52:57.789 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717768377788
24-06-07.21:52:57.811 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:52:57.822 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.21:52:57.826 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.21:52:57.827 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.21:52:57.827 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717768377826
24-06-07.21:52:57.830 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.21:52:57.842 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.393 seconds (JVM running for 4.037)
24-06-07.21:52:58.076 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.21:52:58.209 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:52:58.209 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.21:52:58.211 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:52:58.211 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.21:52:58.212 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:52:58.212 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.21:52:58.215 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.21:52:58.215 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.21:52:58.346 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.21:52:58.377 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 100000
24-06-07.21:52:58.420 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.21:52:58.421 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.21:52:58.554 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.21:52:58.554 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.21:52:58.554 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:01:38.657 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=8m40s208ms).
24-06-07.22:01:38.677 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8640 ms.
24-06-07.22:01:38.677 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9124 ms.
24-06-07.22:01:38.680 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:01:38.682 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:01:38.682 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:01:38.718 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:01:38.718 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:01:38.718 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:01:38.718 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:01:38.718 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:01:38.718 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:01:38.719 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:01:38.719 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:01:38.719 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:01:38.719 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:01:38.721 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:01:38.721 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:01:38.721 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:01:38.721 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:01:38.721 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:01:38.721 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:01:38.727 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:01:38.728 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:01:38.734 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:01:38.734 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:01:40.851 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 51918 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:01:40.852 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:01:41.599 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:01:41.600 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:01:41.620 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.22:01:42.591 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:01:42.636 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:01:42.759 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:01:42.768 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:01:43.859 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:01:43.925 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:01:43.991 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:01:43.991 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:01:43.991 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717768903990
24-06-07.22:01:44.007 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:01:44.015 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:01:44.023 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:01:44.024 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:01:44.024 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717768904023
24-06-07.22:01:44.028 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:01:44.043 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.533 seconds (JVM running for 4.134)
24-06-07.22:01:44.236 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:01:44.313 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:01:44.314 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:01:44.314 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:01:44.315 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:01:44.315 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:01:44.315 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:01:44.318 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:01:44.318 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:01:44.442 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:01:44.470 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 100000
24-06-07.22:01:44.500 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:01:44.500 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.22:01:44.606 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:01:44.606 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:01:44.606 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:01:44.610 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_99999
24-06-07.22:01:44.627 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:01:44.627 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:01:44.627 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:01:44.627 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:01:44.627 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:01:44.627 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:01:44.629 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:01:44.629 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:01:44.629 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:01:44.629 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:01:54.547 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10153 ms.
24-06-07.22:01:54.548 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:01:54.550 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:01:54.550 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:01:54.550 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:01:54.559 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:01:54.559 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:01:55.654 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11282 ms.
24-06-07.22:01:55.655 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:01:55.656 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:01:55.656 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:01:55.657 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:01:55.662 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:01:55.662 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:02:42.871 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 52926 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:02:42.872 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:02:43.451 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:02:43.453 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:02:43.474 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
24-06-07.22:02:44.541 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:02:44.593 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:02:44.723 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:02:44.731 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:02:46.126 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:02:46.267 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:02:46.396 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:02:46.397 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:02:46.397 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717768966395
24-06-07.22:02:46.424 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:02:46.442 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:02:46.449 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:02:46.449 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:02:46.449 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717768966449
24-06-07.22:02:46.455 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:02:46.470 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.871 seconds (JVM running for 4.741)
24-06-07.22:02:46.737 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:02:46.896 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:02:46.896 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:02:46.898 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:02:46.898 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:02:46.900 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:02:46.900 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:02:46.905 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:02:46.905 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:02:47.094 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:02:47.129 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 100000
24-06-07.22:02:47.185 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:02:47.186 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.22:02:47.384 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:02:47.384 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:02:47.384 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:03:51.469 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9991 ms.
24-06-07.22:03:51.470 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10562 ms.
24-06-07.22:04:02.905 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:04:02.905 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:04:07.163 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:04:07.204 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:04:07.204 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:04:07.204 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:04:07.204 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:04:07.204 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:04:07.204 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:04:07.208 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:04:07.208 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:04:07.208 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:04:07.208 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:04:07.210 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:04:07.210 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:04:07.211 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:04:07.211 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:04:07.211 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:04:07.211 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:04:07.218 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:04:07.218 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:04:07.219 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:04:07.219 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:04:09.422 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 54333 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:04:09.422 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:04:09.920 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:04:09.922 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:04:09.940 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
24-06-07.22:04:10.776 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:04:10.816 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:04:10.939 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:04:10.948 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:04:12.013 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:04:12.081 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:04:12.148 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:04:12.148 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:04:12.148 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769052147
24-06-07.22:04:12.158 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:04:12.173 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:04:12.177 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:04:12.177 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:04:12.177 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769052176
24-06-07.22:04:12.182 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:04:12.191 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.043 seconds (JVM running for 3.762)
24-06-07.22:04:12.356 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:04:12.473 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:04:12.473 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:04:12.475 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:04:12.475 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:04:12.477 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:04:12.477 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:04:12.480 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:04:12.480 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:04:12.602 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:04:12.631 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 100000
24-06-07.22:04:12.661 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:04:12.662 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.22:04:12.765 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:04:12.766 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:04:12.766 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:04:12.770 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_99999
24-06-07.22:04:12.780 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:04:12.780 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:04:12.780 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:04:12.780 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:04:12.780 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:04:12.781 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:04:12.782 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:04:12.782 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:04:12.783 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:04:12.783 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:04:20.579 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8000 ms.
24-06-07.22:04:20.582 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:04:20.586 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:04:20.586 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:04:20.586 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:04:20.597 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:04:20.598 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:04:22.603 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10082 ms.
24-06-07.22:04:22.604 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:04:22.605 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:04:22.606 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:04:22.606 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:04:22.611 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:04:22.612 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:04:27.714 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 54638 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:04:27.715 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:04:28.421 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:04:28.423 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:04:28.448 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
24-06-07.22:04:29.470 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:04:29.514 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:04:29.691 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:04:29.706 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:04:31.056 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:04:31.160 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:04:31.245 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:04:31.246 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:04:31.246 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769071244
24-06-07.22:04:31.259 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:04:31.272 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:04:31.285 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:04:31.285 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:04:31.285 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769071285
24-06-07.22:04:31.291 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:04:31.316 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.898 seconds (JVM running for 4.483)
24-06-07.22:04:31.514 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:04:31.625 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:04:31.625 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:04:31.628 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:04:31.628 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:04:31.630 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:04:31.630 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:04:31.635 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:04:31.635 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:04:31.766 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:04:31.795 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 100000
24-06-07.22:04:31.845 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:04:31.846 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.22:04:31.973 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:04:31.974 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:04:31.974 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:04:31.977 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:04:31.995 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:04:31.995 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:04:31.995 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:04:31.996 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:04:31.996 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:04:31.996 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:04:31.997 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:04:31.997 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:04:31.998 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:04:31.998 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:04:39.686 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8020 ms.
24-06-07.22:04:39.688 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:04:39.690 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:04:39.690 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:04:39.690 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:04:39.698 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:04:39.699 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:04:43.324 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11630 ms.
24-06-07.22:04:43.324 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:04:43.325 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:04:43.325 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:04:43.325 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:04:43.329 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:04:43.329 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:06:03.079 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 56180 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:06:03.080 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:06:03.700 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:06:03.702 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:06:03.722 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.22:06:04.750 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:06:04.813 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:06:04.944 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:06:04.957 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:06:06.427 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:06:06.515 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:06:06.612 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:06:06.612 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:06:06.612 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769166611
24-06-07.22:06:06.623 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:06:06.633 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:06:06.639 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:06:06.639 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:06:06.639 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769166639
24-06-07.22:06:06.647 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:06:06.667 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.95 seconds (JVM running for 5.246)
24-06-07.22:06:06.958 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:06:07.102 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:06:07.102 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:06:07.104 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:06:07.104 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:06:07.105 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:06:07.105 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:06:07.111 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:06:07.111 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:06:07.296 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:06:07.337 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 100000
24-06-07.22:06:07.392 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:06:07.392 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.22:06:07.543 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:06:07.543 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:06:07.543 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:06:07.546 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:06:15.754 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8161 ms.
24-06-07.22:06:15.759 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:06:15.785 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:06:15.785 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:06:15.785 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:06:15.785 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:06:15.785 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:06:15.785 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:06:15.787 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:06:15.787 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:06:15.787 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:06:15.787 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:06:15.789 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:06:15.789 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:06:15.789 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:06:15.799 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:06:15.800 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:06:17.710 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10599 ms.
24-06-07.22:06:17.711 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:06:17.713 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:06:17.714 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:06:17.714 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:06:17.722 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:06:17.722 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:06:41.106 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 56842 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:06:41.106 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:06:41.656 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:06:41.658 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:06:41.688 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
24-06-07.22:06:42.593 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:06:42.636 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:06:42.924 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:06:42.936 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:06:44.027 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:06:44.116 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:06:44.194 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:06:44.195 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:06:44.195 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769204193
24-06-07.22:06:44.206 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:06:44.216 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:06:44.220 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:06:44.220 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:06:44.220 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769204220
24-06-07.22:06:44.226 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:06:44.241 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.406 seconds (JVM running for 3.901)
24-06-07.22:06:44.489 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:06:44.573 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:06:44.573 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:06:44.574 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:06:44.574 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:06:44.575 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:06:44.575 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:06:44.579 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:06:44.579 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:06:44.741 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:06:44.779 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 100000
24-06-07.22:06:44.844 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:06:44.855 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.22:06:45.045 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:06:45.045 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:06:45.045 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:06:45.047 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:06:45.059 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.22:06:45.075 [main            ] INFO  KafkaProducer          - [Producer clientId=producer-1] Instantiated an idempotent producer.
24-06-07.22:06:45.086 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:06:45.086 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:06:45.086 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769205086
24-06-07.22:06:45.093 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:06:52.772 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8160 ms.
24-06-07.22:06:52.775 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:06:53.998 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 8863 ms.
24-06-07.22:06:55.239 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10622 ms.
24-06-07.22:06:55.239 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:07:03.457 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 8195 ms.
24-06-07.22:07:04.783 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 11966 ms.
24-06-07.22:07:10.364 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 16226 ms.
24-06-07.22:07:15.073 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:07:15.073 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:07:15.073 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:07:15.073 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:07:15.073 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:07:15.073 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:07:15.074 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:07:15.074 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:07:15.074 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:07:15.074 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:07:15.075 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:07:15.075 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:07:15.076 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:07:15.076 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:07:15.076 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:07:15.076 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:07:15.089 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:07:15.090 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:07:15.091 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:07:15.091 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:07:15.095 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.22:07:29.881 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 57646 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:07:29.881 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:07:30.424 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:07:30.426 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:07:30.444 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.22:07:31.284 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:07:31.326 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:07:31.454 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:07:31.462 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:07:32.555 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:07:32.634 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:07:32.699 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:07:32.700 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:07:32.700 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769252699
24-06-07.22:07:32.712 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:07:32.722 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:07:32.730 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:07:32.731 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:07:32.731 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769252730
24-06-07.22:07:32.735 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:07:32.747 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.132 seconds (JVM running for 3.719)
24-06-07.22:07:32.934 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:07:33.034 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:07:33.034 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:07:33.036 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:07:33.036 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:07:33.037 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:07:33.037 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:07:33.040 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:07:33.040 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:07:33.153 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:07:33.181 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 100000
24-06-07.22:07:33.218 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:07:33.218 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: matthew sku: 9011 outBusinessNo: 700091009111
24-06-07.22:07:33.332 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":100000,"stockCountSurplus":99909} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:07:33.332 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:07:33.332 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:07:33.335 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:07:33.345 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.22:07:33.359 [main            ] INFO  KafkaProducer          - [Producer clientId=producer-1] Instantiated an idempotent producer.
24-06-07.22:07:33.378 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:07:33.393 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:07:33.393 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769253378
24-06-07.22:07:33.418 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:07:33.418 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:07:33.422 [kafka-producer-network-thread | producer-1] INFO  TransactionManager     - [Producer clientId=producer-1] ProducerId set to 0 with epoch 0
24-06-07.22:07:33.442 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"30329929279","timestamp":1717769253336}
24-06-07.22:07:33.447 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:07:33.465 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:07:33.495 [main            ] INFO  RaffleOrderTest        - 测试结果：753365062026
24-06-07.22:07:33.505 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:07:33.505 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:07:33.505 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:07:33.504 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:07:33.505 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:07:33.505 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:07:33.505 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:07:33.505 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:07:33.506 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:07:33.506 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:07:41.797 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8688 ms.
24-06-07.22:07:41.798 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:07:41.799 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:07:41.799 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:07:41.799 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:07:41.801 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:07:41.802 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:07:42.604 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9533 ms.
24-06-07.22:07:42.604 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:07:42.605 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:07:42.605 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:07:42.605 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:07:42.607 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:07:42.608 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:07:42.614 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.22:07:54.119 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 11502 ms.
24-06-07.22:08:12.620 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Proceeding to force close the producer since pending requests could not be completed within timeout 30000 ms.
24-06-07.22:08:12.630 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"30329929279","timestamp":1717769253336}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:08:12.635 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:08:12.635 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:08:12.635 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.22:08:12.635 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.22:12:15.358 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 62358 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:12:15.359 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:12:15.977 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:12:15.979 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:12:15.999 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
24-06-07.22:12:17.182 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:12:17.247 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:12:17.429 [redisson-netty-1-5] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:12:17.440 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:12:34.551 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 62674 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:12:34.552 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:12:35.155 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:12:35.157 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:12:35.179 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
24-06-07.22:12:36.052 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:12:36.099 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:12:36.252 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:12:36.291 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:12:37.393 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:12:37.464 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:12:37.540 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:12:37.540 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:12:37.540 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769557539
24-06-07.22:12:37.551 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:12:37.560 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:12:37.565 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:12:37.565 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:12:37.565 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769557565
24-06-07.22:12:37.569 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:12:37.580 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.318 seconds (JVM running for 4.05)
24-06-07.22:12:37.756 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:12:37.876 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:12:37.876 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:12:37.877 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:12:37.878 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:12:37.878 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:12:37.878 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:12:37.882 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:12:37.882 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:12:37.997 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:12:38.027 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.22:12:38.065 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:12:38.066 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.200 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.200 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.201 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.201 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.209 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.209 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.210 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.210 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.218 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.218 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.218 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.218 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.225 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.225 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.225 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.225 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.232 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.232 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.232 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.232 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.239 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.239 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.239 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.239 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.246 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.246 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.246 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.246 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.250 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.250 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.250 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.251 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.254 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.254 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.254 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.254 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.258 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.258 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.258 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.258 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.262 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.263 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.263 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.263 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.269 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.269 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.269 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.269 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.273 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.274 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.274 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.274 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.278 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.278 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.278 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.278 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.283 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.283 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.283 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.283 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.288 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.288 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.288 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.288 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.291 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.292 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.292 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.292 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.295 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.295 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.295 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.295 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.297 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.297 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.297 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:38.297 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:12:38.301 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:12:38.301 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:12:38.301 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:12:48.490 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10507 ms.
24-06-07.22:12:48.493 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:12:49.903 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11950 ms.
24-06-07.22:12:49.904 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:12:57.831 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 9307 ms.
24-06-07.22:13:00.373 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 10448 ms.
24-06-07.22:13:15.341 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 17385 ms.
24-06-07.22:13:22.985 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 22461 ms.
24-06-07.22:13:44.623 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 29170 ms.
24-06-07.22:13:52.061 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 28946 ms.
24-06-07.22:14:13.760 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 28876 ms.
24-06-07.22:14:19.267 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 26983 ms.
24-06-07.22:14:43.477 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 29343 ms.
24-06-07.22:14:51.720 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 31966 ms.
24-06-07.22:14:56.312 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:14:56.312 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:14:56.312 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:14:56.312 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:14:56.312 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:14:56.312 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:14:56.313 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:14:56.313 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:14:56.313 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:14:56.313 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:14:56.316 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:14:56.316 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:14:56.317 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:14:56.317 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:14:56.317 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:14:56.317 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:14:56.327 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:14:56.328 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:14:56.328 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:14:56.328 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:15:04.375 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 65137 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:15:04.376 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:15:04.979 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:15:04.982 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:15:05.016 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
24-06-07.22:15:06.012 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:15:06.059 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:15:06.196 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:15:06.204 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:15:07.299 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:15:07.384 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:15:07.454 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:15:07.454 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:15:07.454 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769707453
24-06-07.22:15:07.466 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:15:07.474 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:15:07.483 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:15:07.483 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:15:07.483 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769707483
24-06-07.22:15:07.489 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:15:07.499 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.389 seconds (JVM running for 3.878)
24-06-07.22:15:07.703 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:15:07.822 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:15:07.822 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:15:07.823 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:15:07.823 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:15:07.823 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:15:07.823 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:15:07.827 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:15:07.827 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:15:07.931 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:15:07.967 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.22:15:08.010 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:15:08.010 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.171 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.171 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.172 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.173 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.183 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.183 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.183 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.183 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.189 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.190 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.190 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.190 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.194 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.194 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.194 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.194 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.202 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.202 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.202 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.202 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.207 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.207 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.207 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.207 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.212 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.212 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.212 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.212 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.218 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.218 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.218 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.218 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.222 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.222 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.222 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.222 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.226 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.226 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.226 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.226 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.231 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.231 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.231 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.231 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.236 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.236 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.236 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.236 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.239 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.239 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.239 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.239 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.242 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.242 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.242 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.242 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.246 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.246 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.246 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.246 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.250 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.250 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.250 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.250 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.253 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.253 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.253 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.253 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.256 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.256 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.256 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.256 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.259 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.259 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.259 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:08.259 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:08.261 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":0} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:08.261 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:08.261 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:15:16.733 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8823 ms.
24-06-07.22:15:16.734 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:15:18.504 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10587 ms.
24-06-07.22:15:18.505 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:15:26.554 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 9817 ms.
24-06-07.22:15:26.858 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:15:26.858 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:15:26.858 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:15:26.858 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:15:26.858 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:15:26.858 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:15:26.859 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:15:26.859 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:15:26.859 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:15:26.859 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:15:26.862 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:15:26.862 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:15:26.862 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:15:26.862 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:15:26.862 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:15:26.862 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:15:26.870 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:15:26.871 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:15:26.871 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:15:26.871 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:15:49.748 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 65882 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:15:49.748 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:15:50.297 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:15:50.299 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:15:50.319 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
24-06-07.22:15:51.359 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:15:51.418 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:15:51.538 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:15:51.547 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:15:52.700 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:15:52.814 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:15:52.930 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:15:52.931 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:15:52.931 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769752928
24-06-07.22:15:52.958 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:15:52.984 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:15:52.994 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:15:52.994 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:15:52.994 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769752993
24-06-07.22:15:53.002 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:15:53.026 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.542 seconds (JVM running for 4.136)
24-06-07.22:15:53.245 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:15:53.369 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:15:53.369 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:15:53.371 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:15:53.371 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:15:53.372 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:15:53.372 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:15:53.379 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:15:53.379 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:15:53.520 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:15:53.548 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.22:15:53.589 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:15:53.590 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:15:53.794 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:15:53.795 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:15:53.795 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:15:53.798 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:15:53.816 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.22:15:53.832 [main            ] INFO  KafkaProducer          - [Producer clientId=producer-1] Instantiated an idempotent producer.
24-06-07.22:15:53.852 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:15:53.852 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:15:53.852 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769753852
24-06-07.22:15:53.861 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:15:53.862 [kafka-producer-network-thread | producer-1] INFO  TransactionManager     - [Producer clientId=producer-1] ProducerId set to 1 with epoch 0
24-06-07.22:16:02.148 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 8278 ms.
24-06-07.22:16:02.155 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8719 ms.
24-06-07.22:16:02.155 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:16:02.360 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8892 ms.
24-06-07.22:16:02.360 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:16:10.741 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 8560 ms.
24-06-07.22:16:11.371 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 8992 ms.
24-06-07.22:16:23.731 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 21460 ms.
24-06-07.22:16:29.582 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 18740 ms.
24-06-07.22:16:34.239 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 22733 ms.
24-06-07.22:16:52.337 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:16:52.337 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:16:52.337 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:16:52.337 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:16:52.337 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:16:52.337 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:16:52.338 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:16:52.338 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:16:52.338 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:16:52.338 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:16:52.339 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:16:52.339 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:16:52.339 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:16:52.340 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:16:52.340 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:16:52.341 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:16:52.347 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:16:52.348 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:16:52.348 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:16:52.348 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:16:52.353 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.22:16:52.357 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:16:52.357 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:16:52.357 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.22:16:52.357 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.22:16:52.359 [main            ] ERROR EventPublisher         - 发送MQ消息失败 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"57659052851","timestamp":1717769753800}
org.apache.kafka.common.KafkaException: Producer closed while send in progress
	at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:938)
	at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:914)
	at org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:1087)
	at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:655)
	at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:403)
	at cn.matthew.infrastructure.persistent.event.EventPublisher.publish(EventPublisher.java:21)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.activitySkuStockConsumeSendQueue(ActivityRepository.java:133)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.activitySkuStockConsumeSendQueue(<generated>)
	at cn.matthew.domain.activity.service.rule.impl.ActivitySkuStockActionChainNode.action(ActivitySkuStockActionChainNode.java:43)
	at cn.matthew.domain.activity.service.rule.impl.ActivityBaseChainNode.action(ActivityBaseChainNode.java:39)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:50)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.apache.kafka.common.KafkaException: Requested metadata update after close
	at org.apache.kafka.clients.producer.internals.ProducerMetadata.awaitUpdate(ProducerMetadata.java:126)
	at org.apache.kafka.clients.producer.KafkaProducer.waitOnMetadata(KafkaProducer.java:1088)
	at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:935)
	... 54 common frames omitted
24-06-07.22:16:54.516 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 66930 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:16:54.516 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:16:55.022 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:16:55.024 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:16:55.042 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.22:16:55.877 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:16:55.916 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:16:56.033 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:16:56.043 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:16:57.151 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:16:57.222 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:16:57.299 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:16:57.299 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:16:57.299 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769817298
24-06-07.22:16:57.311 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:16:57.319 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:16:57.323 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:16:57.324 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:16:57.324 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769817323
24-06-07.22:16:57.329 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:16:57.339 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.144 seconds (JVM running for 3.993)
24-06-07.22:16:57.517 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:16:57.634 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:16:57.634 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:16:57.634 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:16:57.635 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:16:57.635 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:16:57.635 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:16:57.642 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:16:57.642 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:16:57.767 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:16:57.796 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.22:16:57.828 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:16:57.828 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:57.946 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:57.946 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:57.946 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:57.951 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_19
24-06-07.22:16:57.951 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:16:57.951 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:57.955 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:57.955 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:57.955 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:57.959 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:57.969 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.22:16:57.984 [main            ] INFO  KafkaProducer          - [Producer clientId=producer-1] Instantiated an idempotent producer.
24-06-07.22:16:58.002 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:16:58.002 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:16:58.002 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769818002
24-06-07.22:16:58.022 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:16:58.023 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:16:58.023 [kafka-producer-network-thread | producer-1] INFO  TransactionManager     - [Producer clientId=producer-1] ProducerId set to 2 with epoch 0
24-06-07.22:16:58.069 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"01278707305","timestamp":1717769817960}
24-06-07.22:16:58.074 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:16:58.088 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:16:58.122 [main            ] INFO  RaffleOrderTest        - 测试结果：865676054420
24-06-07.22:16:58.122 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.130 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.130 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.130 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.132 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.133 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"50883250451","timestamp":1717769818132}
24-06-07.22:16:58.174 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 77 common frames omitted
24-06-07.22:16:58.180 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:16:58.180 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.189 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.190 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.190 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.196 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.197 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"04609436433","timestamp":1717769818197}
24-06-07.22:16:58.205 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 77 common frames omitted
24-06-07.22:16:58.212 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:16:58.212 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.234 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.234 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.234 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.242 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.243 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"39890537690","timestamp":1717769818243}
24-06-07.22:16:58.248 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 77 common frames omitted
24-06-07.22:16:58.251 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:16:58.251 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.260 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.260 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.261 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.264 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.265 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"61258706708","timestamp":1717769818264}
24-06-07.22:16:58.268 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 77 common frames omitted
24-06-07.22:16:58.273 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:16:58.274 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.283 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.283 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.283 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.285 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.285 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"72719614773","timestamp":1717769818285}
24-06-07.22:16:58.291 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 77 common frames omitted
24-06-07.22:16:58.294 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:16:58.295 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.301 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.301 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.301 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.303 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.303 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"28535515337","timestamp":1717769818303}
24-06-07.22:16:58.306 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 77 common frames omitted
24-06-07.22:16:58.308 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:16:58.308 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.311 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.311 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.311 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.312 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.312 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"53962405824","timestamp":1717769818312}
24-06-07.22:16:58.315 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 77 common frames omitted
24-06-07.22:16:58.316 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:16:58.316 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.318 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.319 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.319 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.319 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.320 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"11182000817","timestamp":1717769818320}
24-06-07.22:16:58.322 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 77 common frames omitted
24-06-07.22:16:58.324 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:16:58.324 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.327 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.327 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.327 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.328 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.328 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"79816825701","timestamp":1717769818328}
24-06-07.22:16:58.331 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 77 common frames omitted
24-06-07.22:16:58.333 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:16:58.333 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.337 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.337 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.337 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.338 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.339 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"49951492792","timestamp":1717769818339}
24-06-07.22:16:58.343 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 77 common frames omitted
24-06-07.22:16:58.345 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:16:58.345 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.349 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.349 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.349 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.353 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.353 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"85677053429","timestamp":1717769818353}
24-06-07.22:16:58.356 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 77 common frames omitted
24-06-07.22:16:58.358 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:16:58.358 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.361 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.361 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.361 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.364 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.364 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"14185076028","timestamp":1717769818364}
24-06-07.22:16:58.367 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 77 common frames omitted
24-06-07.22:16:58.369 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:16:58.369 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.377 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.377 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.377 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.380 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.380 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"55366107002","timestamp":1717769818380}
24-06-07.22:16:58.383 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 77 common frames omitted
24-06-07.22:16:58.385 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:16:58.385 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.388 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.389 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.389 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.390 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.390 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"56443042569","timestamp":1717769818390}
24-06-07.22:16:58.393 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 77 common frames omitted
24-06-07.22:16:58.395 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:16:58.395 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.397 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.397 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.397 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.399 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.399 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"28609349523","timestamp":1717769818399}
24-06-07.22:16:58.408 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 77 common frames omitted
24-06-07.22:16:58.410 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:16:58.410 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.415 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.416 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.416 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.420 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.420 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"46107491941","timestamp":1717769818420}
24-06-07.22:16:58.430 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.GeneratedMethodAccessor23.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.GeneratedMethodAccessor25.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 75 common frames omitted
24-06-07.22:16:58.432 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:16:58.433 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.438 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.438 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.438 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.441 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.441 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"30945202535","timestamp":1717769818441}
24-06-07.22:16:58.446 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.GeneratedMethodAccessor23.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.GeneratedMethodAccessor25.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 75 common frames omitted
24-06-07.22:16:58.449 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:16:58.449 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 700091009111
24-06-07.22:16:58.454 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:16:58.455 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:16:58.455 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:16:58.457 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":9011,"id":"69885670848","timestamp":1717769818456}
24-06-07.22:16:58.462 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:16:58.462 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"76678270053","timestamp":1717769818462}
24-06-07.22:16:58.469 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [/Users/matthew/Desktop/lottery/lottery-app/target/classes/mybatis/mapper/ActivityOrderMapper.xml]
### The error may involve cn.matthew.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001         (user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, state, out_business_no, total_count, day_count, month_count,          create_time, update_time)         values             (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,              now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.bugstack.middleware.db.router.DBRouterJoinPoint.doRouter(DBRouterJoinPoint.java:65)
	at sun.reflect.GeneratedMethodAccessor23.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:185)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:182)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.doSaveOrder(<generated>)
	at cn.matthew.domain.activity.service.ActivityService.doSaveOrder(ActivityService.java:69)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:56)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy185.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.GeneratedMethodAccessor25.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 75 common frames omitted
24-06-07.22:16:58.471 [main            ] WARN  RaffleOrderTest        - null
24-06-07.22:17:05.776 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8056 ms.
24-06-07.22:17:05.777 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:17:06.279 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8609 ms.
24-06-07.22:17:06.280 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:17:07.019 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 8948 ms.
24-06-07.22:17:17.017 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 11204 ms.
24-06-07.22:17:17.388 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 11080 ms.
24-06-07.22:17:21.904 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:17:21.905 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:17:21.905 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:17:21.905 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:17:21.905 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:17:21.905 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:17:21.905 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:17:21.905 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:17:21.905 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:17:21.906 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:17:21.907 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:17:21.907 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:17:21.907 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:17:21.907 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:17:21.907 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:17:21.907 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:17:21.914 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:17:21.914 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:17:21.914 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:17:21.914 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:17:21.919 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.22:17:30.662 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 23569 ms.
24-06-07.22:17:51.922 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Proceeding to force close the producer since pending requests could not be completed within timeout 30000 ms.
24-06-07.22:17:51.942 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"01278707305","timestamp":1717769817960}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.943 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"50883250451","timestamp":1717769818132}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.943 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"04609436433","timestamp":1717769818197}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.943 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"39890537690","timestamp":1717769818243}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.943 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"61258706708","timestamp":1717769818264}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.944 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"72719614773","timestamp":1717769818285}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.944 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"28535515337","timestamp":1717769818303}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.944 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"53962405824","timestamp":1717769818312}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.944 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"11182000817","timestamp":1717769818320}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.944 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"79816825701","timestamp":1717769818328}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.944 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"49951492792","timestamp":1717769818339}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.944 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"85677053429","timestamp":1717769818353}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.944 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"14185076028","timestamp":1717769818364}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.944 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"55366107002","timestamp":1717769818380}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.945 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"56443042569","timestamp":1717769818390}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.945 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"28609349523","timestamp":1717769818399}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.945 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"46107491941","timestamp":1717769818420}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.945 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"30945202535","timestamp":1717769818441}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.945 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":9011,"id":"69885670848","timestamp":1717769818456}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.945 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"76678270053","timestamp":1717769818462}' to topic matthew-topic:
org.apache.kafka.common.KafkaException: Producer is closed forcefully.
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:760)
	at org.apache.kafka.clients.producer.internals.RecordAccumulator.abortIncompleteBatches(RecordAccumulator.java:747)
	at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:283)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:17:51.950 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:17:51.950 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:17:51.950 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.22:17:51.951 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.22:19:06.609 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 69093 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:19:06.610 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:19:07.157 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:19:07.158 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:19:07.178 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
24-06-07.22:19:08.038 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:19:08.079 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:19:08.199 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:19:08.207 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:19:09.291 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:19:09.367 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:19:09.448 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:19:09.448 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:19:09.448 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769949446
24-06-07.22:19:09.461 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:19:09.469 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:19:09.473 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:19:09.473 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:19:09.473 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769949473
24-06-07.22:19:09.478 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:19:09.489 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.127 seconds (JVM running for 3.928)
24-06-07.22:19:09.669 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:19:09.782 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:19:09.782 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:19:09.784 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:19:09.784 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:19:09.785 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:19:09.785 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:19:09.791 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:19:09.791 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:19:09.920 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:19:09.949 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.22:19:09.987 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:19:09.987 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1630267035
24-06-07.22:19:10.098 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:10.098 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:10.098 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:10.100 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:10.108 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.22:19:10.118 [main            ] INFO  KafkaProducer          - [Producer clientId=producer-1] Instantiated an idempotent producer.
24-06-07.22:19:10.129 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:19:10.129 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:19:10.130 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769950129
24-06-07.22:19:10.140 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:19:10.142 [kafka-producer-network-thread | producer-1] INFO  TransactionManager     - [Producer clientId=producer-1] ProducerId set to 3 with epoch 0
24-06-07.22:19:19.163 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9288 ms.
24-06-07.22:19:19.167 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:19:20.614 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10827 ms.
24-06-07.22:19:20.616 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:19:20.888 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 10721 ms.
24-06-07.22:19:24.627 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:19:24.627 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:19:24.627 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:19:24.627 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:19:24.627 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:19:24.627 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:19:24.628 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:19:24.628 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:19:24.628 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:19:24.629 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:19:24.629 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:19:24.629 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:19:24.630 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:19:24.630 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:19:24.630 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:19:24.630 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:19:24.636 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:19:24.637 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:19:24.638 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:19:24.638 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:19:24.641 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.22:19:24.643 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:19:24.643 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:19:24.643 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.22:19:24.643 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.22:19:24.645 [main            ] ERROR EventPublisher         - 发送MQ消息失败 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"29553681955","timestamp":1717769950101}
org.apache.kafka.common.KafkaException: Producer closed while send in progress
	at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:938)
	at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:914)
	at org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:1087)
	at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:655)
	at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:403)
	at cn.matthew.infrastructure.persistent.event.EventPublisher.publish(EventPublisher.java:21)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.activitySkuStockConsumeSendQueue(ActivityRepository.java:133)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.activitySkuStockConsumeSendQueue(<generated>)
	at cn.matthew.domain.activity.service.rule.impl.ActivitySkuStockActionChainNode.action(ActivitySkuStockActionChainNode.java:43)
	at cn.matthew.domain.activity.service.rule.impl.ActivityBaseChainNode.action(ActivityBaseChainNode.java:39)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:50)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:54)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.apache.kafka.common.KafkaException: Requested metadata update after close
	at org.apache.kafka.clients.producer.internals.ProducerMetadata.awaitUpdate(ProducerMetadata.java:126)
	at org.apache.kafka.clients.producer.KafkaProducer.waitOnMetadata(KafkaProducer.java:1088)
	at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:935)
	... 54 common frames omitted
24-06-07.22:19:27.074 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 69436 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:19:27.075 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:19:27.573 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:19:27.574 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:19:27.593 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.22:19:28.577 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:19:28.629 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:19:28.792 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:19:28.808 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:19:29.894 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:19:29.977 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:19:30.044 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:19:30.045 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:19:30.045 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769970044
24-06-07.22:19:30.056 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:19:30.064 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:19:30.069 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:19:30.069 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:19:30.069 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769970069
24-06-07.22:19:30.074 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:19:30.085 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.283 seconds (JVM running for 3.742)
24-06-07.22:19:30.263 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:19:30.338 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:19:30.338 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:19:30.339 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:19:30.339 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:19:30.339 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:19:30.339 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:19:30.344 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:19:30.344 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:19:30.485 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:19:30.514 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.22:19:30.542 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:19:30.543 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-448397819
24-06-07.22:19:30.646 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:30.646 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:30.646 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:30.650 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_19
24-06-07.22:19:30.651 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:19:30.651 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-1931352203
24-06-07.22:19:30.654 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:30.654 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:30.654 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:30.655 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:30.663 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.22:19:30.673 [main            ] INFO  KafkaProducer          - [Producer clientId=producer-1] Instantiated an idempotent producer.
24-06-07.22:19:30.683 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:19:30.683 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:19:30.683 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717769970683
24-06-07.22:19:30.692 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:19:30.693 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:19:30.694 [kafka-producer-network-thread | producer-1] INFO  TransactionManager     - [Producer clientId=producer-1] ProducerId set to 4 with epoch 0
24-06-07.22:19:30.708 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"83269774287","timestamp":1717769970656}
24-06-07.22:19:30.712 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:19:30.733 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:19:30.778 [main            ] INFO  RaffleOrderTest        - 测试结果：921523265463
24-06-07.22:19:30.778 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-73697965
24-06-07.22:19:30.782 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:30.782 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:30.782 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:30.784 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:30.785 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"92451633970","timestamp":1717769970784}
24-06-07.22:19:30.795 [main            ] INFO  RaffleOrderTest        - 测试结果：820459089541
24-06-07.22:19:30.795 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 11833644137
24-06-07.22:19:30.799 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:30.799 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:30.799 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:30.800 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:30.801 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"64721742229","timestamp":1717769970801}
24-06-07.22:19:30.808 [main            ] INFO  RaffleOrderTest        - 测试结果：452673801261
24-06-07.22:19:30.808 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-800337063
24-06-07.22:19:30.811 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:30.811 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:30.811 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:30.812 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:30.812 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"91757273390","timestamp":1717769970812}
24-06-07.22:19:30.818 [main            ] INFO  RaffleOrderTest        - 测试结果：699950360470
24-06-07.22:19:30.818 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1961714050
24-06-07.22:19:30.820 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:30.820 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:30.820 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:30.821 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:30.822 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"29537203092","timestamp":1717769970821}
24-06-07.22:19:30.828 [main            ] INFO  RaffleOrderTest        - 测试结果：010962025332
24-06-07.22:19:30.828 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 11951662462
24-06-07.22:19:30.830 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:30.830 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:30.830 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:30.831 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:30.831 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"28469453725","timestamp":1717769970831}
24-06-07.22:19:30.836 [main            ] INFO  RaffleOrderTest        - 测试结果：721440893235
24-06-07.22:19:30.836 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-754474031
24-06-07.22:19:30.839 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:30.839 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:30.839 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:30.841 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:30.841 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"40219353922","timestamp":1717769970841}
24-06-07.22:19:30.847 [main            ] INFO  RaffleOrderTest        - 测试结果：748065522237
24-06-07.22:19:30.847 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-1214010828
24-06-07.22:19:30.850 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:30.850 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:30.850 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:30.852 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:30.852 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"49176155255","timestamp":1717769970852}
24-06-07.22:19:30.860 [main            ] INFO  RaffleOrderTest        - 测试结果：618317857364
24-06-07.22:19:30.860 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-2042641145
24-06-07.22:19:30.863 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:30.863 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:30.863 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:30.865 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:30.865 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"37971572583","timestamp":1717769970865}
24-06-07.22:19:30.871 [main            ] INFO  RaffleOrderTest        - 测试结果：784643260811
24-06-07.22:19:30.872 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-830276865
24-06-07.22:19:30.875 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:30.875 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:30.875 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:30.878 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:30.878 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"97692863792","timestamp":1717769970878}
24-06-07.22:19:30.885 [main            ] INFO  RaffleOrderTest        - 测试结果：529360313474
24-06-07.22:19:30.885 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-272454229
24-06-07.22:19:30.888 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:30.888 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:30.888 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:30.890 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:30.890 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"22059026074","timestamp":1717769970890}
24-06-07.22:19:30.897 [main            ] INFO  RaffleOrderTest        - 测试结果：081134550360
24-06-07.22:19:30.897 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1731899984
24-06-07.22:19:30.901 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:30.901 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:30.901 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:30.903 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:30.904 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"27476187763","timestamp":1717769970903}
24-06-07.22:19:30.913 [main            ] INFO  RaffleOrderTest        - 测试结果：809278568955
24-06-07.22:19:30.913 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-152149522
24-06-07.22:19:30.918 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:30.919 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:30.919 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:30.920 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:30.921 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"49102935128","timestamp":1717769970920}
24-06-07.22:19:30.932 [main            ] INFO  RaffleOrderTest        - 测试结果：614327007795
24-06-07.22:19:30.932 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 11101667368
24-06-07.22:19:30.943 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:30.943 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:30.943 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:30.947 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:30.947 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"89544426623","timestamp":1717769970947}
24-06-07.22:19:30.957 [main            ] INFO  RaffleOrderTest        - 测试结果：372379178809
24-06-07.22:19:30.958 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-2098604946
24-06-07.22:19:30.962 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:30.962 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:30.963 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:30.965 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:30.965 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"82399448770","timestamp":1717769970965}
24-06-07.22:19:30.974 [main            ] INFO  RaffleOrderTest        - 测试结果：457666516366
24-06-07.22:19:30.974 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1975423341
24-06-07.22:19:30.979 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:30.980 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:30.980 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:30.981 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:30.982 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"29606436422","timestamp":1717769970981}
24-06-07.22:19:30.997 [main            ] INFO  RaffleOrderTest        - 测试结果：686371306784
24-06-07.22:19:30.997 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-1708685432
24-06-07.22:19:31.001 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:31.002 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:31.002 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:31.004 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:31.004 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"50392587616","timestamp":1717769971004}
24-06-07.22:19:31.014 [main            ] INFO  RaffleOrderTest        - 测试结果：925391508354
24-06-07.22:19:31.014 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1633201789
24-06-07.22:19:31.017 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:31.017 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:31.017 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:31.019 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:31.019 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"24267586474","timestamp":1717769971019}
24-06-07.22:19:31.023 [main            ] INFO  RaffleOrderTest        - 测试结果：431400056412
24-06-07.22:19:31.023 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1199082030
24-06-07.22:19:31.025 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:19:31.025 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:19:31.025 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:19:31.027 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":9011,"id":"38480662748","timestamp":1717769971026}
24-06-07.22:19:31.027 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:19:31.027 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"33247120356","timestamp":1717769971027}
24-06-07.22:19:31.031 [main            ] INFO  RaffleOrderTest        - 测试结果：546910587648
24-06-07.22:19:38.721 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8343 ms.
24-06-07.22:19:38.724 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:19:39.222 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8855 ms.
24-06-07.22:19:39.222 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:19:41.622 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 10912 ms.
24-06-07.22:19:47.068 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 8338 ms.
24-06-07.22:19:49.813 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 10559 ms.
24-06-07.22:19:59.320 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 17605 ms.
24-06-07.22:20:08.758 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 21570 ms.
24-06-07.22:20:09.515 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 19566 ms.
24-06-07.22:20:24.873 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 25440 ms.
24-06-07.22:20:36.508 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 26876 ms.
24-06-07.22:20:37.181 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 28272 ms.
24-06-07.22:20:49.554 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 24478 ms.
24-06-07.22:21:03.817 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 26406 ms.
24-06-07.22:21:04.319 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 27607 ms.
24-06-07.22:21:18.396 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 28443 ms.
24-06-07.22:21:30.720 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"83269774287","timestamp":1717769970656}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.721 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"92451633970","timestamp":1717769970784}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.722 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"64721742229","timestamp":1717769970801}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.722 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"91757273390","timestamp":1717769970812}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.722 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"29537203092","timestamp":1717769970821}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.722 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"28469453725","timestamp":1717769970831}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.722 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"40219353922","timestamp":1717769970841}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.722 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"49176155255","timestamp":1717769970852}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.722 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"37971572583","timestamp":1717769970865}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.722 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"97692863792","timestamp":1717769970878}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.723 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"22059026074","timestamp":1717769970890}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.723 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"27476187763","timestamp":1717769970903}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.723 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"49102935128","timestamp":1717769970920}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.723 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"89544426623","timestamp":1717769970947}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.723 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"82399448770","timestamp":1717769970965}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.724 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"29606436422","timestamp":1717769970981}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.724 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"50392587616","timestamp":1717769971004}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.724 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"24267586474","timestamp":1717769971019}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.724 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":9011,"id":"38480662748","timestamp":1717769971026}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:30.724 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"33247120356","timestamp":1717769971027}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:21:34.578 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 29730 ms.
24-06-07.22:21:36.686 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 32444 ms.
24-06-07.22:21:44.941 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 25694 ms.
24-06-07.22:22:04.544 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 27109 ms.
24-06-07.22:22:06.527 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 30995 ms.
24-06-07.22:22:19.444 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 33387 ms.
24-06-07.22:22:31.943 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 24589 ms.
24-06-07.22:22:36.141 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 30457 ms.
24-06-07.22:22:52.540 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 32140 ms.
24-06-07.22:23:08.591 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 31315 ms.
24-06-07.22:23:08.688 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 35879 ms.
24-06-07.22:23:27.768 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 34243 ms.
24-06-07.22:23:33.322 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:23:33.322 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:23:33.322 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:23:33.322 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:23:33.322 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:23:33.322 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:23:33.323 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:23:33.323 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:23:33.323 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:23:33.323 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:23:33.324 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:23:33.324 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:23:33.324 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:23:33.324 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:23:33.324 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:23:33.324 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:23:33.334 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:23:33.335 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:23:33.336 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:23:33.336 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:23:33.343 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.22:23:33.346 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:23:33.346 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:23:33.346 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.22:23:33.346 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.22:23:35.300 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 73447 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:23:35.300 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:23:35.859 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:23:35.862 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:23:35.887 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
24-06-07.22:23:36.762 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:23:36.804 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:23:36.929 [redisson-netty-1-5] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:23:36.943 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:23:38.098 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:23:38.190 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:23:38.296 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:23:38.296 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:23:38.296 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770218295
24-06-07.22:23:38.308 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:23:38.318 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:23:38.326 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:23:38.326 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:23:38.326 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770218326
24-06-07.22:23:38.332 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:23:38.350 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.354 seconds (JVM running for 3.972)
24-06-07.22:23:38.509 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:23:38.630 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:23:38.630 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:23:38.633 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:23:38.633 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:23:38.635 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:23:38.635 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:23:38.641 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:23:38.641 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:23:38.785 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:23:38.813 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.22:23:38.842 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:23:38.843 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1234459231
24-06-07.22:23:38.961 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:38.961 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:38.961 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:38.969 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_19
24-06-07.22:23:38.970 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:38.970 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 11405691981
24-06-07.22:23:38.973 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:38.973 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:38.973 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:38.975 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_18
24-06-07.22:23:38.975 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:38.975 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1320724999
24-06-07.22:23:38.979 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:38.979 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:38.979 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:38.982 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_17
24-06-07.22:23:38.982 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:38.982 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 11671100287
24-06-07.22:23:38.985 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:38.985 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:38.985 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:38.987 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_16
24-06-07.22:23:38.987 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:38.987 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-1797165525
24-06-07.22:23:38.991 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:38.991 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:38.991 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:38.994 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_15
24-06-07.22:23:38.994 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:38.994 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-1000513606
24-06-07.22:23:39.000 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:39.000 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:39.000 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:39.003 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_14
24-06-07.22:23:39.003 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:39.003 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-1235751806
24-06-07.22:23:39.007 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:39.008 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:39.008 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:39.011 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_13
24-06-07.22:23:39.011 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:39.011 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-1682138479
24-06-07.22:23:39.016 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:39.016 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:39.016 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:39.018 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_12
24-06-07.22:23:39.018 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:39.018 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1919189708
24-06-07.22:23:39.022 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:39.022 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:39.022 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:39.024 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_11
24-06-07.22:23:39.024 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:39.024 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 11513205271
24-06-07.22:23:39.027 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:39.028 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:39.028 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:39.029 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_10
24-06-07.22:23:39.029 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:39.030 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-1640267642
24-06-07.22:23:39.033 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:39.033 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:39.033 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:39.035 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_9
24-06-07.22:23:39.035 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:39.035 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 12147265915
24-06-07.22:23:39.038 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:39.038 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:39.038 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:39.040 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_8
24-06-07.22:23:39.040 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:39.040 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-1204381262
24-06-07.22:23:39.044 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:39.044 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:39.044 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:39.047 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_7
24-06-07.22:23:39.047 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:39.047 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1254480486
24-06-07.22:23:39.051 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:39.051 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:39.051 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:39.052 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_6
24-06-07.22:23:39.052 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:39.052 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 11291908835
24-06-07.22:23:39.060 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:39.060 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:39.060 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:39.062 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_5
24-06-07.22:23:39.062 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:39.062 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1728678800
24-06-07.22:23:39.066 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:39.066 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:39.066 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:39.067 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_4
24-06-07.22:23:39.067 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:39.067 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 11477386638
24-06-07.22:23:39.070 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:39.070 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:39.070 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:39.071 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_3
24-06-07.22:23:39.071 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:39.072 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-249758859
24-06-07.22:23:39.077 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:39.077 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:39.077 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:39.079 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_2
24-06-07.22:23:39.079 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:39.079 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-2115064513
24-06-07.22:23:39.082 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:39.082 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:39.082 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:39.084 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_1
24-06-07.22:23:39.084 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:23:39.084 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-50295001
24-06-07.22:23:39.087 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:23:39.087 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:23:39.087 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:23:39.098 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.22:23:39.110 [main            ] INFO  KafkaProducer          - [Producer clientId=producer-1] Instantiated an idempotent producer.
24-06-07.22:23:39.121 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:23:39.121 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:23:39.121 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770219121
24-06-07.22:23:39.130 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:23:39.131 [kafka-producer-network-thread | producer-1] INFO  TransactionManager     - [Producer clientId=producer-1] ProducerId set to 5 with epoch 0
24-06-07.22:23:47.283 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8605 ms.
24-06-07.22:23:47.285 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:23:50.344 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11661 ms.
24-06-07.22:23:50.345 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:23:50.409 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 11234 ms.
24-06-07.22:23:56.496 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 9182 ms.
24-06-07.22:23:59.655 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 9273 ms.
24-06-07.22:24:02.877 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:24:02.877 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:24:02.877 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:24:02.878 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:24:02.878 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:24:02.878 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:24:02.880 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:24:02.880 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:24:02.880 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:24:02.880 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:24:02.885 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:24:02.885 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:24:02.885 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:24:02.885 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:24:02.885 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:24:02.886 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:24:02.916 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:24:02.917 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:24:02.918 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:24:02.918 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:24:02.934 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.22:24:02.940 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:24:02.940 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:24:02.941 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.22:24:02.942 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.22:24:02.956 [main            ] ERROR EventPublisher         - 发送MQ消息失败 topic:matthew-topic message:{"data":9011,"id":"72715239148","timestamp":1717770219089}
org.apache.kafka.common.KafkaException: Producer closed while send in progress
	at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:938)
	at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:914)
	at org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:1087)
	at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:655)
	at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:403)
	at cn.matthew.infrastructure.persistent.event.EventPublisher.publish(EventPublisher.java:21)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.subtractionActivitySkuStock(ActivityRepository.java:116)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.subtractionActivitySkuStock(<generated>)
	at cn.matthew.domain.activity.service.armory.ActivityArmory.subtractionActivitySkuStock(ActivityArmory.java:22)
	at cn.matthew.domain.activity.service.rule.impl.ActivitySkuStockActionChainNode.action(ActivitySkuStockActionChainNode.java:32)
	at cn.matthew.domain.activity.service.rule.impl.ActivityBaseChainNode.action(ActivityBaseChainNode.java:39)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:50)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:54)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.apache.kafka.common.KafkaException: Requested metadata update after close
	at org.apache.kafka.clients.producer.internals.ProducerMetadata.awaitUpdate(ProducerMetadata.java:126)
	at org.apache.kafka.clients.producer.KafkaProducer.waitOnMetadata(KafkaProducer.java:1088)
	at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:935)
	... 55 common frames omitted
24-06-07.22:24:07.101 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 73973 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:24:07.102 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:24:07.593 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:24:07.595 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:24:07.613 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.22:24:08.452 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:24:08.495 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:24:08.612 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:24:08.621 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:24:09.795 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:24:09.869 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:24:09.941 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:24:09.941 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:24:09.942 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770249940
24-06-07.22:24:09.958 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:24:09.967 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:24:09.971 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:24:09.971 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:24:09.971 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770249971
24-06-07.22:24:09.976 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:24:09.985 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.151 seconds (JVM running for 3.731)
24-06-07.22:24:10.155 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:24:10.265 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:24:10.265 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:24:10.267 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:24:10.267 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:24:10.267 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:24:10.267 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:24:10.271 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:24:10.271 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:24:10.393 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:24:10.427 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.22:24:10.463 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:24:10.463 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-1324600070
24-06-07.22:24:10.603 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:24:10.604 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:24:10.604 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:24:10.608 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:24:10.619 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.22:24:10.638 [main            ] INFO  KafkaProducer          - [Producer clientId=producer-1] Instantiated an idempotent producer.
24-06-07.22:24:10.654 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:24:10.654 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:24:10.654 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770250654
24-06-07.22:24:10.664 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:24:10.664 [kafka-producer-network-thread | producer-1] INFO  TransactionManager     - [Producer clientId=producer-1] ProducerId set to 6 with epoch 0
24-06-07.22:24:19.734 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9374 ms.
24-06-07.22:24:19.738 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:24:20.883 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 10204 ms.
24-06-07.22:24:21.901 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11581 ms.
24-06-07.22:24:21.902 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:24:28.454 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 8711 ms.
24-06-07.22:24:32.936 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 11008 ms.
24-06-07.22:24:44.311 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 23323 ms.
24-06-07.22:24:51.207 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 18153 ms.
24-06-07.22:24:52.082 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 23492 ms.
24-06-07.22:25:10.682 [main            ] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"07142090548","timestamp":1717770250609}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Topic matthew-topic not present in metadata after 60000 ms.
24-06-07.22:25:10.687 [main            ] ERROR EventPublisher         - 发送MQ消息失败 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"07142090548","timestamp":1717770250609}
org.springframework.kafka.KafkaException: Send failed; nested exception is org.apache.kafka.common.errors.TimeoutException: Topic matthew-topic not present in metadata after 60000 ms.
	at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:666)
	at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:403)
	at cn.matthew.infrastructure.persistent.event.EventPublisher.publish(EventPublisher.java:21)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.activitySkuStockConsumeSendQueue(ActivityRepository.java:133)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$cee27fae.activitySkuStockConsumeSendQueue(<generated>)
	at cn.matthew.domain.activity.service.rule.impl.ActivitySkuStockActionChainNode.action(ActivitySkuStockActionChainNode.java:43)
	at cn.matthew.domain.activity.service.rule.impl.ActivityBaseChainNode.action(ActivityBaseChainNode.java:39)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:50)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:54)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.apache.kafka.common.errors.TimeoutException: Topic matthew-topic not present in metadata after 60000 ms.
24-06-07.22:25:10.727 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:25:10.727 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:25:10.727 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:25:10.727 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:25:10.727 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:25:10.727 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:25:10.728 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:25:10.728 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:25:10.728 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:25:10.728 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:25:10.730 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:25:10.730 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:25:10.730 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:25:10.730 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:25:10.730 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:25:10.730 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:25:10.741 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:25:10.742 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:25:10.742 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:25:10.743 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:25:10.747 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.22:25:10.752 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:25:10.752 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:25:10.752 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.22:25:10.752 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.22:25:31.964 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 75351 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:25:31.965 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:25:32.506 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:25:32.508 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:25:32.526 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.22:25:33.456 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:25:33.510 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:25:33.634 [redisson-netty-1-5] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:25:33.644 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:25:34.720 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:25:34.791 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:25:34.860 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:25:34.860 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:25:34.861 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770334859
24-06-07.22:25:34.874 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:25:34.883 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:25:34.887 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:25:34.887 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:25:34.887 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770334887
24-06-07.22:25:34.891 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:25:34.905 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.201 seconds (JVM running for 3.898)
24-06-07.22:25:35.083 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:25:35.217 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:25:35.217 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:25:35.219 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:25:35.219 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:25:35.221 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:25:35.221 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:25:35.224 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:25:35.225 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:25:35.338 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:25:35.365 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.22:25:35.395 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:25:35.396 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 11146293946
24-06-07.22:25:35.500 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.500 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.500 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.505 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_19
24-06-07.22:25:35.506 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:25:35.506 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-1991041321
24-06-07.22:25:35.509 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.509 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.509 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.511 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.520 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.22:25:35.531 [main            ] INFO  KafkaProducer          - [Producer clientId=producer-1] Instantiated an idempotent producer.
24-06-07.22:25:35.543 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:25:35.543 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:25:35.543 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770335543
24-06-07.22:25:35.557 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:25:35.557 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:25:35.558 [kafka-producer-network-thread | producer-1] INFO  TransactionManager     - [Producer clientId=producer-1] ProducerId set to 7 with epoch 0
24-06-07.22:25:35.571 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"70773501997","timestamp":1717770335512}
24-06-07.22:25:35.574 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:25:35.594 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:25:35.628 [main            ] INFO  RaffleOrderTest        - 测试结果：337139335485
24-06-07.22:25:35.628 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-1889548265
24-06-07.22:25:35.632 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.633 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.633 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.635 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.636 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"29815630275","timestamp":1717770335635}
24-06-07.22:25:35.644 [main            ] INFO  RaffleOrderTest        - 测试结果：604451891096
24-06-07.22:25:35.644 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-396800032
24-06-07.22:25:35.648 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.648 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.648 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.650 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.650 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"04713503185","timestamp":1717770335650}
24-06-07.22:25:35.659 [main            ] INFO  RaffleOrderTest        - 测试结果：372968366913
24-06-07.22:25:35.659 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 127566802
24-06-07.22:25:35.663 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.663 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.663 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.664 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.664 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"83802216489","timestamp":1717770335664}
24-06-07.22:25:35.671 [main            ] INFO  RaffleOrderTest        - 测试结果：275522881920
24-06-07.22:25:35.671 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-1479305601
24-06-07.22:25:35.673 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.673 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.673 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.674 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.674 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"35669558765","timestamp":1717770335674}
24-06-07.22:25:35.680 [main            ] INFO  RaffleOrderTest        - 测试结果：802827504396
24-06-07.22:25:35.680 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1543033021
24-06-07.22:25:35.682 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.682 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.682 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.683 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.684 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"65477240512","timestamp":1717770335684}
24-06-07.22:25:35.691 [main            ] INFO  RaffleOrderTest        - 测试结果：061736791668
24-06-07.22:25:35.691 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1669319594
24-06-07.22:25:35.693 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.693 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.693 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.694 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.694 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"84317983904","timestamp":1717770335694}
24-06-07.22:25:35.699 [main            ] INFO  RaffleOrderTest        - 测试结果：458866756734
24-06-07.22:25:35.699 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-1167269655
24-06-07.22:25:35.702 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.702 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.702 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.702 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.703 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"14323064801","timestamp":1717770335702}
24-06-07.22:25:35.709 [main            ] INFO  RaffleOrderTest        - 测试结果：958639257959
24-06-07.22:25:35.709 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 11817928007
24-06-07.22:25:35.711 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.711 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.711 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.712 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.712 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"47658569496","timestamp":1717770335712}
24-06-07.22:25:35.717 [main            ] INFO  RaffleOrderTest        - 测试结果：393564100202
24-06-07.22:25:35.717 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 12002921402
24-06-07.22:25:35.720 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.720 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.720 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.721 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.721 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"90950488928","timestamp":1717770335721}
24-06-07.22:25:35.729 [main            ] INFO  RaffleOrderTest        - 测试结果：438016832926
24-06-07.22:25:35.729 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1754113511
24-06-07.22:25:35.734 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.734 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.734 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.736 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.736 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"37085497443","timestamp":1717770335736}
24-06-07.22:25:35.742 [main            ] INFO  RaffleOrderTest        - 测试结果：421574081694
24-06-07.22:25:35.742 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-968248313
24-06-07.22:25:35.745 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.745 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.745 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.746 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.746 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"72971909952","timestamp":1717770335746}
24-06-07.22:25:35.752 [main            ] INFO  RaffleOrderTest        - 测试结果：820133322787
24-06-07.22:25:35.752 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 11186018523
24-06-07.22:25:35.754 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.755 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.755 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.756 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.756 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"92920441197","timestamp":1717770335756}
24-06-07.22:25:35.761 [main            ] INFO  RaffleOrderTest        - 测试结果：667291564997
24-06-07.22:25:35.761 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 11181698479
24-06-07.22:25:35.767 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.767 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.767 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.768 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.768 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"35914269080","timestamp":1717770335768}
24-06-07.22:25:35.780 [main            ] INFO  RaffleOrderTest        - 测试结果：268065345598
24-06-07.22:25:35.780 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-749865615
24-06-07.22:25:35.789 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.789 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.789 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.792 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.793 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"80950639111","timestamp":1717770335793}
24-06-07.22:25:35.801 [main            ] INFO  RaffleOrderTest        - 测试结果：491396728468
24-06-07.22:25:35.801 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 11397829607
24-06-07.22:25:35.805 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.805 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.805 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.809 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.810 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"39416842392","timestamp":1717770335809}
24-06-07.22:25:35.826 [main            ] INFO  RaffleOrderTest        - 测试结果：667153917570
24-06-07.22:25:35.826 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-29099250
24-06-07.22:25:35.834 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.834 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.834 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.845 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.846 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"18816700375","timestamp":1717770335845}
24-06-07.22:25:35.853 [main            ] INFO  RaffleOrderTest        - 测试结果：988649842064
24-06-07.22:25:35.854 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-1334818843
24-06-07.22:25:35.859 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.860 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.860 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.864 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.864 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"23709637480","timestamp":1717770335864}
24-06-07.22:25:35.872 [main            ] INFO  RaffleOrderTest        - 测试结果：915932700499
24-06-07.22:25:35.873 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 11617297387
24-06-07.22:25:35.876 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:25:35.876 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:25:35.876 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:25:35.878 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":9011,"id":"28736427839","timestamp":1717770335877}
24-06-07.22:25:35.879 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:25:35.880 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"44253525337","timestamp":1717770335880}
24-06-07.22:25:35.884 [main            ] INFO  RaffleOrderTest        - 测试结果：103768803566
24-06-07.22:25:44.349 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9106 ms.
24-06-07.22:25:44.352 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:25:45.403 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 9818 ms.
24-06-07.22:25:47.124 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11853 ms.
24-06-07.22:25:47.125 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:25:55.041 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 10686 ms.
24-06-07.22:25:56.219 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 9070 ms.
24-06-07.22:26:06.898 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 21409 ms.
24-06-07.22:26:15.661 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 20497 ms.
24-06-07.22:26:19.751 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 23389 ms.
24-06-07.22:26:40.554 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 33545 ms.
24-06-07.22:26:48.784 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 28840 ms.
24-06-07.22:26:50.821 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 35019 ms.
24-06-07.22:27:08.416 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 27624 ms.
24-06-07.22:27:21.397 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 32359 ms.
24-06-07.22:27:25.474 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 34397 ms.
24-06-07.22:27:35.582 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"70773501997","timestamp":1717770335512}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.584 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"29815630275","timestamp":1717770335635}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.584 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"04713503185","timestamp":1717770335650}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.584 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"83802216489","timestamp":1717770335664}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.584 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"35669558765","timestamp":1717770335674}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.584 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"65477240512","timestamp":1717770335684}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.584 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"84317983904","timestamp":1717770335694}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.584 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"14323064801","timestamp":1717770335702}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.585 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"47658569496","timestamp":1717770335712}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.585 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"90950488928","timestamp":1717770335721}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.585 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"37085497443","timestamp":1717770335736}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.585 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"72971909952","timestamp":1717770335746}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.585 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"92920441197","timestamp":1717770335756}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.585 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"35914269080","timestamp":1717770335768}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.585 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"80950639111","timestamp":1717770335793}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.586 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"39416842392","timestamp":1717770335809}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.586 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"18816700375","timestamp":1717770335845}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.586 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"23709637480","timestamp":1717770335864}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.586 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":9011,"id":"28736427839","timestamp":1717770335877}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:35.586 [kafka-producer-network-thread | producer-1] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"44253525337","timestamp":1717770335880}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Expiring 20 record(s) for matthew-topic-0:120001 ms has passed since batch creation
24-06-07.22:27:38.184 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 29283 ms.
24-06-07.22:27:52.729 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 30971 ms.
24-06-07.22:27:52.823 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 26883 ms.
24-06-07.22:28:04.085 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 25139 ms.
24-06-07.22:28:20.237 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 26424 ms.
24-06-07.22:28:20.545 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 27008 ms.
24-06-07.22:28:33.704 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 28581 ms.
24-06-07.22:28:52.642 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 31057 ms.
24-06-07.22:28:52.945 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 31794 ms.
24-06-07.22:29:04.632 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 29878 ms.
24-06-07.22:29:08.821 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:29:08.821 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:29:08.822 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:29:08.822 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:29:08.822 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:29:08.822 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:29:08.824 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:29:08.824 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:29:08.824 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:29:08.824 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:29:08.826 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:29:08.826 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:29:08.827 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:29:08.827 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:29:08.827 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:29:08.827 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:29:08.836 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:29:08.836 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:29:08.836 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:29:08.836 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:29:08.844 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.22:29:08.846 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:29:08.846 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:29:08.846 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.22:29:08.847 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.22:29:10.840 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 78909 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:29:10.841 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:29:11.362 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:29:11.364 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:29:11.397 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
24-06-07.22:29:12.637 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:29:12.688 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:29:12.833 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:29:12.846 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:29:22.678 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 79114 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:29:22.679 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:29:23.192 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:29:23.194 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:29:23.212 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.22:29:24.052 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:29:24.093 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:29:24.217 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:29:24.226 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:29:25.324 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:29:25.395 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:29:25.462 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:29:25.463 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:29:25.463 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770565462
24-06-07.22:29:25.473 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:29:25.482 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:29:25.487 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:29:25.487 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:29:25.487 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770565487
24-06-07.22:29:25.493 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:29:25.504 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.115 seconds (JVM running for 3.692)
24-06-07.22:29:25.677 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:29:25.809 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:29:25.809 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:29:25.812 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:29:25.812 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:29:25.813 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:29:25.813 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:29:25.817 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:29:25.817 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:29:25.939 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:29:25.964 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.22:29:26.004 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:29:26.004 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-1988592051
24-06-07.22:29:26.114 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:29:26.114 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:29:26.114 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:29:26.116 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:29:26.124 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.22:29:26.134 [main            ] INFO  KafkaProducer          - [Producer clientId=producer-1] Instantiated an idempotent producer.
24-06-07.22:29:26.148 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:29:26.149 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:29:26.149 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770566148
24-06-07.22:29:26.162 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:29:26.164 [kafka-producer-network-thread | producer-1] INFO  TransactionManager     - [Producer clientId=producer-1] ProducerId set to 8 with epoch 0
24-06-07.22:29:34.946 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9074 ms.
24-06-07.22:29:34.948 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:29:36.102 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10258 ms.
24-06-07.22:29:36.102 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:29:38.071 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 11902 ms.
24-06-07.22:29:44.159 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 9206 ms.
24-06-07.22:29:46.463 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 10315 ms.
24-06-07.22:29:56.963 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 18757 ms.
24-06-07.22:30:04.019 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 17418 ms.
24-06-07.22:30:08.146 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 23865 ms.
24-06-07.22:30:23.722 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 26634 ms.
24-06-07.22:30:26.178 [main            ] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"12916107090","timestamp":1717770566117}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Topic matthew-topic not present in metadata after 60000 ms.
24-06-07.22:30:26.183 [main            ] ERROR EventPublisher         - 发送MQ消息失败 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"12916107090","timestamp":1717770566117}
org.springframework.kafka.KafkaException: Send failed; nested exception is org.apache.kafka.common.errors.TimeoutException: Topic matthew-topic not present in metadata after 60000 ms.
	at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:666)
	at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:403)
	at cn.matthew.infrastructure.persistent.event.EventPublisher.publish(EventPublisher.java:21)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.activitySkuStockConsumeSendQueue(ActivityRepository.java:133)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$36afa191.activitySkuStockConsumeSendQueue(<generated>)
	at cn.matthew.domain.activity.service.rule.impl.ActivitySkuStockActionChainNode.action(ActivitySkuStockActionChainNode.java:43)
	at cn.matthew.domain.activity.service.rule.impl.ActivityBaseChainNode.action(ActivityBaseChainNode.java:39)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:50)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:54)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.apache.kafka.common.errors.TimeoutException: Topic matthew-topic not present in metadata after 60000 ms.
24-06-07.22:30:26.222 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:30:26.222 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:30:26.222 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:30:26.222 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:30:26.222 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:30:26.222 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:30:26.228 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:30:26.228 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:30:26.228 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:30:26.228 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:30:26.229 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:30:26.229 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:30:26.229 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:30:26.231 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:30:26.231 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:30:26.234 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:30:26.234 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:30:26.234 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:30:26.237 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:30:26.237 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:30:26.241 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.22:30:26.247 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:30:26.247 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:30:26.247 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.22:30:26.247 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.22:31:46.894 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 81463 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:31:46.895 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:31:47.591 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:31:47.594 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:31:47.626 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
24-06-07.22:31:48.699 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:31:48.744 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:31:48.870 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:31:48.877 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:31:49.959 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:31:50.034 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-xfg-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = xfg-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:31:50.109 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:31:50.109 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:31:50.109 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770710107
24-06-07.22:31:50.121 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Subscribed to topic(s): matthew-topic
24-06-07.22:31:50.132 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-xfg-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = xfg-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:31:50.141 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:31:50.141 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:31:50.141 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770710141
24-06-07.22:31:50.145 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Subscribed to topic(s): matthew-topic
24-06-07.22:31:50.156 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.564 seconds (JVM running for 4.412)
24-06-07.22:31:50.333 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:31:50.446 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:31:50.446 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:31:50.446 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:31:50.446 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:31:50.447 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:31:50.447 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:31:50.451 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] (Re-)joining group
24-06-07.22:31:50.452 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] (Re-)joining group
24-06-07.22:31:50.596 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:31:50.625 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.22:31:50.654 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:31:50.655 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 11764029369
24-06-07.22:31:50.769 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:31:50.769 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:31:50.769 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:31:50.776 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_19
24-06-07.22:31:50.777 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:31:50.777 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1243230766
24-06-07.22:31:50.780 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:31:50.781 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:31:50.781 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:31:50.782 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:31:50.791 [main            ] INFO  ProducerConfig         - Idempotence will be disabled because acks is set to 1, not set to 'all'.
24-06-07.22:31:50.791 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 1
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.22:31:50.807 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:31:50.807 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:31:50.807 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770710807
24-06-07.22:31:50.814 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:32:01.172 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 10317 ms.
24-06-07.22:32:01.474 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11005 ms.
24-06-07.22:32:01.474 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:32:02.285 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11803 ms.
24-06-07.22:32:02.285 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:32:11.921 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 10426 ms.
24-06-07.22:32:11.930 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 9603 ms.
24-06-07.22:32:20.304 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:32:20.305 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:32:20.305 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:32:20.305 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:32:20.305 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:32:20.305 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:32:20.306 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:32:20.306 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:32:20.306 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:32:20.306 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:32:20.307 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:32:20.307 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:32:20.307 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:32:20.308 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:32:20.308 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:32:20.308 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:32:20.316 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-xfg-group-2 unregistered
24-06-07.22:32:20.316 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-xfg-group-1 unregistered
24-06-07.22:32:20.318 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - xfg-group: Consumer stopped
24-06-07.22:32:20.318 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - xfg-group: Consumer stopped
24-06-07.22:32:20.323 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.22:32:20.326 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:32:20.326 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:32:20.326 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.22:32:20.327 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.22:32:20.332 [main            ] ERROR EventPublisher         - 发送MQ消息失败 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"68649240546","timestamp":1717770710783}
org.apache.kafka.common.KafkaException: Producer closed while send in progress
	at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:938)
	at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:914)
	at org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:1087)
	at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:655)
	at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:403)
	at cn.matthew.infrastructure.persistent.event.EventPublisher.publish(EventPublisher.java:21)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.activitySkuStockConsumeSendQueue(ActivityRepository.java:133)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$b7f848ac.activitySkuStockConsumeSendQueue(<generated>)
	at cn.matthew.domain.activity.service.rule.impl.ActivitySkuStockActionChainNode.action(ActivitySkuStockActionChainNode.java:43)
	at cn.matthew.domain.activity.service.rule.impl.ActivityBaseChainNode.action(ActivityBaseChainNode.java:39)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:50)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:54)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.apache.kafka.common.KafkaException: Requested metadata update after close
	at org.apache.kafka.clients.producer.internals.ProducerMetadata.awaitUpdate(ProducerMetadata.java:126)
	at org.apache.kafka.clients.producer.KafkaProducer.waitOnMetadata(KafkaProducer.java:1088)
	at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:935)
	... 54 common frames omitted
24-06-07.22:32:27.575 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 82135 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:32:27.575 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:32:28.064 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:32:28.066 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:32:28.085 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
24-06-07.22:32:29.085 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:32:29.133 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:32:29.267 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:32:29.285 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:32:30.582 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:32:30.648 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-xfg-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = xfg-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:32:30.734 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:32:30.734 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:32:30.734 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770750733
24-06-07.22:32:30.745 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Subscribed to topic(s): matthew-topic
24-06-07.22:32:30.756 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-xfg-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = xfg-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:32:30.762 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:32:30.762 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:32:30.762 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770750762
24-06-07.22:32:30.765 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Subscribed to topic(s): matthew-topic
24-06-07.22:32:30.775 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.459 seconds (JVM running for 3.961)
24-06-07.22:32:30.962 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:32:31.048 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:32:31.048 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:32:31.049 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:32:31.049 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:32:31.050 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:32:31.050 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:32:31.054 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] (Re-)joining group
24-06-07.22:32:31.054 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] (Re-)joining group
24-06-07.22:32:31.197 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:32:31.224 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.22:32:31.259 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:32:31.260 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1-119629220
24-06-07.22:32:31.395 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:32:31.395 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:32:31.396 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:32:31.399 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:32:31.408 [main            ] INFO  ProducerConfig         - Idempotence will be disabled because acks is set to 1, not set to 'all'.
24-06-07.22:32:31.408 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [127.0.0.1:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 1
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.22:32:31.430 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:32:31.431 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:32:31.431 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770751430
24-06-07.22:32:31.441 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:32:40.127 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9061 ms.
24-06-07.22:32:40.130 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:32:40.717 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 9230 ms.
24-06-07.22:32:42.690 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11576 ms.
24-06-07.22:32:42.690 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:32:49.182 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 9008 ms.
24-06-07.22:32:53.523 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 10815 ms.
24-06-07.22:33:02.207 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 21369 ms.
24-06-07.22:33:07.553 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 18234 ms.
24-06-07.22:33:10.414 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 16746 ms.
24-06-07.22:33:31.456 [main            ] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"42836976845","timestamp":1717770751400}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Topic matthew-topic not present in metadata after 60000 ms.
24-06-07.22:33:31.460 [main            ] ERROR EventPublisher         - 发送MQ消息失败 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"42836976845","timestamp":1717770751400}
org.springframework.kafka.KafkaException: Send failed; nested exception is org.apache.kafka.common.errors.TimeoutException: Topic matthew-topic not present in metadata after 60000 ms.
	at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:666)
	at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:403)
	at cn.matthew.infrastructure.persistent.event.EventPublisher.publish(EventPublisher.java:21)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.activitySkuStockConsumeSendQueue(ActivityRepository.java:133)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$b7f848ac.activitySkuStockConsumeSendQueue(<generated>)
	at cn.matthew.domain.activity.service.rule.impl.ActivitySkuStockActionChainNode.action(ActivitySkuStockActionChainNode.java:43)
	at cn.matthew.domain.activity.service.rule.impl.ActivityBaseChainNode.action(ActivityBaseChainNode.java:39)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:50)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:54)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.apache.kafka.common.errors.TimeoutException: Topic matthew-topic not present in metadata after 60000 ms.
24-06-07.22:33:31.487 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:33:31.487 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:33:31.487 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:33:31.488 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:33:31.488 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:33:31.488 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:33:31.489 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:33:31.489 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:33:31.490 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:33:31.490 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:33:31.490 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:33:31.491 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:33:31.491 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:33:31.491 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:33:31.491 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:33:31.491 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:33:31.509 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-xfg-group-2 unregistered
24-06-07.22:33:31.512 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - xfg-group: Consumer stopped
24-06-07.22:33:31.512 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-xfg-group-1 unregistered
24-06-07.22:33:31.512 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - xfg-group: Consumer stopped
24-06-07.22:33:31.517 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.22:33:31.521 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:33:31.522 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:33:31.522 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.22:33:31.522 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.22:33:41.098 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 83358 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:33:41.099 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:33:41.697 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:33:41.698 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:33:41.719 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
24-06-07.22:33:42.715 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:33:42.759 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:33:42.894 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:33:42.905 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:33:44.438 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:33:44.542 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-xfg-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = xfg-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:33:44.635 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:33:44.635 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:33:44.635 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770824634
24-06-07.22:33:44.651 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Subscribed to topic(s): matthew-topic
24-06-07.22:33:44.664 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-xfg-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = xfg-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:33:44.678 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:33:44.678 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:33:44.678 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770824678
24-06-07.22:33:44.690 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Subscribed to topic(s): matthew-topic
24-06-07.22:33:44.713 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 4.076 seconds (JVM running for 4.882)
24-06-07.22:33:44.943 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:33:45.074 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:33:45.074 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:33:45.075 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:33:45.075 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:33:45.076 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:33:45.076 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:33:45.081 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] (Re-)joining group
24-06-07.22:33:45.081 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] (Re-)joining group
24-06-07.22:33:45.225 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:33:45.256 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.22:33:45.289 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:33:45.290 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 1955198611
24-06-07.22:33:45.413 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:33:45.413 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:33:45.413 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:33:45.422 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_19
24-06-07.22:33:45.422 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:33:45.422 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 12091053144
24-06-07.22:33:45.427 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:33:45.427 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:33:45.427 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:33:45.429 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:33:45.439 [main            ] INFO  ProducerConfig         - Idempotence will be disabled because acks is set to 1, not set to 'all'.
24-06-07.22:33:45.439 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [127.0.0.1:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 1
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.22:33:45.468 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:33:45.468 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:33:45.468 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717770825468
24-06-07.22:33:45.483 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:33:54.358 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9198 ms.
24-06-07.22:33:54.359 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:33:56.582 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 11067 ms.
24-06-07.22:33:56.793 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11668 ms.
24-06-07.22:33:56.793 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:34:05.184 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 8341 ms.
24-06-07.22:34:06.331 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 11944 ms.
24-06-07.22:34:18.219 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 21514 ms.
24-06-07.22:34:21.419 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 16095 ms.
24-06-07.22:34:26.902 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 20449 ms.
24-06-07.22:34:43.851 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 25501 ms.
24-06-07.22:34:45.500 [main            ] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"27403555153","timestamp":1717770825430}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Topic matthew-topic not present in metadata after 60000 ms.
24-06-07.22:34:45.504 [main            ] ERROR EventPublisher         - 发送MQ消息失败 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"27403555153","timestamp":1717770825430}
org.springframework.kafka.KafkaException: Send failed; nested exception is org.apache.kafka.common.errors.TimeoutException: Topic matthew-topic not present in metadata after 60000 ms.
	at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:666)
	at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:403)
	at cn.matthew.infrastructure.persistent.event.EventPublisher.publish(EventPublisher.java:21)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.activitySkuStockConsumeSendQueue(ActivityRepository.java:133)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$77676af6.activitySkuStockConsumeSendQueue(<generated>)
	at cn.matthew.domain.activity.service.rule.impl.ActivitySkuStockActionChainNode.action(ActivitySkuStockActionChainNode.java:43)
	at cn.matthew.domain.activity.service.rule.impl.ActivityBaseChainNode.action(ActivityBaseChainNode.java:39)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:50)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:54)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.apache.kafka.common.errors.TimeoutException: Topic matthew-topic not present in metadata after 60000 ms.
24-06-07.22:34:45.530 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:34:45.530 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:34:45.530 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:34:45.530 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:34:45.530 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:34:45.530 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:34:45.533 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:34:45.533 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:34:45.533 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:34:45.533 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:34:45.535 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:34:45.535 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:34:45.535 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:34:45.536 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:34:45.536 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:34:45.536 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:34:45.546 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-xfg-group-1 unregistered
24-06-07.22:34:45.546 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - xfg-group: Consumer stopped
24-06-07.22:34:45.546 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-xfg-group-2 unregistered
24-06-07.22:34:45.547 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - xfg-group: Consumer stopped
24-06-07.22:34:45.551 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.22:34:45.553 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:34:45.553 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:34:45.553 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.22:34:45.553 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.22:36:58.102 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 87037 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:36:58.103 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:36:58.720 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:36:58.723 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:36:58.751 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
24-06-07.22:36:59.970 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:37:00.020 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:37:00.200 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:37:00.209 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:37:00.328 [main            ] WARN  GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySkuStockConsumeMessageListener': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityService': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityRepository': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
24-06-07.22:37:00.353 [main            ] INFO  ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
24-06-07.22:37:00.366 [main            ] ERROR SpringApplication      - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySkuStockConsumeMessageListener': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityService': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityRepository': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityService': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityRepository': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:544)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:520)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:673)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:228)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:329)
	... 43 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityRepository': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:479)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:550)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:520)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:673)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:228)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:329)
	... 59 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:479)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:550)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:520)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:673)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:228)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:329)
	... 73 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 87 common frames omitted
24-06-07.22:37:00.367 [main            ] ERROR TestContextManager     - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@5c671d7f] to prepare test instance [cn.matthew.test.RaffleOrderTest@70091872]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySkuStockConsumeMessageListener': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityService': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityRepository': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 27 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityService': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityRepository': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:544)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:520)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:673)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:228)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:329)
	... 43 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityRepository': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:479)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:550)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:520)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:673)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:228)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:329)
	... 59 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:479)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:550)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:520)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:673)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:228)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:329)
	... 73 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 87 common frames omitted
24-06-07.22:37:29.997 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 87630 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:37:29.998 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:37:30.780 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:37:30.784 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:37:30.830 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
24-06-07.22:37:32.164 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:37:32.210 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:37:32.337 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:37:32.351 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:37:32.508 [main            ] WARN  GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySkuStockConsumeMessageListener': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityService': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityRepository': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
24-06-07.22:37:32.543 [main            ] INFO  ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
24-06-07.22:37:32.564 [main            ] ERROR SpringApplication      - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySkuStockConsumeMessageListener': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityService': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityRepository': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityService': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityRepository': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:544)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:520)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:673)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:228)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:329)
	... 43 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityRepository': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:479)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:550)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:520)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:673)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:228)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:329)
	... 59 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:479)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:550)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:520)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:673)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:228)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:329)
	... 73 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 87 common frames omitted
24-06-07.22:37:32.566 [main            ] ERROR TestContextManager     - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@5c671d7f] to prepare test instance [cn.matthew.test.RaffleOrderTest@2e362407]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySkuStockConsumeMessageListener': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityService': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityRepository': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 27 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityService': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityRepository': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:544)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:520)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:673)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:228)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:329)
	... 43 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activityRepository': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:479)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:550)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:520)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:673)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:228)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:329)
	... 59 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activitySKuStockZeroMessageEvent': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:479)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:550)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:520)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:673)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:228)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:329)
	... 73 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.topic.user' in value "${kafka.topic.user}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 87 common frames omitted
24-06-07.22:41:23.406 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 92173 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:41:23.406 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:41:23.922 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:41:23.923 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:41:23.943 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
24-06-07.22:41:25.052 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:41:25.102 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:41:25.226 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:41:25.236 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:41:26.892 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:41:26.986 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-xfg-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = xfg-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:41:27.062 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:41:27.063 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:41:27.063 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717771287060
24-06-07.22:41:27.075 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Subscribed to topic(s): matthew-topic
24-06-07.22:41:27.086 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-xfg-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = xfg-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:41:27.094 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:41:27.094 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:41:27.094 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717771287094
24-06-07.22:41:27.099 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Subscribed to topic(s): matthew-topic
24-06-07.22:41:27.115 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.946 seconds (JVM running for 4.391)
24-06-07.22:41:27.359 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:41:27.502 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:41:27.503 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:41:27.505 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:41:27.505 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:41:27.507 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:41:27.506 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:41:27.523 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] (Re-)joining group
24-06-07.22:41:27.523 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] (Re-)joining group
24-06-07.22:41:27.676 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:41:27.710 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.22:41:27.759 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:41:27.760 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: xiaofuge sku: 9011 outBusinessNo: 12091263716
24-06-07.22:41:27.889 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:41:27.889 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:41:27.889 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:41:27.892 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:41:27.914 [main            ] INFO  ProducerConfig         - Idempotence will be disabled because acks is set to 1, not set to 'all'.
24-06-07.22:41:27.914 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 1
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.22:41:27.944 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:41:27.944 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:41:27.944 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717771287944
24-06-07.22:41:27.952 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:41:37.874 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 9873 ms.
24-06-07.22:41:38.114 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10541 ms.
24-06-07.22:41:38.115 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:41:39.216 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 11694 ms.
24-06-07.22:41:39.217 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:41:47.818 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 9701 ms.
24-06-07.22:41:50.306 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 11063 ms.
24-06-07.22:41:57.393 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 19370 ms.
24-06-07.22:42:07.672 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 19742 ms.
24-06-07.22:42:12.307 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 21885 ms.
24-06-07.22:42:27.967 [main            ] ERROR LoggingProducerListener - Exception thrown when sending a message with key='null' and payload='{"data":{"activityId":100301,"sku":9011},"id":"53986537820","timestamp":1717771287895}' to topic matthew-topic:
org.apache.kafka.common.errors.TimeoutException: Topic matthew-topic not present in metadata after 60000 ms.
24-06-07.22:42:27.970 [main            ] ERROR EventPublisher         - 发送MQ消息失败 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"53986537820","timestamp":1717771287895}
org.springframework.kafka.KafkaException: Send failed; nested exception is org.apache.kafka.common.errors.TimeoutException: Topic matthew-topic not present in metadata after 60000 ms.
	at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:666)
	at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:403)
	at cn.matthew.infrastructure.persistent.event.EventPublisher.publish(EventPublisher.java:21)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.activitySkuStockConsumeSendQueue(ActivityRepository.java:133)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$b7f848ac.activitySkuStockConsumeSendQueue(<generated>)
	at cn.matthew.domain.activity.service.rule.impl.ActivitySkuStockActionChainNode.action(ActivitySkuStockActionChainNode.java:43)
	at cn.matthew.domain.activity.service.rule.impl.ActivityBaseChainNode.action(ActivityBaseChainNode.java:39)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:50)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:54)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.apache.kafka.common.errors.TimeoutException: Topic matthew-topic not present in metadata after 60000 ms.
24-06-07.22:42:28.007 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:42:28.007 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:42:28.007 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:42:28.007 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:42:28.007 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:42:28.007 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:42:28.011 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:42:28.011 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:42:28.011 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:42:28.011 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:42:28.013 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:42:28.013 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:42:28.014 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:42:28.015 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:42:28.015 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:42:28.015 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:42:28.030 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-xfg-group-2 unregistered
24-06-07.22:42:28.033 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - xfg-group: Consumer stopped
24-06-07.22:42:28.033 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-xfg-group-1 unregistered
24-06-07.22:42:28.033 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - xfg-group: Consumer stopped
24-06-07.22:42:28.039 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.22:42:28.043 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:42:28.043 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:42:28.043 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.22:42:28.043 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.22:42:34.791 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 93553 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:42:34.792 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:42:35.321 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:42:35.322 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:42:35.340 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.22:42:36.172 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:42:36.215 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:42:36.340 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:42:36.349 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:42:37.421 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:42:37.493 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-xfg-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = xfg-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:42:37.556 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:42:37.556 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:42:37.556 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717771357555
24-06-07.22:42:37.567 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Subscribed to topic(s): matthew-topic
24-06-07.22:42:37.577 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-xfg-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = xfg-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:42:37.581 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:42:37.581 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:42:37.581 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717771357581
24-06-07.22:42:37.584 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Subscribed to topic(s): matthew-topic
24-06-07.22:42:37.601 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.073 seconds (JVM running for 3.608)
24-06-07.22:42:37.781 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:42:37.870 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:42:37.870 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:42:37.871 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:42:37.871 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:42:37.872 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:42:37.872 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:42:37.875 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] (Re-)joining group
24-06-07.22:42:37.875 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] (Re-)joining group
24-06-07.22:42:38.007 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:42:38.034 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.22:42:38.072 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:42:38.074 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 396335505700 sku: 9011 outBusinessNo: 1-2026041548
24-06-07.22:42:38.203 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:42:38.203 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:42:38.203 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:42:38.209 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_19
24-06-07.22:42:38.210 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:42:38.211 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 640195087369 sku: 9011 outBusinessNo: 1625320423
24-06-07.22:42:38.217 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:42:38.218 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:42:38.218 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:42:38.226 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:42:38.244 [main            ] INFO  ProducerConfig         - Idempotence will be disabled because acks is set to 1, not set to 'all'.
24-06-07.22:42:38.245 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 1
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.22:42:38.280 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:42:38.280 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:42:38.280 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717771358280
24-06-07.22:42:38.289 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:42:47.549 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 9225 ms.
24-06-07.22:42:48.290 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10403 ms.
24-06-07.22:42:48.291 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:42:48.295 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 10419 ms.
24-06-07.22:42:48.295 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:42:56.508 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 8183 ms.
24-06-07.22:42:56.661 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 8357 ms.
24-06-07.22:43:05.385 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 17724 ms.
24-06-07.22:43:13.404 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 16743 ms.
24-06-07.22:43:17.384 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 20581 ms.
24-06-07.22:43:35.278 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:43:35.279 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:43:35.279 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:43:35.279 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:43:35.279 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:43:35.279 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:43:35.280 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:43:35.280 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:43:35.280 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-1, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:43:35.280 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-xfg-group-2, groupId=xfg-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:43:35.282 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:43:35.282 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:43:35.282 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:43:35.282 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:43:35.282 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:43:35.282 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:43:35.288 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-xfg-group-2 unregistered
24-06-07.22:43:35.289 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - xfg-group: Consumer stopped
24-06-07.22:43:35.289 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-xfg-group-1 unregistered
24-06-07.22:43:35.290 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - xfg-group: Consumer stopped
24-06-07.22:43:35.295 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.22:43:35.301 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:43:35.301 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:43:35.301 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.22:43:35.302 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.22:43:35.307 [main            ] ERROR EventPublisher         - 发送MQ消息失败 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"21013763730","timestamp":1717771358227}
org.apache.kafka.common.KafkaException: Producer closed while send in progress
	at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:938)
	at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:914)
	at org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:993)
	at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:655)
	at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:403)
	at cn.matthew.infrastructure.persistent.event.EventPublisher.publish(EventPublisher.java:21)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.activitySkuStockConsumeSendQueue(ActivityRepository.java:133)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$b7f848ac.activitySkuStockConsumeSendQueue(<generated>)
	at cn.matthew.domain.activity.service.rule.impl.ActivitySkuStockActionChainNode.action(ActivitySkuStockActionChainNode.java:43)
	at cn.matthew.domain.activity.service.rule.impl.ActivityBaseChainNode.action(ActivityBaseChainNode.java:39)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:50)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:55)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.apache.kafka.common.KafkaException: Requested metadata update after close
	at org.apache.kafka.clients.producer.internals.ProducerMetadata.awaitUpdate(ProducerMetadata.java:126)
	at org.apache.kafka.clients.producer.KafkaProducer.waitOnMetadata(KafkaProducer.java:1088)
	at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:935)
	... 54 common frames omitted
24-06-07.22:43:37.242 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 94751 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:43:37.243 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:43:37.894 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:43:37.897 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:43:37.932 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
24-06-07.22:43:38.957 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:43:39.000 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:43:39.123 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:43:39.132 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:43:40.217 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:43:40.285 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:43:40.355 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:43:40.355 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:43:40.355 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717771420354
24-06-07.22:43:40.366 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:43:40.374 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:43:40.382 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:43:40.382 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:43:40.382 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717771420382
24-06-07.22:43:40.385 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:43:40.395 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.456 seconds (JVM running for 4.069)
24-06-07.22:43:40.549 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:43:40.666 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:43:40.666 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:43:40.668 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:43:40.668 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:43:40.669 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:43:40.669 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:43:40.673 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:43:40.673 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:43:40.791 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:43:40.820 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.22:43:40.854 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:43:40.856 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 199205481900 sku: 9011 outBusinessNo: 1-1989363353
24-06-07.22:43:41.032 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:43:41.032 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:43:41.032 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:43:41.039 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_19
24-06-07.22:43:41.043 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:43:41.043 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 082959525837 sku: 9011 outBusinessNo: 11622017214
24-06-07.22:43:41.049 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:43:41.049 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:43:41.049 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:43:41.050 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_18
24-06-07.22:43:41.051 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.22:43:41.051 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 091065886101 sku: 9011 outBusinessNo: 1-1768469164
24-06-07.22:43:41.054 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:43:41.054 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:43:41.054 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:43:41.056 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:43:41.066 [main            ] INFO  ProducerConfig         - Idempotence will be disabled because acks is set to 1, not set to 'all'.
24-06-07.22:43:41.066 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 1
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.22:43:41.087 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:43:41.087 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:43:41.087 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717771421087
24-06-07.22:43:41.094 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:43:49.032 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 8325 ms.
24-06-07.22:43:49.035 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:43:49.523 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 8379 ms.
24-06-07.22:43:50.151 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 2147483646 due to socket connection setup timeout. The timeout value is 9465 ms.
24-06-07.22:43:50.152 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Group coordinator kafka:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
24-06-07.22:43:58.654 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 8461 ms.
24-06-07.22:43:59.870 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 10802 ms.
24-06-07.22:44:06.047 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 16387 ms.
24-06-07.22:44:21.429 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 22628 ms.
24-06-07.22:44:22.687 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 22691 ms.
24-06-07.22:44:30.408 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 24218 ms.
24-06-07.22:44:40.916 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:44:40.916 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:44:40.916 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:44:40.916 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:44:40.916 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:44:40.917 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.22:44:40.918 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:44:40.918 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:44:40.918 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.22:44:40.918 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.22:44:40.919 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:44:40.919 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:44:40.920 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:44:40.920 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:44:40.920 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:44:40.920 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.22:44:40.927 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.22:44:40.927 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.22:44:40.927 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:44:40.927 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.22:44:40.931 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.22:44:40.933 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.22:44:40.933 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.22:44:40.933 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.22:44:40.933 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.22:44:40.935 [main            ] ERROR EventPublisher         - 发送MQ消息失败 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"61278119847","timestamp":1717771421058}
org.apache.kafka.common.KafkaException: Producer closed while send in progress
	at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:938)
	at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:914)
	at org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:993)
	at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:655)
	at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:403)
	at cn.matthew.infrastructure.persistent.event.EventPublisher.publish(EventPublisher.java:21)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository.activitySkuStockConsumeSendQueue(ActivityRepository.java:133)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8e55dbe6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.matthew.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$b7f848ac.activitySkuStockConsumeSendQueue(<generated>)
	at cn.matthew.domain.activity.service.rule.impl.ActivitySkuStockActionChainNode.action(ActivitySkuStockActionChainNode.java:43)
	at cn.matthew.domain.activity.service.rule.impl.ActivityBaseChainNode.action(ActivityBaseChainNode.java:39)
	at cn.matthew.domain.activity.service.AbstractRaffleActivityService.createSkuRechargeOrder(AbstractRaffleActivity.java:50)
	at cn.matthew.test.RaffleOrderTest.test_createSkuRechargeOrder1(RaffleOrderTest.java:55)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.apache.kafka.common.KafkaException: Requested metadata update after close
	at org.apache.kafka.clients.producer.internals.ProducerMetadata.awaitUpdate(ProducerMetadata.java:126)
	at org.apache.kafka.clients.producer.KafkaProducer.waitOnMetadata(KafkaProducer.java:1088)
	at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:935)
	... 54 common frames omitted
24-06-07.22:51:55.895 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 5096 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.22:51:55.896 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.22:51:56.454 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.22:51:56.456 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.22:51:56.476 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.22:51:57.335 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.22:51:57.380 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.22:51:57.500 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:51:57.520 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.22:51:58.643 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.22:51:58.722 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:51:58.815 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:51:58.815 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:51:58.815 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717771918814
24-06-07.22:51:58.834 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:51:58.846 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.22:51:58.855 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:51:58.855 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:51:58.855 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717771918855
24-06-07.22:51:58.861 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.22:51:58.879 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.23 seconds (JVM running for 3.893)
24-06-07.22:51:59.104 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:51:59.213 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:51:59.214 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:51:59.216 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:51:59.216 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:51:59.217 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:51:59.218 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.22:51:59.224 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:51:59.224 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:51:59.248 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: need to re-join with the given member-id
24-06-07.22:51:59.248 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: need to re-join with the given member-id
24-06-07.22:51:59.248 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.22:51:59.248 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.22:51:59.358 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:51:59.386 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.22:51:59.424 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.22:51:59.425 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 440585213559 sku: 9011 outBusinessNo: 12125279541
24-06-07.22:51:59.553 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:51:59.553 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:51:59.553 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:51:59.555 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:51:59.568 [main            ] INFO  ProducerConfig         - Idempotence will be disabled because acks is set to 1, not set to 'all'.
24-06-07.22:51:59.568 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 1
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.22:51:59.599 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.22:51:59.599 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.22:51:59.599 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717771919599
24-06-07.22:51:59.617 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.22:51:59.617 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.22:51:59.642 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"93815314516","timestamp":1717771919557}
24-06-07.22:51:59.649 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:51:59.677 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:51:59.718 [main            ] INFO  RaffleOrderTest        - 测试结果：644750274625
24-06-07.22:51:59.718 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 951002064635 sku: 9011 outBusinessNo: 1-2006791275
24-06-07.22:51:59.721 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:51:59.721 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:51:59.721 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:51:59.722 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:51:59.723 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"28492986893","timestamp":1717771919723}
24-06-07.22:51:59.723 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.22:51:59.733 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.22:51:59.748 [main            ] INFO  RaffleOrderTest        - 测试结果：933108547158
24-06-07.22:51:59.748 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 647682891830 sku: 9011 outBusinessNo: 11838970569
24-06-07.22:51:59.751 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:51:59.751 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:51:59.751 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:51:59.752 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:51:59.753 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"62973727386","timestamp":1717771919752}
24-06-07.22:51:59.759 [main            ] INFO  RaffleOrderTest        - 测试结果：348445520150
24-06-07.22:51:59.759 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 958534645809 sku: 9011 outBusinessNo: 1-2018385892
24-06-07.22:51:59.762 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:51:59.762 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:51:59.762 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:51:59.763 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:51:59.764 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"42551680439","timestamp":1717771919763}
24-06-07.22:51:59.769 [main            ] INFO  RaffleOrderTest        - 测试结果：138859517373
24-06-07.22:51:59.769 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 630552772388 sku: 9011 outBusinessNo: 1-1668394907
24-06-07.22:51:59.772 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:51:59.772 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:51:59.772 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:51:59.774 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:51:59.774 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"13733493497","timestamp":1717771919774}
24-06-07.22:51:59.793 [main            ] INFO  RaffleOrderTest        - 测试结果：309689378030
24-06-07.22:51:59.794 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 629495548153 sku: 9011 outBusinessNo: 1-807404596
24-06-07.22:51:59.799 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:51:59.799 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:51:59.800 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:51:59.801 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:51:59.802 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"42524350027","timestamp":1717771919801}
24-06-07.22:51:59.815 [main            ] INFO  RaffleOrderTest        - 测试结果：141423928314
24-06-07.22:51:59.815 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 733297352003 sku: 9011 outBusinessNo: 1334217308
24-06-07.22:51:59.822 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:51:59.822 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:51:59.822 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:51:59.825 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:51:59.826 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"76254427800","timestamp":1717771919825}
24-06-07.22:51:59.842 [main            ] INFO  RaffleOrderTest        - 测试结果：941954669830
24-06-07.22:51:59.842 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 481589449857 sku: 9011 outBusinessNo: 1-1138335089
24-06-07.22:51:59.849 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:51:59.849 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:51:59.849 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:51:59.864 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:51:59.865 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"33356420871","timestamp":1717771919864}
24-06-07.22:51:59.888 [main            ] INFO  RaffleOrderTest        - 测试结果：964655391775
24-06-07.22:51:59.889 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 926602680811 sku: 9011 outBusinessNo: 11424857355
24-06-07.22:51:59.895 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:51:59.895 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:51:59.895 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:51:59.898 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:51:59.898 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"17419142534","timestamp":1717771919898}
24-06-07.22:51:59.915 [main            ] INFO  RaffleOrderTest        - 测试结果：795156937611
24-06-07.22:51:59.915 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 088595736738 sku: 9011 outBusinessNo: 1415327502
24-06-07.22:51:59.919 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:51:59.919 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:51:59.919 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:51:59.920 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:51:59.921 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"61624488585","timestamp":1717771919920}
24-06-07.22:51:59.930 [main            ] INFO  RaffleOrderTest        - 测试结果：455124015857
24-06-07.22:51:59.930 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 344138021534 sku: 9011 outBusinessNo: 1880595765
24-06-07.22:51:59.933 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:51:59.933 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:51:59.933 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:51:59.935 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:51:59.935 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"62461830339","timestamp":1717771919935}
24-06-07.22:51:59.945 [main            ] INFO  RaffleOrderTest        - 测试结果：294766306294
24-06-07.22:51:59.945 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 725362114387 sku: 9011 outBusinessNo: 1899771609
24-06-07.22:51:59.949 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:51:59.949 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:51:59.949 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:51:59.951 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:51:59.951 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"87083454488","timestamp":1717771919951}
24-06-07.22:51:59.959 [main            ] INFO  RaffleOrderTest        - 测试结果：252038227782
24-06-07.22:51:59.959 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 853681641664 sku: 9011 outBusinessNo: 1965215196
24-06-07.22:51:59.963 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:51:59.963 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:51:59.963 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:51:59.964 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:51:59.965 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"09134211702","timestamp":1717771919964}
24-06-07.22:51:59.972 [main            ] INFO  RaffleOrderTest        - 测试结果：172266720641
24-06-07.22:51:59.972 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 370132008052 sku: 9011 outBusinessNo: 1-254579347
24-06-07.22:51:59.977 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:51:59.977 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:51:59.977 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:51:59.978 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:51:59.979 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"65067379059","timestamp":1717771919978}
24-06-07.22:51:59.991 [main            ] INFO  RaffleOrderTest        - 测试结果：612801506816
24-06-07.22:51:59.991 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 412777557581 sku: 9011 outBusinessNo: 1-1219544170
24-06-07.22:51:59.999 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:51:59.999 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:51:59.999 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:52:00.001 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:52:00.001 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"39362762194","timestamp":1717771920001}
24-06-07.22:52:00.016 [main            ] INFO  RaffleOrderTest        - 测试结果：704290804223
24-06-07.22:52:00.016 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 655517283209 sku: 9011 outBusinessNo: 1455143058
24-06-07.22:52:00.024 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:52:00.024 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:52:00.024 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:52:00.036 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:52:00.036 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"75347030044","timestamp":1717771920036}
24-06-07.22:52:00.095 [main            ] INFO  RaffleOrderTest        - 测试结果：831329282802
24-06-07.22:52:00.095 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 194914741560 sku: 9011 outBusinessNo: 1-1810919416
24-06-07.22:52:00.103 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:52:00.103 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:52:00.103 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:52:00.106 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:52:00.106 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"99198171401","timestamp":1717771920106}
24-06-07.22:52:00.121 [main            ] INFO  RaffleOrderTest        - 测试结果：482021453151
24-06-07.22:52:00.121 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 948757180416 sku: 9011 outBusinessNo: 1-515156771
24-06-07.22:52:00.128 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:52:00.128 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:52:00.128 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:52:00.132 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:52:00.133 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"29063147169","timestamp":1717771920133}
24-06-07.22:52:00.155 [main            ] INFO  RaffleOrderTest        - 测试结果：277013786387
24-06-07.22:52:00.155 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 987329350783 sku: 9011 outBusinessNo: 1-590983764
24-06-07.22:52:00.159 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:52:00.159 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:52:00.159 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:52:00.161 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:52:00.161 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"69071600195","timestamp":1717771920161}
24-06-07.22:52:00.171 [main            ] INFO  RaffleOrderTest        - 测试结果：076659917998
24-06-07.22:52:00.171 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 619916818092 sku: 9011 outBusinessNo: 1-215810176
24-06-07.22:52:00.175 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.22:52:00.175 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.22:52:00.175 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.22:52:00.178 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":9011,"id":"09905974959","timestamp":1717771920176}
24-06-07.22:52:00.179 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.22:52:00.180 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"50232735406","timestamp":1717771920180}
24-06-07.22:52:00.208 [main            ] INFO  RaffleOrderTest        - 测试结果：970963051357
24-06-07.22:52:05.258 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Successfully joined group with generation Generation{generationId=1, memberId='consumer-matthew-group-1-e33b06a0-fb7d-43d7-ab3a-0dc0fbf4ed34', protocol='range'}
24-06-07.22:52:05.258 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Successfully joined group with generation Generation{generationId=1, memberId='consumer-matthew-group-2-f591a93b-a2b8-4ad4-94c5-6737579f1ab4', protocol='range'}
24-06-07.22:52:05.263 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Finished assignment for group at generation 1: {consumer-matthew-group-2-f591a93b-a2b8-4ad4-94c5-6737579f1ab4=Assignment(partitions=[]), consumer-matthew-group-1-e33b06a0-fb7d-43d7-ab3a-0dc0fbf4ed34=Assignment(partitions=[matthew-topic-0])}
24-06-07.22:52:05.276 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Successfully synced group in generation Generation{generationId=1, memberId='consumer-matthew-group-2-f591a93b-a2b8-4ad4-94c5-6737579f1ab4', protocol='range'}
24-06-07.22:52:05.276 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Successfully synced group in generation Generation{generationId=1, memberId='consumer-matthew-group-1-e33b06a0-fb7d-43d7-ab3a-0dc0fbf4ed34', protocol='range'}
24-06-07.22:52:05.277 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Notifying assignor about the new Assignment(partitions=[matthew-topic-0])
24-06-07.22:52:05.277 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Notifying assignor about the new Assignment(partitions=[])
24-06-07.22:52:05.277 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Adding newly assigned partitions: 
24-06-07.22:52:05.279 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: partitions assigned: []
24-06-07.22:52:05.282 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Adding newly assigned partitions: matthew-topic-0
24-06-07.22:52:05.288 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Found no committed offset for partition matthew-topic-0
24-06-07.22:52:05.296 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  SubscriptionState      - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting offset for partition matthew-topic-0 to position FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[kafka:9092 (id: 1 rack: null)], epoch=0}}.
24-06-07.22:52:05.297 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: partitions assigned: [matthew-topic-0]
24-06-07.22:52:05.316 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"93815314516","timestamp":1717771919557}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.317 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"28492986893","timestamp":1717771919723}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.320 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"62973727386","timestamp":1717771919752}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.320 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"42551680439","timestamp":1717771919763}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.321 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"13733493497","timestamp":1717771919774}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.321 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"42524350027","timestamp":1717771919801}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.322 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"76254427800","timestamp":1717771919825}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.322 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"33356420871","timestamp":1717771919864}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.323 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"17419142534","timestamp":1717771919898}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.323 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"61624488585","timestamp":1717771919920}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.323 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"62461830339","timestamp":1717771919935}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.324 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"87083454488","timestamp":1717771919951}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.324 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"09134211702","timestamp":1717771919964}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.324 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"65067379059","timestamp":1717771919978}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.324 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"39362762194","timestamp":1717771920001}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.325 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"75347030044","timestamp":1717771920036}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.325 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"99198171401","timestamp":1717771920106}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.326 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"29063147169","timestamp":1717771920133}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.326 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"69071600195","timestamp":1717771920161}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.326 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":9011,"id":"09905974959","timestamp":1717771920176}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.22:52:05.327 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"50232735406","timestamp":1717771920180}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:28)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:00:59.327 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Node -1 disconnected.
24-06-07.23:00:59.409 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  NetworkClient          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Node -1 disconnected.
24-06-07.23:00:59.631 [kafka-producer-network-thread | producer-1] INFO  NetworkClient          - [Producer clientId=producer-1] Node -1 disconnected.
24-06-07.23:24:22.348 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Revoke previously assigned partitions matthew-topic-0
24-06-07.23:24:22.348 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Member consumer-matthew-group-2-f591a93b-a2b8-4ad4-94c5-6737579f1ab4 sending LeaveGroup request to coordinator kafka:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
24-06-07.23:24:22.349 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: partitions revoked: [matthew-topic-0]
24-06-07.23:24:22.349 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Member consumer-matthew-group-1-e33b06a0-fb7d-43d7-ab3a-0dc0fbf4ed34 sending LeaveGroup request to coordinator kafka:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
24-06-07.23:24:22.349 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:24:22.349 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:24:22.349 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.23:24:22.349 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:24:22.349 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:24:22.349 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.23:24:22.351 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:24:22.352 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:24:22.353 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:24:22.353 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:24:22.357 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.23:24:22.357 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.23:24:22.357 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.23:24:22.361 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.23:24:22.361 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.23:24:22.365 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.23:24:22.365 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.23:24:22.365 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.23:24:22.369 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.23:24:22.369 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.23:24:22.373 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.23:24:22.375 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.23:24:22.375 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.23:24:22.375 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.23:24:22.375 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.23:24:25.729 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 46599 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.23:24:25.729 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.23:24:26.263 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.23:24:26.265 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.23:24:26.285 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-06-07.23:24:27.142 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.23:24:27.185 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.23:24:27.321 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.23:24:27.332 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.23:24:28.452 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.23:24:28.539 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.23:24:28.616 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.23:24:28.616 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.23:24:28.616 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717773868615
24-06-07.23:24:28.628 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.23:24:28.638 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.23:24:28.642 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.23:24:28.643 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.23:24:28.643 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717773868642
24-06-07.23:24:28.646 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.23:24:28.659 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.195 seconds (JVM running for 3.668)
24-06-07.23:24:28.855 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.23:24:28.931 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.23:24:28.931 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.23:24:28.932 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.23:24:28.932 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.23:24:28.933 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.23:24:28.933 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.23:24:28.936 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.23:24:28.936 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.23:24:28.951 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: need to re-join with the given member-id
24-06-07.23:24:28.951 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.23:24:28.952 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: need to re-join with the given member-id
24-06-07.23:24:28.952 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.23:24:29.073 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.23:24:29.104 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.23:24:29.149 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.23:24:29.150 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 918332819415 sku: 9011 outBusinessNo: 1-1581432304
24-06-07.23:24:29.267 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.267 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.267 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.273 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_19
24-06-07.23:24:29.273 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.273 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 247022045015 sku: 9011 outBusinessNo: 1711799896
24-06-07.23:24:29.276 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.276 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.276 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.280 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_18
24-06-07.23:24:29.280 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.280 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 710901637429 sku: 9011 outBusinessNo: 12059214717
24-06-07.23:24:29.300 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.300 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.300 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.313 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_17
24-06-07.23:24:29.314 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.314 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 896408110762 sku: 9011 outBusinessNo: 1-1635141367
24-06-07.23:24:29.325 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.325 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.325 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.329 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_16
24-06-07.23:24:29.330 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.330 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 925305052533 sku: 9011 outBusinessNo: 1-1568345422
24-06-07.23:24:29.336 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.336 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.336 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.341 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_15
24-06-07.23:24:29.342 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.342 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 853330871037 sku: 9011 outBusinessNo: 1-1247464038
24-06-07.23:24:29.357 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.357 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.357 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.360 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_14
24-06-07.23:24:29.361 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.361 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 858206231770 sku: 9011 outBusinessNo: 1-1745668130
24-06-07.23:24:29.366 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.366 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.366 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.369 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_13
24-06-07.23:24:29.369 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.369 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 843544063412 sku: 9011 outBusinessNo: 1-882751121
24-06-07.23:24:29.374 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.374 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.374 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.376 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_12
24-06-07.23:24:29.376 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.376 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 059226062143 sku: 9011 outBusinessNo: 11486223663
24-06-07.23:24:29.380 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.380 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.380 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.381 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_11
24-06-07.23:24:29.382 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.382 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 995654143430 sku: 9011 outBusinessNo: 12076955598
24-06-07.23:24:29.389 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.389 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.389 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.391 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_10
24-06-07.23:24:29.392 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.392 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 416109351019 sku: 9011 outBusinessNo: 1-1350711024
24-06-07.23:24:29.394 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.394 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.394 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.395 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_9
24-06-07.23:24:29.395 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.395 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 003511863972 sku: 9011 outBusinessNo: 1-627475451
24-06-07.23:24:29.397 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.397 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.397 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.398 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_8
24-06-07.23:24:29.398 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.398 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 279865432207 sku: 9011 outBusinessNo: 11949177501
24-06-07.23:24:29.401 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.401 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.401 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.402 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_7
24-06-07.23:24:29.402 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.402 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 498535292177 sku: 9011 outBusinessNo: 1-1772952379
24-06-07.23:24:29.404 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.404 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.404 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.404 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_6
24-06-07.23:24:29.404 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.404 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 968842149424 sku: 9011 outBusinessNo: 1-222637896
24-06-07.23:24:29.408 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.408 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.408 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.409 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_5
24-06-07.23:24:29.409 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.409 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 275816342879 sku: 9011 outBusinessNo: 1-1804006212
24-06-07.23:24:29.410 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.410 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.410 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.411 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_4
24-06-07.23:24:29.411 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.411 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 164754077845 sku: 9011 outBusinessNo: 1-2091003633
24-06-07.23:24:29.412 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.413 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.413 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.413 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_3
24-06-07.23:24:29.413 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.413 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 799851285139 sku: 9011 outBusinessNo: 11098441757
24-06-07.23:24:29.415 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.415 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.415 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.416 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_2
24-06-07.23:24:29.416 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.416 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 674290498512 sku: 9011 outBusinessNo: 1334514952
24-06-07.23:24:29.417 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.418 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.418 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.418 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_1
24-06-07.23:24:29.418 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:29.418 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 193746765316 sku: 9011 outBusinessNo: 1673657226
24-06-07.23:24:29.420 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:29.420 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:29.420 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:29.429 [main            ] INFO  ProducerConfig         - Idempotence will be disabled because acks is set to 1, not set to 'all'.
24-06-07.23:24:29.429 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 1
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.23:24:29.445 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.23:24:29.445 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.23:24:29.445 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717773869445
24-06-07.23:24:29.449 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.23:24:29.458 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.23:24:29.469 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":9011,"id":"75842775167","timestamp":1717773869422}
24-06-07.23:24:29.471 [main            ] INFO  ActivityRepository     - 活动sku库存加锁失败 big_market_activity_sku_stock_count_key9011_0
24-06-07.23:24:29.472 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-06-07.23:24:31.959 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Successfully joined group with generation Generation{generationId=3, memberId='consumer-matthew-group-2-c7fe2437-cec8-49da-95ca-c003dd4cb9bb', protocol='range'}
24-06-07.23:24:31.959 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Successfully joined group with generation Generation{generationId=3, memberId='consumer-matthew-group-1-a0fa1328-7ebe-4582-993a-7ebdbcc68d69', protocol='range'}
24-06-07.23:24:31.961 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Finished assignment for group at generation 3: {consumer-matthew-group-2-c7fe2437-cec8-49da-95ca-c003dd4cb9bb=Assignment(partitions=[]), consumer-matthew-group-1-a0fa1328-7ebe-4582-993a-7ebdbcc68d69=Assignment(partitions=[matthew-topic-0])}
24-06-07.23:24:31.966 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Successfully synced group in generation Generation{generationId=3, memberId='consumer-matthew-group-2-c7fe2437-cec8-49da-95ca-c003dd4cb9bb', protocol='range'}
24-06-07.23:24:31.966 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Successfully synced group in generation Generation{generationId=3, memberId='consumer-matthew-group-1-a0fa1328-7ebe-4582-993a-7ebdbcc68d69', protocol='range'}
24-06-07.23:24:31.966 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Notifying assignor about the new Assignment(partitions=[])
24-06-07.23:24:31.967 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Adding newly assigned partitions: 
24-06-07.23:24:31.967 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Notifying assignor about the new Assignment(partitions=[matthew-topic-0])
24-06-07.23:24:31.967 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: partitions assigned: []
24-06-07.23:24:31.968 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Adding newly assigned partitions: matthew-topic-0
24-06-07.23:24:31.972 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Found no committed offset for partition matthew-topic-0
24-06-07.23:24:31.979 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  SubscriptionState      - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting offset for partition matthew-topic-0 to position FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[kafka:9092 (id: 1 rack: null)], epoch=0}}.
24-06-07.23:24:31.980 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: partitions assigned: [matthew-topic-0]
24-06-07.23:24:32.007 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"93815314516","timestamp":1717771919557}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.007 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"28492986893","timestamp":1717771919723}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.008 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"62973727386","timestamp":1717771919752}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.008 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"42551680439","timestamp":1717771919763}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.009 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"13733493497","timestamp":1717771919774}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.009 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"42524350027","timestamp":1717771919801}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.010 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"76254427800","timestamp":1717771919825}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.010 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"33356420871","timestamp":1717771919864}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.010 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"17419142534","timestamp":1717771919898}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.010 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"61624488585","timestamp":1717771919920}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.011 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"62461830339","timestamp":1717771919935}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.011 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"87083454488","timestamp":1717771919951}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.011 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"09134211702","timestamp":1717771919964}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.012 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"65067379059","timestamp":1717771919978}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.012 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"39362762194","timestamp":1717771920001}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.013 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"75347030044","timestamp":1717771920036}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.013 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"99198171401","timestamp":1717771920106}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.013 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"29063147169","timestamp":1717771920133}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.013 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"69071600195","timestamp":1717771920161}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.014 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":9011,"id":"09905974959","timestamp":1717771920176}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.014 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"50232735406","timestamp":1717771920180}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.014 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":9011,"id":"75842775167","timestamp":1717773869422}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:32.374 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Revoke previously assigned partitions matthew-topic-0
24-06-07.23:24:32.374 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Member consumer-matthew-group-2-c7fe2437-cec8-49da-95ca-c003dd4cb9bb sending LeaveGroup request to coordinator kafka:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
24-06-07.23:24:32.374 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: partitions revoked: [matthew-topic-0]
24-06-07.23:24:32.374 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Member consumer-matthew-group-1-a0fa1328-7ebe-4582-993a-7ebdbcc68d69 sending LeaveGroup request to coordinator kafka:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
24-06-07.23:24:32.374 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:24:32.374 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:24:32.374 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:24:32.374 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:24:32.374 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.23:24:32.374 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.23:24:32.375 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:24:32.375 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:24:32.375 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:24:32.375 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:24:32.377 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.23:24:32.377 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.23:24:32.377 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.23:24:32.378 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.23:24:32.378 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.23:24:32.378 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.23:24:32.383 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.23:24:32.383 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.23:24:32.383 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.23:24:32.383 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.23:24:32.387 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.23:24:32.390 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.23:24:32.390 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.23:24:32.390 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.23:24:32.390 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.23:24:42.007 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 46954 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.23:24:42.007 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.23:24:42.576 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.23:24:42.579 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.23:24:42.606 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
24-06-07.23:24:43.470 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.23:24:43.511 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.23:24:43.647 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.23:24:43.663 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.23:24:45.016 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.23:24:45.098 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.23:24:45.176 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.23:24:45.176 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.23:24:45.176 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717773885175
24-06-07.23:24:45.187 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.23:24:45.196 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.23:24:45.200 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.23:24:45.200 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.23:24:45.200 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717773885200
24-06-07.23:24:45.205 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.23:24:45.218 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.51 seconds (JVM running for 3.963)
24-06-07.23:24:45.425 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.23:24:45.563 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.23:24:45.563 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.23:24:45.564 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.23:24:45.564 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.23:24:45.565 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.23:24:45.565 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.23:24:45.569 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.23:24:45.569 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.23:24:45.601 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: need to re-join with the given member-id
24-06-07.23:24:45.601 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: need to re-join with the given member-id
24-06-07.23:24:45.601 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.23:24:45.601 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.23:24:45.801 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.23:24:45.852 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.23:24:45.938 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.23:24:45.940 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 219331372307 sku: 9011 outBusinessNo: 1147494958
24-06-07.23:24:46.195 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.195 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.195 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.200 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.233 [main            ] INFO  ProducerConfig         - Idempotence will be disabled because acks is set to 1, not set to 'all'.
24-06-07.23:24:46.234 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 1
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.23:24:46.258 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.23:24:46.258 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.23:24:46.258 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717773886258
24-06-07.23:24:46.265 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.23:24:46.274 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.23:24:46.300 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"97727390781","timestamp":1717773886202}
24-06-07.23:24:46.308 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.23:24:46.351 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.23:24:46.371 [main            ] INFO  RaffleOrderTest        - 测试结果：681540014692
24-06-07.23:24:46.371 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 864090512852 sku: 9011 outBusinessNo: 1767567805
24-06-07.23:24:46.373 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.374 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.374 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.375 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.375 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"83935629317","timestamp":1717773886375}
24-06-07.23:24:46.375 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.23:24:46.383 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.23:24:46.388 [main            ] INFO  RaffleOrderTest        - 测试结果：816709504462
24-06-07.23:24:46.388 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 048103179914 sku: 9011 outBusinessNo: 1-688481579
24-06-07.23:24:46.390 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.390 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.390 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.391 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.391 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"56098636087","timestamp":1717773886391}
24-06-07.23:24:46.396 [main            ] INFO  RaffleOrderTest        - 测试结果：396533722218
24-06-07.23:24:46.396 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 951137999844 sku: 9011 outBusinessNo: 1-28932447
24-06-07.23:24:46.398 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.398 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.398 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.399 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.399 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"53355482534","timestamp":1717773886399}
24-06-07.23:24:46.404 [main            ] INFO  RaffleOrderTest        - 测试结果：268244054386
24-06-07.23:24:46.404 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 332708471480 sku: 9011 outBusinessNo: 1-46862716
24-06-07.23:24:46.406 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.406 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.406 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.408 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.409 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"58736431854","timestamp":1717773886409}
24-06-07.23:24:46.417 [main            ] INFO  RaffleOrderTest        - 测试结果：280149602556
24-06-07.23:24:46.417 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 156255335634 sku: 9011 outBusinessNo: 11849129853
24-06-07.23:24:46.420 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.420 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.420 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.422 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.423 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"92550596408","timestamp":1717773886423}
24-06-07.23:24:46.433 [main            ] INFO  RaffleOrderTest        - 测试结果：949167741882
24-06-07.23:24:46.433 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 761706476043 sku: 9011 outBusinessNo: 1-1843030352
24-06-07.23:24:46.436 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.436 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.436 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.437 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.438 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"47977292995","timestamp":1717773886437}
24-06-07.23:24:46.448 [main            ] INFO  RaffleOrderTest        - 测试结果：697696620916
24-06-07.23:24:46.448 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 900617875842 sku: 9011 outBusinessNo: 11204256839
24-06-07.23:24:46.452 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.452 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.452 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.455 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.455 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"30601140782","timestamp":1717773886455}
24-06-07.23:24:46.470 [main            ] INFO  RaffleOrderTest        - 测试结果：768295335581
24-06-07.23:24:46.470 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 412152461612 sku: 9011 outBusinessNo: 1-1327812613
24-06-07.23:24:46.478 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.478 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.478 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.482 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.483 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"74307014375","timestamp":1717773886483}
24-06-07.23:24:46.501 [main            ] INFO  RaffleOrderTest        - 测试结果：632501681015
24-06-07.23:24:46.502 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 678118497961 sku: 9011 outBusinessNo: 1-129112215
24-06-07.23:24:46.508 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.508 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.508 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.510 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.510 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"56400243497","timestamp":1717773886510}
24-06-07.23:24:46.527 [main            ] INFO  RaffleOrderTest        - 测试结果：026876020059
24-06-07.23:24:46.527 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 936951378178 sku: 9011 outBusinessNo: 11782283773
24-06-07.23:24:46.531 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.531 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.531 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.532 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.533 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"70069156930","timestamp":1717773886532}
24-06-07.23:24:46.541 [main            ] INFO  RaffleOrderTest        - 测试结果：550385416868
24-06-07.23:24:46.541 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 179086224052 sku: 9011 outBusinessNo: 1-384894326
24-06-07.23:24:46.545 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.545 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.545 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.548 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.548 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"17940968224","timestamp":1717773886548}
24-06-07.23:24:46.557 [main            ] INFO  RaffleOrderTest        - 测试结果：846985501956
24-06-07.23:24:46.557 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 276110683887 sku: 9011 outBusinessNo: 1-849728847
24-06-07.23:24:46.562 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.562 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.562 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.563 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.563 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"23608501902","timestamp":1717773886563}
24-06-07.23:24:46.579 [main            ] INFO  RaffleOrderTest        - 测试结果：976466596845
24-06-07.23:24:46.579 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 110529495941 sku: 9011 outBusinessNo: 1-1035570873
24-06-07.23:24:46.586 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.586 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.586 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.594 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.604 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"95530797002","timestamp":1717773886603}
24-06-07.23:24:46.632 [main            ] INFO  RaffleOrderTest        - 测试结果：390272755483
24-06-07.23:24:46.632 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 328851550222 sku: 9011 outBusinessNo: 1-58394983
24-06-07.23:24:46.679 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.679 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.679 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.681 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.682 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"34491842290","timestamp":1717773886682}
24-06-07.23:24:46.696 [main            ] INFO  RaffleOrderTest        - 测试结果：562874622076
24-06-07.23:24:46.697 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 709488817671 sku: 9011 outBusinessNo: 1-303754636
24-06-07.23:24:46.704 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.704 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.704 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.707 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.707 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"24292135455","timestamp":1717773886707}
24-06-07.23:24:46.723 [main            ] INFO  RaffleOrderTest        - 测试结果：790501022444
24-06-07.23:24:46.723 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 660050796038 sku: 9011 outBusinessNo: 1311684168
24-06-07.23:24:46.727 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.727 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.727 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.728 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.729 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"49387667710","timestamp":1717773886728}
24-06-07.23:24:46.736 [main            ] INFO  RaffleOrderTest        - 测试结果：383529757555
24-06-07.23:24:46.736 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 839832290102 sku: 9011 outBusinessNo: 1-956125683
24-06-07.23:24:46.739 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.739 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.739 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.740 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.740 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"23416253448","timestamp":1717773886740}
24-06-07.23:24:46.745 [main            ] INFO  RaffleOrderTest        - 测试结果：414846591520
24-06-07.23:24:46.745 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 813261720094 sku: 9011 outBusinessNo: 1-2069767001
24-06-07.23:24:46.749 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.749 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.749 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.750 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.751 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"99778470695","timestamp":1717773886750}
24-06-07.23:24:46.759 [main            ] INFO  RaffleOrderTest        - 测试结果：500422045638
24-06-07.23:24:46.759 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 082529795322 sku: 9011 outBusinessNo: 1289299107
24-06-07.23:24:46.762 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:24:46.762 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:24:46.762 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:24:46.764 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":9011,"id":"47449682526","timestamp":1717773886763}
24-06-07.23:24:46.765 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:24:46.766 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"60205772397","timestamp":1717773886765}
24-06-07.23:24:46.773 [main            ] INFO  RaffleOrderTest        - 测试结果：415198331287
24-06-07.23:24:48.612 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Successfully joined group with generation Generation{generationId=5, memberId='consumer-matthew-group-2-ccda15a6-dd52-4024-bf1a-239217fe6349', protocol='range'}
24-06-07.23:24:48.612 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Successfully joined group with generation Generation{generationId=5, memberId='consumer-matthew-group-1-9908caa5-4ba9-4bc0-b135-19e0bfcd993c', protocol='range'}
24-06-07.23:24:48.617 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Finished assignment for group at generation 5: {consumer-matthew-group-2-ccda15a6-dd52-4024-bf1a-239217fe6349=Assignment(partitions=[]), consumer-matthew-group-1-9908caa5-4ba9-4bc0-b135-19e0bfcd993c=Assignment(partitions=[matthew-topic-0])}
24-06-07.23:24:48.630 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Successfully synced group in generation Generation{generationId=5, memberId='consumer-matthew-group-1-9908caa5-4ba9-4bc0-b135-19e0bfcd993c', protocol='range'}
24-06-07.23:24:48.630 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Successfully synced group in generation Generation{generationId=5, memberId='consumer-matthew-group-2-ccda15a6-dd52-4024-bf1a-239217fe6349', protocol='range'}
24-06-07.23:24:48.631 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Notifying assignor about the new Assignment(partitions=[])
24-06-07.23:24:48.631 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Notifying assignor about the new Assignment(partitions=[matthew-topic-0])
24-06-07.23:24:48.631 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Adding newly assigned partitions: 
24-06-07.23:24:48.632 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: partitions assigned: []
24-06-07.23:24:48.635 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Adding newly assigned partitions: matthew-topic-0
24-06-07.23:24:48.641 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Found no committed offset for partition matthew-topic-0
24-06-07.23:24:48.651 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  SubscriptionState      - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting offset for partition matthew-topic-0 to position FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[kafka:9092 (id: 1 rack: null)], epoch=0}}.
24-06-07.23:24:48.652 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: partitions assigned: [matthew-topic-0]
24-06-07.23:24:48.682 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"93815314516","timestamp":1717771919557}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.683 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"28492986893","timestamp":1717771919723}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.683 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"62973727386","timestamp":1717771919752}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.684 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"42551680439","timestamp":1717771919763}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.684 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"13733493497","timestamp":1717771919774}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.684 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"42524350027","timestamp":1717771919801}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.685 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"76254427800","timestamp":1717771919825}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.685 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"33356420871","timestamp":1717771919864}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.685 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"17419142534","timestamp":1717771919898}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.686 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"61624488585","timestamp":1717771919920}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.686 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"62461830339","timestamp":1717771919935}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.687 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"87083454488","timestamp":1717771919951}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.687 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"09134211702","timestamp":1717771919964}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.687 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"65067379059","timestamp":1717771919978}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.688 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"39362762194","timestamp":1717771920001}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.688 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"75347030044","timestamp":1717771920036}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.688 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"99198171401","timestamp":1717771920106}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.689 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"29063147169","timestamp":1717771920133}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.689 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"69071600195","timestamp":1717771920161}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.689 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":9011,"id":"09905974959","timestamp":1717771920176}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.690 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"50232735406","timestamp":1717771920180}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.690 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":9011,"id":"75842775167","timestamp":1717773869422}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.690 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"97727390781","timestamp":1717773886202}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.690 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"83935629317","timestamp":1717773886375}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.691 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"56098636087","timestamp":1717773886391}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.691 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"53355482534","timestamp":1717773886399}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.691 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"58736431854","timestamp":1717773886409}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.691 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"92550596408","timestamp":1717773886423}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.691 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"47977292995","timestamp":1717773886437}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.691 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"30601140782","timestamp":1717773886455}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.692 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"74307014375","timestamp":1717773886483}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.692 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"56400243497","timestamp":1717773886510}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.692 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"70069156930","timestamp":1717773886532}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.692 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"17940968224","timestamp":1717773886548}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.692 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"23608501902","timestamp":1717773886563}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.692 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"95530797002","timestamp":1717773886603}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.693 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"34491842290","timestamp":1717773886682}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.693 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"24292135455","timestamp":1717773886707}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.693 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"49387667710","timestamp":1717773886728}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.693 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"23416253448","timestamp":1717773886740}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.694 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"99778470695","timestamp":1717773886750}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.694 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":9011,"id":"47449682526","timestamp":1717773886763}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:24:48.694 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR ActivitySkuStockConsumeMessageListener - Kafka消费失败！Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"60205772397","timestamp":1717773886765}
java.lang.ClassCastException: java.lang.String cannot be cast to cn.matthew.domain.activity.model.valobj.ActivitySkuStockKeyVO
	at cn.matthew.trigger.listener.ActivitySkuStockConsumeMessageListener.topic_test(ActivitySkuStockConsumeMessageListener.java:30)
	at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
24-06-07.23:28:28.403 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Member consumer-matthew-group-2-ccda15a6-dd52-4024-bf1a-239217fe6349 sending LeaveGroup request to coordinator kafka:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
24-06-07.23:28:28.403 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Revoke previously assigned partitions matthew-topic-0
24-06-07.23:28:28.404 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:28:28.404 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:28:28.404 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.23:28:28.404 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: partitions revoked: [matthew-topic-0]
24-06-07.23:28:28.405 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Member consumer-matthew-group-1-9908caa5-4ba9-4bc0-b135-19e0bfcd993c sending LeaveGroup request to coordinator kafka:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
24-06-07.23:28:28.405 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:28:28.405 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:28:28.405 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.23:28:28.407 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:28:28.407 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:28:28.411 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.23:28:28.411 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.23:28:28.411 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.23:28:28.412 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:28:28.412 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:28:28.417 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.23:28:28.418 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.23:28:28.419 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.23:28:28.419 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.23:28:28.419 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.23:28:28.421 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.23:28:28.421 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.23:28:28.426 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.23:28:28.429 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.23:28:28.429 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.23:28:28.429 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.23:28:28.429 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.23:28:31.487 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 51843 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.23:28:31.488 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.23:28:32.050 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.23:28:32.052 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.23:28:32.076 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
24-06-07.23:28:32.867 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.23:28:32.910 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.23:28:33.044 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.23:28:33.056 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.23:28:34.095 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.23:28:34.165 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.23:28:34.235 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.23:28:34.235 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.23:28:34.235 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717774114234
24-06-07.23:28:34.246 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.23:28:34.255 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.23:28:34.260 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.23:28:34.260 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.23:28:34.261 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717774114260
24-06-07.23:28:34.268 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.23:28:34.278 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.064 seconds (JVM running for 3.516)
24-06-07.23:28:34.444 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.23:28:34.542 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.23:28:34.542 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.23:28:34.544 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.23:28:34.544 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.23:28:34.544 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.23:28:34.544 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.23:28:34.547 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.23:28:34.548 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.23:28:34.565 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: need to re-join with the given member-id
24-06-07.23:28:34.565 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: need to re-join with the given member-id
24-06-07.23:28:34.566 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.23:28:34.566 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.23:28:34.673 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.23:28:34.703 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.23:28:34.741 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.23:28:34.742 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 243534880280 sku: 9011 outBusinessNo: 1-2139015705
24-06-07.23:28:34.865 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:34.865 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:34.865 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:34.867 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:34.879 [main            ] INFO  ProducerConfig         - Idempotence will be disabled because acks is set to 1, not set to 'all'.
24-06-07.23:28:34.879 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 1
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.23:28:34.912 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.23:28:34.913 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.23:28:34.913 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717774114912
24-06-07.23:28:34.933 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.23:28:34.934 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.23:28:34.961 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"65969801868","timestamp":1717774114869}
24-06-07.23:28:34.968 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.23:28:34.994 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.23:28:35.020 [main            ] INFO  RaffleOrderTest        - 测试结果：186396372886
24-06-07.23:28:35.020 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 201016894431 sku: 9011 outBusinessNo: 11375956745
24-06-07.23:28:35.024 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.024 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.024 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.027 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.027 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"98943893099","timestamp":1717774115027}
24-06-07.23:28:35.028 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.23:28:35.036 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.23:28:35.041 [main            ] INFO  RaffleOrderTest        - 测试结果：978845757359
24-06-07.23:28:35.041 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 791871898542 sku: 9011 outBusinessNo: 1-2103316692
24-06-07.23:28:35.043 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.043 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.043 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.044 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.044 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"28498875122","timestamp":1717774115044}
24-06-07.23:28:35.051 [main            ] INFO  RaffleOrderTest        - 测试结果：881088342355
24-06-07.23:28:35.051 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 599536509641 sku: 9011 outBusinessNo: 1-337327047
24-06-07.23:28:35.053 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.053 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.053 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.054 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.055 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"00204498367","timestamp":1717774115054}
24-06-07.23:28:35.061 [main            ] INFO  RaffleOrderTest        - 测试结果：368616389566
24-06-07.23:28:35.061 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 186165647109 sku: 9011 outBusinessNo: 172405115
24-06-07.23:28:35.064 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.064 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.064 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.067 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.067 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"60481022734","timestamp":1717774115067}
24-06-07.23:28:35.074 [main            ] INFO  RaffleOrderTest        - 测试结果：213702301385
24-06-07.23:28:35.074 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 244241131082 sku: 9011 outBusinessNo: 1502239649
24-06-07.23:28:35.077 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.077 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.077 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.078 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.079 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"51691394747","timestamp":1717774115078}
24-06-07.23:28:35.085 [main            ] INFO  RaffleOrderTest        - 测试结果：146819026751
24-06-07.23:28:35.085 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 385262349232 sku: 9011 outBusinessNo: 12015425468
24-06-07.23:28:35.087 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.088 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.088 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.089 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.089 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"33249028761","timestamp":1717774115089}
24-06-07.23:28:35.100 [main            ] INFO  RaffleOrderTest        - 测试结果：345542532562
24-06-07.23:28:35.100 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 287957420525 sku: 9011 outBusinessNo: 1-1862631852
24-06-07.23:28:35.108 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.108 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.108 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.114 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.114 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"51170150769","timestamp":1717774115114}
24-06-07.23:28:35.141 [main            ] INFO  RaffleOrderTest        - 测试结果：377349863110
24-06-07.23:28:35.142 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 464978964304 sku: 9011 outBusinessNo: 1-50444160
24-06-07.23:28:35.152 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.152 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.152 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.154 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.154 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"49659586962","timestamp":1717774115154}
24-06-07.23:28:35.168 [main            ] INFO  RaffleOrderTest        - 测试结果：449084206237
24-06-07.23:28:35.168 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 756912413114 sku: 9011 outBusinessNo: 11307124712
24-06-07.23:28:35.178 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.179 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.179 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.182 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.182 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"85044659151","timestamp":1717774115182}
24-06-07.23:28:35.197 [main            ] INFO  RaffleOrderTest        - 测试结果：407568494422
24-06-07.23:28:35.198 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 513993246425 sku: 9011 outBusinessNo: 1639323883
24-06-07.23:28:35.202 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.202 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.202 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.204 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.205 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"46153353140","timestamp":1717774115204}
24-06-07.23:28:35.216 [main            ] INFO  RaffleOrderTest        - 测试结果：203753190255
24-06-07.23:28:35.216 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 352529239441 sku: 9011 outBusinessNo: 1-1033904795
24-06-07.23:28:35.221 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.221 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.222 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.224 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.225 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"09247166330","timestamp":1717774115224}
24-06-07.23:28:35.235 [main            ] INFO  RaffleOrderTest        - 测试结果：399318479026
24-06-07.23:28:35.235 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 671175863538 sku: 9011 outBusinessNo: 1-496926478
24-06-07.23:28:35.239 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.239 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.239 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.241 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.241 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"78683052541","timestamp":1717774115241}
24-06-07.23:28:35.253 [main            ] INFO  RaffleOrderTest        - 测试结果：715861130463
24-06-07.23:28:35.253 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 550641522137 sku: 9011 outBusinessNo: 1-2112469469
24-06-07.23:28:35.257 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.257 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.257 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.260 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.260 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"71835174653","timestamp":1717774115260}
24-06-07.23:28:35.276 [main            ] INFO  RaffleOrderTest        - 测试结果：459396627464
24-06-07.23:28:35.276 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 884934240649 sku: 9011 outBusinessNo: 11150279907
24-06-07.23:28:35.282 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.282 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.282 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.285 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.285 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"35025087201","timestamp":1717774115285}
24-06-07.23:28:35.300 [main            ] INFO  RaffleOrderTest        - 测试结果：013007076483
24-06-07.23:28:35.300 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 041170445882 sku: 9011 outBusinessNo: 1-193532052
24-06-07.23:28:35.309 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.309 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.309 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.315 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.316 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"19676264001","timestamp":1717774115316}
24-06-07.23:28:35.334 [main            ] INFO  RaffleOrderTest        - 测试结果：369035653400
24-06-07.23:28:35.334 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 139163807190 sku: 9011 outBusinessNo: 1-1830121064
24-06-07.23:28:35.340 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.341 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.341 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.343 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.344 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"47468363488","timestamp":1717774115343}
24-06-07.23:28:35.358 [main            ] INFO  RaffleOrderTest        - 测试结果：719622651780
24-06-07.23:28:35.358 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 380336799591 sku: 9011 outBusinessNo: 1-525371403
24-06-07.23:28:35.363 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.363 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.363 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.368 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.368 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"79151180911","timestamp":1717774115368}
24-06-07.23:28:35.381 [main            ] INFO  RaffleOrderTest        - 测试结果：276590301599
24-06-07.23:28:35.381 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 117435895323 sku: 9011 outBusinessNo: 11681435882
24-06-07.23:28:35.385 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.385 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.385 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.387 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.387 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"20689926503","timestamp":1717774115387}
24-06-07.23:28:35.397 [main            ] INFO  RaffleOrderTest        - 测试结果：426025678145
24-06-07.23:28:35.397 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 650619452299 sku: 9011 outBusinessNo: 1-603187958
24-06-07.23:28:35.401 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:28:35.401 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:28:35.401 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:28:35.403 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":9011,"id":"50169796839","timestamp":1717774115402}
24-06-07.23:28:35.405 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:28:35.405 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"93240970643","timestamp":1717774115405}
24-06-07.23:28:35.413 [main            ] INFO  RaffleOrderTest        - 测试结果：543235617250
24-06-07.23:28:37.575 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Successfully joined group with generation Generation{generationId=7, memberId='consumer-matthew-group-1-31800876-d8e0-4695-ad82-5998625bcf40', protocol='range'}
24-06-07.23:28:37.575 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Successfully joined group with generation Generation{generationId=7, memberId='consumer-matthew-group-2-8585fba1-47ef-4dca-a98e-9f500d6b0808', protocol='range'}
24-06-07.23:28:37.582 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Finished assignment for group at generation 7: {consumer-matthew-group-2-8585fba1-47ef-4dca-a98e-9f500d6b0808=Assignment(partitions=[]), consumer-matthew-group-1-31800876-d8e0-4695-ad82-5998625bcf40=Assignment(partitions=[matthew-topic-0])}
24-06-07.23:28:37.594 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Successfully synced group in generation Generation{generationId=7, memberId='consumer-matthew-group-1-31800876-d8e0-4695-ad82-5998625bcf40', protocol='range'}
24-06-07.23:28:37.594 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Successfully synced group in generation Generation{generationId=7, memberId='consumer-matthew-group-2-8585fba1-47ef-4dca-a98e-9f500d6b0808', protocol='range'}
24-06-07.23:28:37.594 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Notifying assignor about the new Assignment(partitions=[])
24-06-07.23:28:37.594 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Notifying assignor about the new Assignment(partitions=[matthew-topic-0])
24-06-07.23:28:37.594 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Adding newly assigned partitions: 
24-06-07.23:28:37.595 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: partitions assigned: []
24-06-07.23:28:37.598 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Adding newly assigned partitions: matthew-topic-0
24-06-07.23:28:37.604 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Found no committed offset for partition matthew-topic-0
24-06-07.23:28:37.614 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  SubscriptionState      - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting offset for partition matthew-topic-0 to position FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[kafka:9092 (id: 1 rack: null)], epoch=0}}.
24-06-07.23:28:37.614 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: partitions assigned: [matthew-topic-0]
24-06-07.23:28:37.655 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"93815314516","timestamp":1717771919557}
24-06-07.23:28:37.657 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"28492986893","timestamp":1717771919723}
24-06-07.23:28:37.659 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"62973727386","timestamp":1717771919752}
24-06-07.23:28:37.661 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"42551680439","timestamp":1717771919763}
24-06-07.23:28:37.662 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"13733493497","timestamp":1717771919774}
24-06-07.23:28:37.664 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"42524350027","timestamp":1717771919801}
24-06-07.23:28:37.665 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"76254427800","timestamp":1717771919825}
24-06-07.23:28:37.667 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"33356420871","timestamp":1717771919864}
24-06-07.23:28:37.668 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"17419142534","timestamp":1717771919898}
24-06-07.23:28:37.670 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"61624488585","timestamp":1717771919920}
24-06-07.23:28:37.672 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"62461830339","timestamp":1717771919935}
24-06-07.23:28:37.673 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"87083454488","timestamp":1717771919951}
24-06-07.23:28:37.674 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"09134211702","timestamp":1717771919964}
24-06-07.23:28:37.676 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"65067379059","timestamp":1717771919978}
24-06-07.23:28:37.677 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"39362762194","timestamp":1717771920001}
24-06-07.23:28:37.680 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"75347030044","timestamp":1717771920036}
24-06-07.23:28:37.681 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"99198171401","timestamp":1717771920106}
24-06-07.23:28:37.683 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"29063147169","timestamp":1717771920133}
24-06-07.23:28:37.684 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"69071600195","timestamp":1717771920161}
24-06-07.23:28:37.686 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":9011,"id":"09905974959","timestamp":1717771920176}
24-06-07.23:28:37.688 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"50232735406","timestamp":1717771920180}
24-06-07.23:28:37.689 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":9011,"id":"75842775167","timestamp":1717773869422}
24-06-07.23:28:37.691 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"97727390781","timestamp":1717773886202}
24-06-07.23:28:37.693 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"83935629317","timestamp":1717773886375}
24-06-07.23:28:37.694 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"56098636087","timestamp":1717773886391}
24-06-07.23:28:37.695 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"53355482534","timestamp":1717773886399}
24-06-07.23:28:37.697 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"58736431854","timestamp":1717773886409}
24-06-07.23:28:37.698 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"92550596408","timestamp":1717773886423}
24-06-07.23:28:37.699 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"47977292995","timestamp":1717773886437}
24-06-07.23:28:37.700 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"30601140782","timestamp":1717773886455}
24-06-07.23:28:37.701 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"74307014375","timestamp":1717773886483}
24-06-07.23:28:37.703 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"56400243497","timestamp":1717773886510}
24-06-07.23:28:37.704 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"70069156930","timestamp":1717773886532}
24-06-07.23:28:37.705 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"17940968224","timestamp":1717773886548}
24-06-07.23:28:37.706 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"23608501902","timestamp":1717773886563}
24-06-07.23:28:37.708 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"95530797002","timestamp":1717773886603}
24-06-07.23:28:37.709 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"34491842290","timestamp":1717773886682}
24-06-07.23:28:37.710 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"24292135455","timestamp":1717773886707}
24-06-07.23:28:37.711 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"49387667710","timestamp":1717773886728}
24-06-07.23:28:37.712 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"23416253448","timestamp":1717773886740}
24-06-07.23:28:37.713 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"99778470695","timestamp":1717773886750}
24-06-07.23:28:37.715 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":9011,"id":"47449682526","timestamp":1717773886763}
24-06-07.23:28:37.716 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"60205772397","timestamp":1717773886765}
24-06-07.23:28:37.717 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"65969801868","timestamp":1717774114869}
24-06-07.23:28:37.718 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"98943893099","timestamp":1717774115027}
24-06-07.23:28:37.720 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"28498875122","timestamp":1717774115044}
24-06-07.23:28:37.721 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"00204498367","timestamp":1717774115054}
24-06-07.23:28:37.724 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"60481022734","timestamp":1717774115067}
24-06-07.23:28:37.726 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"51691394747","timestamp":1717774115078}
24-06-07.23:28:37.727 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"33249028761","timestamp":1717774115089}
24-06-07.23:28:37.728 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"51170150769","timestamp":1717774115114}
24-06-07.23:28:37.729 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"49659586962","timestamp":1717774115154}
24-06-07.23:28:37.731 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"85044659151","timestamp":1717774115182}
24-06-07.23:28:37.732 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"46153353140","timestamp":1717774115204}
24-06-07.23:28:37.734 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"09247166330","timestamp":1717774115224}
24-06-07.23:28:37.735 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"78683052541","timestamp":1717774115241}
24-06-07.23:28:37.736 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"71835174653","timestamp":1717774115260}
24-06-07.23:28:37.737 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"35025087201","timestamp":1717774115285}
24-06-07.23:28:37.743 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"19676264001","timestamp":1717774115316}
24-06-07.23:28:37.744 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"47468363488","timestamp":1717774115343}
24-06-07.23:28:37.746 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"79151180911","timestamp":1717774115368}
24-06-07.23:28:37.747 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"20689926503","timestamp":1717774115387}
24-06-07.23:28:37.748 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":9011,"id":"50169796839","timestamp":1717774115402}
24-06-07.23:28:37.749 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"93240970643","timestamp":1717774115405}
24-06-07.23:30:10.193 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Revoke previously assigned partitions matthew-topic-0
24-06-07.23:30:10.193 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Member consumer-matthew-group-2-8585fba1-47ef-4dca-a98e-9f500d6b0808 sending LeaveGroup request to coordinator kafka:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
24-06-07.23:30:10.193 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: partitions revoked: [matthew-topic-0]
24-06-07.23:30:10.193 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Member consumer-matthew-group-1-31800876-d8e0-4695-ad82-5998625bcf40 sending LeaveGroup request to coordinator kafka:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
24-06-07.23:30:10.194 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:30:10.194 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:30:10.194 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.23:30:10.194 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:30:10.194 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:30:10.194 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.23:30:10.195 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:30:10.195 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:30:10.195 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:30:10.195 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:30:10.198 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.23:30:10.198 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.23:30:10.198 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.23:30:10.203 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.23:30:10.203 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.23:30:10.205 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.23:30:10.205 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.23:30:10.205 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.23:30:10.207 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.23:30:10.207 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.23:30:10.211 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.23:30:10.213 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.23:30:10.213 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.23:30:10.213 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.23:30:10.213 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.23:30:33.195 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 54423 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.23:30:33.196 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.23:30:33.821 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.23:30:33.824 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.23:30:33.844 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
24-06-07.23:30:34.761 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.23:30:34.808 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.23:30:34.940 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.23:30:34.949 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.23:30:36.366 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.23:30:36.460 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.23:30:36.541 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.23:30:36.542 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.23:30:36.542 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717774236540
24-06-07.23:30:36.553 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.23:30:36.562 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.23:30:36.567 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.23:30:36.567 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.23:30:36.567 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717774236567
24-06-07.23:30:36.576 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.23:30:36.598 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 3.685 seconds (JVM running for 4.458)
24-06-07.23:30:36.853 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.23:30:36.939 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.23:30:36.939 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.23:30:36.941 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.23:30:36.941 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.23:30:36.941 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.23:30:36.942 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.23:30:36.946 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.23:30:36.946 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.23:30:36.970 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: need to re-join with the given member-id
24-06-07.23:30:36.970 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: need to re-join with the given member-id
24-06-07.23:30:36.970 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.23:30:36.971 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.23:30:37.116 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.23:30:37.149 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.23:30:37.200 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.23:30:37.203 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 998119436946 sku: 9011 outBusinessNo: 12102025434
24-06-07.23:30:37.320 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.320 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.320 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.323 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.337 [main            ] INFO  ProducerConfig         - Idempotence will be disabled because acks is set to 1, not set to 'all'.
24-06-07.23:30:37.338 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 1
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.23:30:37.365 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.23:30:37.365 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.23:30:37.365 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717774237365
24-06-07.23:30:37.378 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.23:30:37.394 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.23:30:37.419 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"82527535330","timestamp":1717774237325}
24-06-07.23:30:37.423 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.23:30:37.438 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.23:30:37.462 [main            ] INFO  RaffleOrderTest        - 测试结果：964859821076
24-06-07.23:30:37.463 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 274515160605 sku: 9011 outBusinessNo: 1912743409
24-06-07.23:30:37.466 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.466 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.466 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.468 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.468 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"68293623828","timestamp":1717774237468}
24-06-07.23:30:37.475 [main            ] INFO  RaffleOrderTest        - 测试结果：635246666275
24-06-07.23:30:37.475 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 238587875459 sku: 9011 outBusinessNo: 1-58232178
24-06-07.23:30:37.478 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.478 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.478 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.479 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.479 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"94330915113","timestamp":1717774237479}
24-06-07.23:30:37.485 [main            ] INFO  RaffleOrderTest        - 测试结果：127047696983
24-06-07.23:30:37.485 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 687706729328 sku: 9011 outBusinessNo: 1-777542269
24-06-07.23:30:37.487 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.487 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.487 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.488 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.488 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"48911192660","timestamp":1717774237488}
24-06-07.23:30:37.493 [main            ] INFO  RaffleOrderTest        - 测试结果：716213949755
24-06-07.23:30:37.493 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 270233923259 sku: 9011 outBusinessNo: 1-686320136
24-06-07.23:30:37.495 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.495 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.495 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.496 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.496 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"39270807655","timestamp":1717774237496}
24-06-07.23:30:37.496 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.23:30:37.506 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.23:30:37.514 [main            ] INFO  RaffleOrderTest        - 测试结果：149251980195
24-06-07.23:30:37.514 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 833735271132 sku: 9011 outBusinessNo: 12018780379
24-06-07.23:30:37.516 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.516 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.516 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.518 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.518 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"49169096669","timestamp":1717774237518}
24-06-07.23:30:37.523 [main            ] INFO  RaffleOrderTest        - 测试结果：764682600680
24-06-07.23:30:37.523 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 994042453572 sku: 9011 outBusinessNo: 11167179823
24-06-07.23:30:37.525 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.525 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.525 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.526 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.526 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"03517206585","timestamp":1717774237526}
24-06-07.23:30:37.532 [main            ] INFO  RaffleOrderTest        - 测试结果：247197987969
24-06-07.23:30:37.532 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 424606040961 sku: 9011 outBusinessNo: 11865750215
24-06-07.23:30:37.534 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.534 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.534 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.536 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.537 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"83074162939","timestamp":1717774237536}
24-06-07.23:30:37.546 [main            ] INFO  RaffleOrderTest        - 测试结果：316775574568
24-06-07.23:30:37.546 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 420648861025 sku: 9011 outBusinessNo: 1-549489172
24-06-07.23:30:37.550 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.550 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.550 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.552 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.553 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"03937459457","timestamp":1717774237553}
24-06-07.23:30:37.565 [main            ] INFO  RaffleOrderTest        - 测试结果：500965334627
24-06-07.23:30:37.566 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 376766930688 sku: 9011 outBusinessNo: 1451308062
24-06-07.23:30:37.570 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.570 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.570 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.572 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.573 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"13184449472","timestamp":1717774237572}
24-06-07.23:30:37.585 [main            ] INFO  RaffleOrderTest        - 测试结果：166528122011
24-06-07.23:30:37.585 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 522742263308 sku: 9011 outBusinessNo: 1-377602402
24-06-07.23:30:37.590 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.590 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.590 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.594 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.595 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"59890655397","timestamp":1717774237594}
24-06-07.23:30:37.607 [main            ] INFO  RaffleOrderTest        - 测试结果：891215218419
24-06-07.23:30:37.607 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 801544180238 sku: 9011 outBusinessNo: 1-1205790030
24-06-07.23:30:37.615 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.615 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.615 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.617 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.618 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"38029548997","timestamp":1717774237617}
24-06-07.23:30:37.632 [main            ] INFO  RaffleOrderTest        - 测试结果：201642404262
24-06-07.23:30:37.632 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 069696783014 sku: 9011 outBusinessNo: 11866561693
24-06-07.23:30:37.637 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.637 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.637 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.640 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.641 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"08151042285","timestamp":1717774237640}
24-06-07.23:30:37.653 [main            ] INFO  RaffleOrderTest        - 测试结果：682971883475
24-06-07.23:30:37.653 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 846448868895 sku: 9011 outBusinessNo: 1-533339312
24-06-07.23:30:37.657 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.657 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.657 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.659 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.660 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"45125242775","timestamp":1717774237659}
24-06-07.23:30:37.669 [main            ] INFO  RaffleOrderTest        - 测试结果：102579613421
24-06-07.23:30:37.669 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 036015595506 sku: 9011 outBusinessNo: 1739812092
24-06-07.23:30:37.674 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.674 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.674 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.676 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.676 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"67013252644","timestamp":1717774237676}
24-06-07.23:30:37.686 [main            ] INFO  RaffleOrderTest        - 测试结果：418556066550
24-06-07.23:30:37.686 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 729747230649 sku: 9011 outBusinessNo: 1-368518020
24-06-07.23:30:37.691 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.691 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.691 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.693 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.693 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"53458498698","timestamp":1717774237693}
24-06-07.23:30:37.705 [main            ] INFO  RaffleOrderTest        - 测试结果：023735854495
24-06-07.23:30:37.705 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 123104435916 sku: 9011 outBusinessNo: 1503141926
24-06-07.23:30:37.709 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.709 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.709 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.713 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.713 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"61343382430","timestamp":1717774237713}
24-06-07.23:30:37.726 [main            ] INFO  RaffleOrderTest        - 测试结果：994107369894
24-06-07.23:30:37.726 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 385000230545 sku: 9011 outBusinessNo: 1-1356028839
24-06-07.23:30:37.736 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.736 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.736 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.741 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.742 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"88949399398","timestamp":1717774237741}
24-06-07.23:30:37.753 [main            ] INFO  RaffleOrderTest        - 测试结果：076327533156
24-06-07.23:30:37.753 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 395735986105 sku: 9011 outBusinessNo: 11010869453
24-06-07.23:30:37.760 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.760 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.760 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.766 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.767 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"65396140150","timestamp":1717774237766}
24-06-07.23:30:37.783 [main            ] INFO  RaffleOrderTest        - 测试结果：347079858390
24-06-07.23:30:37.783 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 981532299064 sku: 9011 outBusinessNo: 1-1464310497
24-06-07.23:30:37.789 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:30:37.789 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:30:37.790 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:30:37.797 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":9011,"id":"01727473492","timestamp":1717774237795}
24-06-07.23:30:37.800 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:30:37.800 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"80262311121","timestamp":1717774237800}
24-06-07.23:30:37.810 [main            ] INFO  RaffleOrderTest        - 测试结果：414585619513
24-06-07.23:30:39.989 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Successfully joined group with generation Generation{generationId=9, memberId='consumer-matthew-group-1-b4e6dece-af62-4c9f-b88d-b42b50a173f9', protocol='range'}
24-06-07.23:30:39.989 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Successfully joined group with generation Generation{generationId=9, memberId='consumer-matthew-group-2-cc574501-f3ee-41c1-8c5a-8548df1db237', protocol='range'}
24-06-07.23:30:39.996 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Finished assignment for group at generation 9: {consumer-matthew-group-1-b4e6dece-af62-4c9f-b88d-b42b50a173f9=Assignment(partitions=[matthew-topic-0]), consumer-matthew-group-2-cc574501-f3ee-41c1-8c5a-8548df1db237=Assignment(partitions=[])}
24-06-07.23:30:40.009 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Successfully synced group in generation Generation{generationId=9, memberId='consumer-matthew-group-1-b4e6dece-af62-4c9f-b88d-b42b50a173f9', protocol='range'}
24-06-07.23:30:40.009 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Successfully synced group in generation Generation{generationId=9, memberId='consumer-matthew-group-2-cc574501-f3ee-41c1-8c5a-8548df1db237', protocol='range'}
24-06-07.23:30:40.009 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Notifying assignor about the new Assignment(partitions=[])
24-06-07.23:30:40.009 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Notifying assignor about the new Assignment(partitions=[matthew-topic-0])
24-06-07.23:30:40.009 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Adding newly assigned partitions: 
24-06-07.23:30:40.010 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: partitions assigned: []
24-06-07.23:30:40.013 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Adding newly assigned partitions: matthew-topic-0
24-06-07.23:30:40.021 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Setting offset for partition matthew-topic-0 to the committed offset FetchPosition{offset=64, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[kafka:9092 (id: 1 rack: null)], epoch=0}}
24-06-07.23:30:40.021 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: partitions assigned: [matthew-topic-0]
24-06-07.23:31:06.214 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"82527535330","timestamp":1717774237325}
24-06-07.23:31:06.220 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"68293623828","timestamp":1717774237468}
24-06-07.23:31:06.224 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"94330915113","timestamp":1717774237479}
24-06-07.23:31:06.227 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"48911192660","timestamp":1717774237488}
24-06-07.23:31:06.230 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"39270807655","timestamp":1717774237496}
24-06-07.23:31:06.232 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"49169096669","timestamp":1717774237518}
24-06-07.23:31:06.235 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"03517206585","timestamp":1717774237526}
24-06-07.23:31:06.239 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"83074162939","timestamp":1717774237536}
24-06-07.23:31:06.243 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"03937459457","timestamp":1717774237553}
24-06-07.23:31:06.243 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Member consumer-matthew-group-2-cc574501-f3ee-41c1-8c5a-8548df1db237 sending LeaveGroup request to coordinator kafka:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
24-06-07.23:31:06.243 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:31:06.243 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:31:06.243 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.23:31:06.247 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:31:06.247 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:31:06.248 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.23:31:06.248 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.23:31:06.248 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.23:31:06.249 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"13184449472","timestamp":1717774237572}
24-06-07.23:31:06.253 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"59890655397","timestamp":1717774237594}
24-06-07.23:31:06.254 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-2 unregistered
24-06-07.23:31:06.255 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.23:31:06.257 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"38029548997","timestamp":1717774237617}
24-06-07.23:31:06.259 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"08151042285","timestamp":1717774237640}
24-06-07.23:31:06.261 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"45125242775","timestamp":1717774237659}
24-06-07.23:31:06.265 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"67013252644","timestamp":1717774237676}
24-06-07.23:31:06.269 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"53458498698","timestamp":1717774237693}
24-06-07.23:31:06.273 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"61343382430","timestamp":1717774237713}
24-06-07.23:31:06.277 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"88949399398","timestamp":1717774237741}
24-06-07.23:31:06.280 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"65396140150","timestamp":1717774237766}
24-06-07.23:31:06.284 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":9011,"id":"01727473492","timestamp":1717774237795}
24-06-07.23:31:06.286 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ActivitySkuStockConsumeMessageListener - Kafka消费成功! Topic:matthew-topic,Message:{"data":{"activityId":100301,"sku":9011},"id":"80262311121","timestamp":1717774237800}
24-06-07.23:31:06.286 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Revoke previously assigned partitions matthew-topic-0
24-06-07.23:31:06.287 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: partitions revoked: [matthew-topic-0]
24-06-07.23:31:06.287 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Member consumer-matthew-group-1-b4e6dece-af62-4c9f-b88d-b42b50a173f9 sending LeaveGroup request to coordinator kafka:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
24-06-07.23:31:06.287 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:31:06.287 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:31:06.287 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Unsubscribed all topics or patterns and assigned partitions
24-06-07.23:31:06.287 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting generation due to: consumer pro-actively leaving the group
24-06-07.23:31:06.288 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: consumer pro-actively leaving the group
24-06-07.23:31:06.289 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics scheduler closed
24-06-07.23:31:06.289 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.23:31:06.289 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metrics                - Metrics reporters closed
24-06-07.23:31:06.293 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  AppInfoParser          - App info kafka.consumer for consumer-matthew-group-1 unregistered
24-06-07.23:31:06.293 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: Consumer stopped
24-06-07.23:31:06.299 [SpringApplicationShutdownHook] INFO  KafkaProducer          - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
24-06-07.23:31:06.302 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics scheduler closed
24-06-07.23:31:06.302 [SpringApplicationShutdownHook] INFO  Metrics                - Closing reporter org.apache.kafka.common.metrics.JmxReporter
24-06-07.23:31:06.302 [SpringApplicationShutdownHook] INFO  Metrics                - Metrics reporters closed
24-06-07.23:31:06.302 [SpringApplicationShutdownHook] INFO  AppInfoParser          - App info kafka.producer for producer-1 unregistered
24-06-07.23:31:43.448 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_402 on MacBook-Air.local with PID 55928 (started by matthew in /Users/matthew/Desktop/lottery/lottery-app)
24-06-07.23:31:43.472 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-06-07.23:31:44.361 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-06-07.23:31:44.364 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-06-07.23:31:44.397 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
24-06-07.23:31:45.741 [main            ] INFO  Version                - Redisson 3.26.0
24-06-07.23:31:45.797 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-06-07.23:31:45.936 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.23:31:45.946 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-06-07.23:31:47.167 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-06-07.23:31:47.249 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.23:31:47.327 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.23:31:47.328 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.23:31:47.328 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717774307327
24-06-07.23:31:47.340 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.23:31:47.350 [main            ] INFO  ConsumerConfig         - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 1000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-matthew-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = matthew-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

24-06-07.23:31:47.355 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.23:31:47.356 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.23:31:47.356 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717774307355
24-06-07.23:31:47.365 [main            ] INFO  KafkaConsumer          - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Subscribed to topic(s): matthew-topic
24-06-07.23:31:47.384 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 4.329 seconds (JVM running for 5.159)
24-06-07.23:31:47.636 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.23:31:47.741 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.23:31:47.741 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.23:31:47.743 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.23:31:47.743 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  Metadata               - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.23:31:47.744 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.23:31:47.744 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Discovered group coordinator kafka:9092 (id: 2147483646 rack: null)
24-06-07.23:31:47.748 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.23:31:47.748 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.23:31:47.770 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Request joining group due to: need to re-join with the given member-id
24-06-07.23:31:47.770 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] (Re-)joining group
24-06-07.23:31:47.771 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Request joining group due to: need to re-join with the given member-id
24-06-07.23:31:47.771 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] (Re-)joining group
24-06-07.23:31:47.917 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.23:31:47.950 [main            ] INFO  ActivityRepository     - 预热SKU缓存成功，SKU: 9011 库存总量为: 20
24-06-07.23:31:47.992 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-06-07.23:31:47.994 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 823134209956 sku: 9011 outBusinessNo: 1505242515
24-06-07.23:31:48.174 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.174 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.175 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.180 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.195 [main            ] INFO  ProducerConfig         - Idempotence will be disabled because acks is set to 1, not set to 'all'.
24-06-07.23:31:48.196 [main            ] INFO  ProducerConfig         - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 1
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

24-06-07.23:31:48.225 [main            ] INFO  AppInfoParser          - Kafka version: 3.1.2
24-06-07.23:31:48.225 [main            ] INFO  AppInfoParser          - Kafka commitId: f8c67dc3ae0a3265
24-06-07.23:31:48.225 [main            ] INFO  AppInfoParser          - Kafka startTimeMs: 1717774308225
24-06-07.23:31:48.231 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Cluster ID: eJaca9rYT_ikyV0wtNEGPA
24-06-07.23:31:48.239 [kafka-producer-network-thread | producer-1] INFO  Metadata               - [Producer clientId=producer-1] Resetting the last seen epoch of partition matthew-topic-0 to 0 since the associated topicId changed from null to EDAxDyEwSDCWXg5fa2bdCQ
24-06-07.23:31:48.254 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"45974709970","timestamp":1717774308183}
24-06-07.23:31:48.257 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.23:31:48.274 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.23:31:48.303 [main            ] INFO  RaffleOrderTest        - 测试结果：699831278201
24-06-07.23:31:48.303 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 141545727476 sku: 9011 outBusinessNo: 16315871
24-06-07.23:31:48.306 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.306 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.306 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.307 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.308 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"91187954698","timestamp":1717774308307}
24-06-07.23:31:48.308 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-06-07.23:31:48.320 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-06-07.23:31:48.328 [main            ] INFO  RaffleOrderTest        - 测试结果：015050958237
24-06-07.23:31:48.328 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 622779207448 sku: 9011 outBusinessNo: 1951233756
24-06-07.23:31:48.331 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.331 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.331 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.332 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.332 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"51902517006","timestamp":1717774308332}
24-06-07.23:31:48.338 [main            ] INFO  RaffleOrderTest        - 测试结果：406762485559
24-06-07.23:31:48.338 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 062005751198 sku: 9011 outBusinessNo: 1-1485349272
24-06-07.23:31:48.341 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.341 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.341 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.342 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.342 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"91039434907","timestamp":1717774308342}
24-06-07.23:31:48.349 [main            ] INFO  RaffleOrderTest        - 测试结果：012394273550
24-06-07.23:31:48.349 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 950863209873 sku: 9011 outBusinessNo: 1-1733888880
24-06-07.23:31:48.352 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.352 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.352 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.354 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.354 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"63575981332","timestamp":1717774308354}
24-06-07.23:31:48.363 [main            ] INFO  RaffleOrderTest        - 测试结果：910579831816
24-06-07.23:31:48.363 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 524607906836 sku: 9011 outBusinessNo: 1-1539571263
24-06-07.23:31:48.367 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.367 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.367 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.368 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.369 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"87330925079","timestamp":1717774308368}
24-06-07.23:31:48.376 [main            ] INFO  RaffleOrderTest        - 测试结果：592896840271
24-06-07.23:31:48.376 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 396475539568 sku: 9011 outBusinessNo: 1-1788875524
24-06-07.23:31:48.380 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.380 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.380 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.381 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.382 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"94657527585","timestamp":1717774308381}
24-06-07.23:31:48.392 [main            ] INFO  RaffleOrderTest        - 测试结果：006282355593
24-06-07.23:31:48.393 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 681112950827 sku: 9011 outBusinessNo: 11473556080
24-06-07.23:31:48.400 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.400 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.400 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.405 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.405 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"20443037785","timestamp":1717774308405}
24-06-07.23:31:48.428 [main            ] INFO  RaffleOrderTest        - 测试结果：417798941090
24-06-07.23:31:48.428 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 262739169011 sku: 9011 outBusinessNo: 1-2088113799
24-06-07.23:31:48.445 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.445 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.445 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.448 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.449 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"38017135700","timestamp":1717774308449}
24-06-07.23:31:48.464 [main            ] INFO  RaffleOrderTest        - 测试结果：198402964222
24-06-07.23:31:48.464 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 523183881090 sku: 9011 outBusinessNo: 11482586812
24-06-07.23:31:48.471 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.471 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.471 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.476 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.476 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"31865488146","timestamp":1717774308476}
24-06-07.23:31:48.498 [main            ] INFO  RaffleOrderTest        - 测试结果：908265577954
24-06-07.23:31:48.498 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 631075577232 sku: 9011 outBusinessNo: 1-1680378570
24-06-07.23:31:48.502 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.502 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.502 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.504 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.505 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"94148025502","timestamp":1717774308505}
24-06-07.23:31:48.516 [main            ] INFO  RaffleOrderTest        - 测试结果：627699923218
24-06-07.23:31:48.516 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 499688987167 sku: 9011 outBusinessNo: 11222933194
24-06-07.23:31:48.522 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.523 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.523 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.527 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.527 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"99273173842","timestamp":1717774308527}
24-06-07.23:31:48.540 [main            ] INFO  RaffleOrderTest        - 测试结果：340617345743
24-06-07.23:31:48.540 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 582046370947 sku: 9011 outBusinessNo: 11037696330
24-06-07.23:31:48.545 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.545 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.545 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.547 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.548 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"40095072682","timestamp":1717774308547}
24-06-07.23:31:48.559 [main            ] INFO  RaffleOrderTest        - 测试结果：438055535679
24-06-07.23:31:48.560 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 230258297966 sku: 9011 outBusinessNo: 1-39208158
24-06-07.23:31:48.575 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.575 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.575 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.580 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.581 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"76404243376","timestamp":1717774308580}
24-06-07.23:31:48.591 [main            ] INFO  RaffleOrderTest        - 测试结果：284063153340
24-06-07.23:31:48.591 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 229275134229 sku: 9011 outBusinessNo: 1578976354
24-06-07.23:31:48.598 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.598 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.598 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.603 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.603 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"41374618103","timestamp":1717774308603}
24-06-07.23:31:48.620 [main            ] INFO  RaffleOrderTest        - 测试结果：059842949914
24-06-07.23:31:48.620 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 136823074594 sku: 9011 outBusinessNo: 1147305408
24-06-07.23:31:48.626 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.626 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.626 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.628 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.628 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"47390983852","timestamp":1717774308628}
24-06-07.23:31:48.642 [main            ] INFO  RaffleOrderTest        - 测试结果：498467462848
24-06-07.23:31:48.643 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 624730395784 sku: 9011 outBusinessNo: 1594838236
24-06-07.23:31:48.650 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.651 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.651 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.654 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.654 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"32623008578","timestamp":1717774308654}
24-06-07.23:31:48.677 [main            ] INFO  RaffleOrderTest        - 测试结果：306361539490
24-06-07.23:31:48.677 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 285965440424 sku: 9011 outBusinessNo: 1549333368
24-06-07.23:31:48.685 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.686 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.686 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.690 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.690 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"37841440789","timestamp":1717774308690}
24-06-07.23:31:48.701 [main            ] INFO  RaffleOrderTest        - 测试结果：582547971487
24-06-07.23:31:48.701 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 676441079364 sku: 9011 outBusinessNo: 12035714607
24-06-07.23:31:48.704 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.704 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.705 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.706 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.706 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"43751897676","timestamp":1717774308706}
24-06-07.23:31:48.715 [main            ] INFO  RaffleOrderTest        - 测试结果：586630579773
24-06-07.23:31:48.715 [main            ] INFO  AbstractRaffleActivity - 创建充值订单，userId: 800745469883 sku: 9011 outBusinessNo: 1-997536227
24-06-07.23:31:48.718 [main            ] INFO  AbstractRaffleActivity - 创建充值订单 SKU 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":20,"stockCountSurplus":20} {"activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2036052910000,"state":"open","strategyId":100006} {"activityCountId":11101,"dayCount":100,"monthCount":100,"totalCount":100}
24-06-07.23:31:48.718 [main            ] INFO  ActivityBaseChainNode  - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-06-07.23:31:48.718 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-06-07.23:31:48.720 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":9011,"id":"54220054138","timestamp":1717774308719}
24-06-07.23:31:48.721 [main            ] INFO  ActivitySkuStockActionChainNode - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-06-07.23:31:48.722 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:matthew-topic message:{"data":{"activityId":100301,"sku":9011},"id":"38016911811","timestamp":1717774308722}
24-06-07.23:31:48.727 [main            ] INFO  RaffleOrderTest        - 测试结果：769403805695
24-06-07.23:31:50.780 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Successfully joined group with generation Generation{generationId=11, memberId='consumer-matthew-group-1-62405b61-614d-4719-8ae9-5e463ef3203c', protocol='range'}
24-06-07.23:31:50.780 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Successfully joined group with generation Generation{generationId=11, memberId='consumer-matthew-group-2-f908384a-2c88-454f-a69d-b39b60656559', protocol='range'}
24-06-07.23:31:50.787 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Finished assignment for group at generation 11: {consumer-matthew-group-2-f908384a-2c88-454f-a69d-b39b60656559=Assignment(partitions=[]), consumer-matthew-group-1-62405b61-614d-4719-8ae9-5e463ef3203c=Assignment(partitions=[matthew-topic-0])}
24-06-07.23:31:50.800 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Successfully synced group in generation Generation{generationId=11, memberId='consumer-matthew-group-1-62405b61-614d-4719-8ae9-5e463ef3203c', protocol='range'}
24-06-07.23:31:50.800 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Successfully synced group in generation Generation{generationId=11, memberId='consumer-matthew-group-2-f908384a-2c88-454f-a69d-b39b60656559', protocol='range'}
24-06-07.23:31:50.801 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Notifying assignor about the new Assignment(partitions=[matthew-topic-0])
24-06-07.23:31:50.801 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Notifying assignor about the new Assignment(partitions=[])
24-06-07.23:31:50.801 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-2, groupId=matthew-group] Adding newly assigned partitions: 
24-06-07.23:31:50.802 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: partitions assigned: []
24-06-07.23:31:50.805 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Adding newly assigned partitions: matthew-topic-0
24-06-07.23:31:50.814 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  ConsumerCoordinator    - [Consumer clientId=consumer-matthew-group-1, groupId=matthew-group] Setting offset for partition matthew-topic-0 to the committed offset FetchPosition{offset=85, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[kafka:9092 (id: 1 rack: null)], epoch=0}}
24-06-07.23:31:50.814 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  KafkaMessageListenerContainer - matthew-group: partitions assigned: [matthew-topic-0]
